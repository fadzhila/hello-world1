<?xml version="1.0" encoding="utf-8"?>
<dataControllerCollection xmlns="urn:schemas-codeontime-com:data-aquarium" snapshot="true">
  <dataController name="BloodTestType" conflictDetection="overwriteChanges" label="Blood Test Type" nativeSchema="dbo" nativeTableName="BloodTestType">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"BloodTestType"."BloodTestTypePK" "BloodTestTypePK"
	,"BloodTestType"."Description" "Description"
	,"BloodTestType"."Price" "Price"
	,"BloodTestType"."BloodTestCode" "BloodTestCode"
from "dbo"."BloodTestType" "BloodTestType"
]]></text>
      </command>
      <command id="BloodTestTypePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="BloodTestTypePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="BloodTestTypePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Blood Test Type PK" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
      <field name="Price" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Price" showInSummary="true" />
      <field name="BloodTestCode" type="String" allowNulls="false" default="('')" label="Blood Test Code" length="5" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Blood Test Type">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Description" columns="50" />
          <dataField fieldName="BloodTestCode" columns="5" />
          <dataField fieldName="Price" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Blood Test Type" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Blood Test Type">
            <description />
            <dataFields>
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="BloodTestCode" columns="5" />
              <dataField fieldName="Price" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Blood Test Type" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Blood Test Type">
            <description />
            <dataFields>
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="BloodTestCode" columns="5" />
              <dataField fieldName="Price" columns="15">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="City" conflictDetection="overwriteChanges" label="City" nativeSchema="dbo" nativeTableName="City">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"City"."CityPK" "CityPK"
	,"City"."CityCode" "CityCode"
	,"City"."Description" "Description"
from "dbo"."City" "City"
]]></text>
      </command>
      <command id="CityPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="CityPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="CityPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="City PK" readOnly="true" />
      <field name="CityCode" type="String" allowNulls="false" label="City Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="City">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="CityCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review City" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="City">
            <description />
            <dataFields>
              <dataField fieldName="CityCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New City" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New City">
            <description />
            <dataFields>
              <dataField fieldName="CityCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Country" conflictDetection="overwriteChanges" label="Country" nativeSchema="dbo" nativeTableName="Country">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Country"."CountryPK" "CountryPK"
	,"Country"."CountryCode" "CountryCode"
	,"Country"."Description" "Description"
from "dbo"."Country" "Country"
]]></text>
      </command>
      <command id="CountryPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="CountryPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="CountryPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Country PK" readOnly="true" />
      <field name="CountryCode" type="String" allowNulls="false" default="('')" label="Country Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Country">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="CountryCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Country" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Country">
            <description />
            <dataFields>
              <dataField fieldName="CountryCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Country" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Country">
            <description />
            <dataFields>
              <dataField fieldName="CountryCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="DebtPayment" conflictDetection="overwriteChanges" label="Debt Payment" nativeSchema="dbo" nativeTableName="DebtPayment">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"DebtPayment"."DebtpPK" "DebtpPK"
	,"DebtPayment"."PatientFK" "PatientFK"
	,"PatientFK"."Name" "PatientfkName"
	,"PatientFK"."NoNRIC" "PatientfkNonric"
	,"DebtPayment"."DateTransaction" "DateTransaction"
	,"DebtPayment"."ExpenseTypeFK" "ExpenseTypeFK"
	,"ExpenseTypeFK"."Description" "ExpenseTypeFkdescription"
	,"DebtPayment"."Amount" "Amount"
	,"DebtPayment"."DebtpStatus" "DebtpStatus"
	,"DebtPayment"."UserCreated" "UserCreated"
	,"DebtPayment"."DateCreated" "DateCreated"
	,"DebtPayment"."UserModified" "UserModified"
	,"DebtPayment"."DateModified" "DateModified"
from "dbo"."DebtPayment" "DebtPayment"
	left join "dbo"."Patient" "PatientFK" on "DebtPayment"."PatientFK" = "PatientFK"."PatientPK"
	left join "dbo"."ExpenseType" "ExpenseTypeFK" on "DebtPayment"."ExpenseTypeFK" = "ExpenseTypeFK"."ExpenseTypePK"
]]></text>
      </command>
      <command id="DebtpPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DebtpPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DebtpPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Debtp PK" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" default="((0))" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" copy="PatientfkNonric=NoNric" />
      </field>
      <field name="PatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="PatientfkNonric" type="String" readOnly="true" label="New IC#" length="15" />
      <field name="DateTransaction" type="DateTime" label="Date Transaction" showInSummary="true" maskType="Date" mask="dd/MM/yyyy" dataFormatString="dd/MM/yyyy" />
      <field name="ExpenseTypeFK" type="Int32" allowNulls="false" default="((0))" label="Expense Type FK" showInSummary="true">
        <items style="Lookup" dataController="ExpenseType" newDataView="createForm1" dataValueField="ExpenseTypePK" dataTextField="Description" />
      </field>
      <field name="ExpenseTypeFkdescription" type="String" readOnly="true" label="Expenses Type" length="50" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Amount" showInSummary="true" />
      <field name="DebtpStatus" type="String" allowNulls="false" default="('')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="S" text="Pending Payment" />
          <item value="P" text="Paid" />
        </items>
      </field>
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Debt Payment" filter="@ContextFields_ExistingPatientFk is null or DebtpPK in &#xD;&#xA;(&#xD;&#xA;select DebtpPK from DebtPayment &#xD;&#xA;where PatientFK = @ContextFields_ExistingPatientFk&#xD;&#xA;and DebtpPK not in (select DebtpFK from DebtPaymentRel)&#xD;&#xA;)">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
          <dataField fieldName="PatientfkNonric" columns="15" />
          <dataField fieldName="DateTransaction" columns="10" />
          <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="DebtpStatus" columns="10">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Debt Payment">
        <headerText />
        <categories>
          <category id="c1" headerText="Debt Payment">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="PatientfkNonric" columns="15" />
              <dataField fieldName="DateTransaction" columns="10" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="DebtpStatus" columns="1" />
            </dataFields>
          </category>
          <category headerText="Audit" tab="Audit" id="c2">
            <dataFields>
              <dataField fieldName="UserCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="UserModified" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateModified" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Debt Payment">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Debt Payment">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="PatientfkNonric" columns="15" />
              <dataField fieldName="DateTransaction" columns="10" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="DebtpStatus" columns="1" />
              <dataField fieldName="UserCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="UserModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateModified" columns="20" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateCreated = GETDATE()
SET @UserCreated = @BusinessRules_UserName</rule>
      <rule id="r101" commandName="Update" type="Sql" phase="Execute">SET @DateModified = GETDATE()
SET @UserModified = @BusinessRules_UserName</rule>
    </businessRules>
  </dataController>
  <dataController name="DebtPaymentHdr" conflictDetection="overwriteChanges" label="Debt Payment Hdr" nativeSchema="dbo" nativeTableName="DebtPaymentHdr">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"DebtPaymentHdr"."DebtphPk" "DebtphPK"
	,"DebtPaymentHdr"."PatientFK" "PatientFK"
	,"Patient"."Name" "PatientName"
	,"DebtPaymentHdr"."DebtphStatus" "DebtphStatus"
	,"DebtPaymentHdr"."DebtphDate" "DebtphDate"
	,"DebtPaymentHdr"."UserCreated" "UserCreated"
	,"DebtPaymentHdr"."DateCreated" "DateCreated"
	,"DebtPaymentHdr"."UserModified" "UserModified"
	,"DebtPaymentHdr"."DateModified" "DateModified"
	,"DebtPaymentHdr"."SuratRujukan" "SuratRujukan"
from "dbo"."DebtPaymentHdr" "DebtPaymentHdr"
	left join "dbo"."Patient" "Patient" on "DebtPaymentHdr"."PatientFK" = "Patient"."PatientPK"
]]></text>
      </command>
      <command id="DebtphPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DebtphPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DebtphPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Debtph Pk" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" default="((0))" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="PatientName" type="String" readOnly="true" label="Patient Name" length="100" />
      <field name="DebtphStatus" type="String" allowNulls="false" default="('')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="S" text="Pending Payment" />
          <item value="P" text="Paid" />
        </items>
      </field>
      <field name="DebtphDate" type="Date" dataFormatString="dd/MM/yyyy" label="Date" showInSummary="true" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" showInSummary="true" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" showInSummary="true" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="SuratRujukan" type="String" allowNulls="false" default="('-')" label="Letter Reference #" length="50" />
      <field name="DebtPaymentRel" type="DataView" label="Debt Payment Rel">
        <dataView controller="DebtPaymentRel" filterFields="DebtphFK" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Debt Payment Hdr">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
          <dataField fieldName="DebtphStatus" columns="15">
          </dataField>
          <dataField fieldName="DebtphDate" columns="20" />
          <dataField fieldName="SuratRujukan" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Debt Payment">
        <headerText />
        <categories>
          <category id="c1" headerText="Debt Payment Hdr">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
              <dataField fieldName="DebtphStatus" columns="1" />
              <dataField fieldName="DebtphDate" columns="20" />
              <dataField fieldName="SuratRujukan" columns="50" />
              <dataField fieldName="DebtPaymentRel" columns="15" />
            </dataFields>
          </category>
          <category headerText="Audit" tab="Audit" id="c2">
            <dataFields>
              <dataField fieldName="UserCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="UserModified" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateModified" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="Debt Payment">
        <headerText />
        <categories>
          <category id="c1" headerText="New Debt Payment Hdr">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
              <dataField fieldName="DebtphStatus" columns="1" />
              <dataField fieldName="DebtphDate" columns="20" />
              <dataField fieldName="UserCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="UserModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="SuratRujukan" columns="50" />
              <dataField fieldName="DebtPaymentRel" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
        <action commandName="Report" headerText="Claim Letter" id="a101">
          <data>_controller=VwSuratTuntutanTunggakan
_view=editForm1 
_template=VwSuratTuntutanTunggakan_SuratTuntutan.rdlc
_sortExpression=DateTransaction
DebtphPK=DebtphPK</data>
        </action>
        <action commandName="Report" headerText="Print Receipt" id="a100">
          <data>_controller=VwReceiptIndDebtPrint
_view=editForm1 
_template=VwReceiptIndDebtPrint_ReceiptIndDebtRpt.rdlc
_sortExpression=DateTransaction
DebtphPK=DebtphPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateCreated = GETDATE()
SET @UserCreated = @BusinessRules_UserName</rule>
      <rule id="r101" commandName="Update" type="Sql" phase="Execute">SET @DateModified = GETDATE()
SET @UserModified = @BusinessRules_UserName</rule>
    </businessRules>
  </dataController>
  <dataController name="DebtPaymentRel" conflictDetection="overwriteChanges" label="Debt Payment Rel" nativeSchema="dbo" nativeTableName="DebtPaymentRel">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"DebtPaymentRel"."DebtphFk" "DebtphFK"
	,"DebtphFk"."DebtphStatus" "DebtphFKDebtphStatus"
	,"DebtphFk"."PatientFK" "DebtphFkPatientFK"
	,"DebtPaymentRel"."DebtpFK" "DebtpFK"
	,"DebtpFK"."DebtpStatus" "DebtpFkdebtpStatus"
	,"DebtpFK"."DateTransaction" "DebtpfkDatetransaction"
	,"DebtpFK"."Amount" "DebtpfkAmount"
	,"DebtpFKExpenseTypeFK"."Description" "DebtpFkexpenseTypeFkdescription"
	,"DebtphFkPatientFK"."Name" "DebtphfkpatientfkName"
from "dbo"."DebtPaymentRel" "DebtPaymentRel"
	left join "dbo"."DebtPaymentHdr" "DebtphFk" on "DebtPaymentRel"."DebtphFk" = "DebtphFk"."DebtphPk"
	left join "dbo"."Patient" "DebtphFkPatientFK" on "DebtphFk"."PatientFK" = "DebtphFkPatientFK"."PatientPK"
	left join "dbo"."DebtPayment" "DebtpFK" on "DebtPaymentRel"."DebtpFK" = "DebtpFK"."DebtpPK"
	left join "dbo"."ExpenseType" "DebtpFKExpenseTypeFK" on "DebtpFK"."ExpenseTypeFK" = "DebtpFKExpenseTypeFK"."ExpenseTypePK"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="DebtphFK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Debtph Fk" showInSummary="true">
        <items style="Lookup" dataController="DebtPaymentHdr" newDataView="createForm1" dataValueField="DebtphPK" dataTextField="DebtphStatus" copy="DebtphFkPatientFK=PatientFK, DebtphfkpatientfkName=PatientName" />
      </field>
      <field name="DebtphFKDebtphStatus" type="String" readOnly="true" label="Debtph Fk Debtph Status" length="1" />
      <field name="DebtphFkPatientFK" type="Int32" readOnly="true" label="Debtph Fk Patient FK" />
      <field name="DebtpFK" type="Int32" allowNulls="false" label="Debtp FK" showInSummary="true" contextFields="ExistingPatientFk=DebtphFkPatientFK">
        <items style="Lookup" dataController="DebtPayment" newDataView="createForm1" dataValueField="DebtpPK" dataTextField="DateTransaction" copy="DebtpFkdebtpStatus=DebtpStatus, DebtpfkAmount=Amount, DebtpFkexpenseTypeFkdescription=ExpenseTypeFkdescription" />
      </field>
      <field name="DebtpFkdebtpStatus" type="String" readOnly="true" label="Debtp FK Debtp Status" length="1" />
      <field name="DebtpfkDatetransaction" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Date Transaction" />
      <field name="DebtpfkAmount" type="Decimal" readOnly="true" dataFormatString="c" label="Amount" />
      <field name="DebtpFkexpenseTypeFkdescription" type="String" readOnly="true" label="Expense Type" length="50" />
      <field name="DebtphfkpatientfkName" type="String" readOnly="true" label="Debtphfkpatientfk Name" length="100" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Debt Payment Rel">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="DebtpFK" aliasFieldName="DebtpfkDatetransaction" />
          <dataField fieldName="DebtpFkexpenseTypeFkdescription" columns="50" />
          <dataField fieldName="DebtpfkAmount" columns="15" />
          <dataField fieldName="DebtphFK" aliasFieldName="DebtphFKDebtphStatus" />
          <dataField fieldName="DebtphFkPatientFK" columns="15" />
          <dataField fieldName="DebtpFkdebtpStatus" columns="1" hidden="true">
          </dataField>
          <dataField fieldName="DebtphfkpatientfkName" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Debt Payment Rel">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Debt Payment Rel">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="DebtphFK" aliasFieldName="DebtphFKDebtphStatus" />
              <dataField fieldName="DebtphFkPatientFK" columns="15" />
              <dataField fieldName="DebtpFK" aliasFieldName="DebtpfkDatetransaction" />
              <dataField fieldName="DebtpfkAmount" columns="15" />
              <dataField fieldName="DebtpFkexpenseTypeFkdescription" columns="50" />
              <dataField fieldName="DebtphfkpatientfkName" />
              <dataField fieldName="DebtpFkdebtpStatus" columns="1" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Debt Payment Rel">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Debt Payment Rel">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="DebtphFK" aliasFieldName="DebtphFKDebtphStatus" />
              <dataField fieldName="DebtphFkPatientFK" columns="15" />
              <dataField fieldName="DebtpFK" aliasFieldName="DebtpfkDatetransaction" />
              <dataField fieldName="DebtpfkAmount" columns="15" />
              <dataField fieldName="DebtpFkexpenseTypeFkdescription" columns="50" />
              <dataField fieldName="DebtphfkpatientfkName" />
              <dataField fieldName="DebtpFkdebtpStatus" columns="1" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Debts" conflictDetection="overwriteChanges" label="Debts" nativeSchema="dbo" nativeTableName="Debts">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Debts"."DebtPk" "DebtPK"
	,"Debts"."PatientFk" "PatientFK"
	,"PatientFk"."Name" "PatientFkName"
	,"Debts"."TreatmentFk" "TreatmentFK"
	,"TreatmentFk"."DateTreatment" "TreatmentFkDateTreatment"
	,"Debts"."Amount" "Amount"
	,"Debts"."ExpensesTypeFk" "ExpensesTypeFk"
	,"ExpensesType"."Description" "ExpensesTypeDescription"
from "dbo"."Debts" "Debts"
	left join "dbo"."Patient" "PatientFk" on "Debts"."PatientFk" = "PatientFk"."PatientPK"
	left join "dbo"."Treatment" "TreatmentFk" on "Debts"."TreatmentFk" = "TreatmentFk"."TreatmentPK"
	left join "dbo"."ExpenseType" "ExpensesType" on "Debts"."ExpensesTypeFk" = "ExpensesType"."ExpenseTypePK"
]]></text>
      </command>
      <command id="DebtPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DebtPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DebtPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Debt Pk" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient Fk" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="PatientFkName" type="String" readOnly="true" label="Patient Fk Name" length="100" />
      <field name="TreatmentFK" type="Int32" label="Treatment Fk" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" />
      </field>
      <field name="TreatmentFkDateTreatment" type="Date" readOnly="true" dataFormatString="dd/MM/yyyy" label="Date Treatment" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" showInSummary="true" />
      <field name="ExpensesTypeFk" type="Int32" allowNulls="false" label="Expenses Type Fk" showInSummary="true">
        <items style="Lookup" dataController="ExpenseType" newDataView="createForm1" dataValueField="ExpenseTypePK" dataTextField="Description" />
      </field>
      <field name="ExpensesTypeDescription" type="String" readOnly="true" label="Expenses Type Description" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Debts">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentFkDateTreatment" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="ExpensesTypeFk" aliasFieldName="ExpensesTypeDescription" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Debts">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Debts">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentFkDateTreatment" dataFormatString="dd/MM/yyyy">
              </dataField>
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="ExpensesTypeFk" aliasFieldName="ExpensesTypeDescription" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Debts">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Debts">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentFkDateTreatment" dataFormatString="dd/MM/yyyy">
              </dataField>
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="ExpensesTypeFk" aliasFieldName="ExpensesTypeDescription" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="DialysisCenter" conflictDetection="overwriteChanges" label="Dialysis Center" nativeSchema="dbo" nativeTableName="DialysisCenter">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"DialysisCenter"."DialysisCenterPK" "DialysisCenterPK"
	,"DialysisCenter"."Code" "Code"
	,"DialysisCenter"."Name" "Name"
	,"DialysisCenter"."Address" "Address"
	,"DialysisCenter"."PostCode" "PostCode"
	,"DialysisCenter"."ContactName" "ContactName"
	,"DialysisCenter"."ContactPosition" "ContactPosition"
	,"DialysisCenter"."ContactTelNo" "ContactTelNo"
	,"DialysisCenter"."ContactFaxNo" "ContactFaxNo"
	,"DialysisCenter"."ContactEmail" "ContactEmail"
	,"DialysisCenter"."UserCreated" "UserCreated"
	,"DialysisCenter"."DateCreated" "DateCreated"
	,"DialysisCenter"."UserModified" "UserModified"
	,"DialysisCenter"."DateModified" "DateModified"
	,"DialysisCenter"."City" "City"
	,"City"."Description" "CityDescription"
	,"DialysisCenter"."State" "State"
	,"State"."Description" "StateDescription"
	,"DialysisCenter"."Country" "Country"
	,"Country"."Description" "CountryDescription"
from "dbo"."DialysisCenter" "DialysisCenter"
	left join "dbo"."City" "City" on "DialysisCenter"."City" = "City"."CityPK"
	left join "dbo"."State" "State" on "DialysisCenter"."State" = "State"."StatePK"
	left join "dbo"."Country" "Country" on "DialysisCenter"."Country" = "Country"."CountryPK"
]]></text>
      </command>
      <command id="DialysisCenterPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DialysisCenterPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DialysisCenterPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Dialysis Center PK" readOnly="true" />
      <field name="Code" type="String" allowNulls="false" label="Code" length="10" showInSummary="true" />
      <field name="Name" type="String" allowNulls="false" label="Center Name" length="100" showInSummary="true" />
      <field name="Address" type="String" allowNulls="false" label="Address" length="100" showInSummary="true" />
      <field name="PostCode" type="String" allowNulls="false" label="Post Code" length="15" showInSummary="true" />
      <field name="ContactName" type="String" allowNulls="false" label="Contact Name" length="100" showInSummary="true" />
      <field name="ContactPosition" type="String" allowNulls="false" label="Contact Position" length="100" />
      <field name="ContactTelNo" type="String" allowNulls="false" label="Contact Tel No" length="15" />
      <field name="ContactFaxNo" type="String" allowNulls="false" label="Contact Fax No" length="15" />
      <field name="ContactEmail" type="String" allowNulls="false" label="Contact Email" length="100" />
      <field name="UserCreated" type="String" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="City" type="Int32" allowNulls="false" label="City">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="Description" />
      </field>
      <field name="CityDescription" type="String" readOnly="true" label="City" length="50" />
      <field name="State" type="Int32" allowNulls="false" label="State">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="Description" />
      </field>
      <field name="StateDescription" type="String" readOnly="true" label="State" length="50" />
      <field name="Country" type="Int32" allowNulls="false" label="Country">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="Description" />
      </field>
      <field name="CountryDescription" type="String" readOnly="true" label="Country" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Dialysis Center">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Code" columns="10" />
          <dataField fieldName="Name" />
          <dataField fieldName="Address" />
          <dataField fieldName="PostCode" columns="15" />
          <dataField fieldName="ContactName" />
          <dataField fieldName="ContactPosition" />
          <dataField fieldName="ContactTelNo" columns="15" />
          <dataField fieldName="ContactFaxNo" columns="15" />
          <dataField fieldName="ContactEmail" />
          <dataField fieldName="UserCreated" columns="20" />
          <dataField fieldName="DateCreated" columns="20" />
          <dataField fieldName="UserModified" columns="20" />
          <dataField fieldName="DateModified" columns="20" />
          <dataField fieldName="City" aliasFieldName="CityDescription" />
          <dataField fieldName="State" aliasFieldName="StateDescription" />
          <dataField fieldName="Country" aliasFieldName="CountryDescription" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Dialysis Center" tags="material-icon-mode-edit">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Dialysis Center">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Code" columns="10" />
              <dataField fieldName="Name" />
              <dataField fieldName="Address" />
              <dataField fieldName="PostCode" columns="15" />
              <dataField fieldName="ContactName" />
              <dataField fieldName="ContactPosition" />
              <dataField fieldName="ContactTelNo" columns="15" />
              <dataField fieldName="ContactFaxNo" columns="15" />
              <dataField fieldName="ContactEmail" />
              <dataField fieldName="UserCreated" columns="20" />
              <dataField fieldName="DateCreated" columns="20" />
              <dataField fieldName="UserModified" columns="20" />
              <dataField fieldName="DateModified" columns="20" />
              <dataField fieldName="City" aliasFieldName="CityDescription" />
              <dataField fieldName="State" aliasFieldName="StateDescription" />
              <dataField fieldName="Country" aliasFieldName="CountryDescription" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Dialysis Center" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Dialysis Center">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Code" columns="10" />
              <dataField fieldName="Name" />
              <dataField fieldName="Address" />
              <dataField fieldName="PostCode" columns="15" />
              <dataField fieldName="ContactName" />
              <dataField fieldName="ContactPosition" />
              <dataField fieldName="ContactTelNo" columns="15" />
              <dataField fieldName="ContactFaxNo" columns="15" />
              <dataField fieldName="ContactEmail" />
              <dataField fieldName="UserCreated" columns="20" />
              <dataField fieldName="DateCreated" columns="20" />
              <dataField fieldName="UserModified" columns="20" />
              <dataField fieldName="DateModified" columns="20" />
              <dataField fieldName="City" aliasFieldName="CityDescription" />
              <dataField fieldName="State" aliasFieldName="StateDescription" />
              <dataField fieldName="Country" aliasFieldName="CountryDescription" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateCreated = GETDATE()
SET @UserCreated = @BusinessRules_UserName</rule>
      <rule id="r101" commandName="Update" type="Sql" phase="Execute">SET @DateModified = GETDATE()
SET @UserModified = @BusinessRules_UserName</rule>
    </businessRules>
  </dataController>
  <dataController name="DialysisMachine" conflictDetection="overwriteChanges" label="Dialysis Machine" nativeSchema="dbo" nativeTableName="DialysisMachine">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"DialysisMachine"."DialysisMachinePK" "DialysisMachinePK"
	,"DialysisMachine"."MachineCode" "MachineCode"
	,"DialysisMachine"."Description" "Description"
	,"DialysisMachine"."Floor" "Floor"
from "dbo"."DialysisMachine" "DialysisMachine"
]]></text>
      </command>
      <command id="DialysisMachinePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DialysisMachinePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DialysisMachinePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Dialysis Machine PK" readOnly="true" />
      <field name="MachineCode" type="String" allowNulls="false" default="('')" label="Machine Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
      <field name="Floor" type="Int32" allowNulls="false" default="((0))" label="Floor" showInSummary="true">
        <items style="DropDownList">
          <item value="1" text="1" />
          <item value="2" text="2" />
          <item value="3" text="3" />
          <item value="4" text="4" />
          <item value="5" text="5" />
          <item value="6" text="6" />
        </items>
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Dialysis Machine" filter="DialysisMachinePK not in &#xD;&#xA;(&#xD;&#xA;select DialysisMachineFK from ScheduleDtl&#xD;&#xA;where ScheduleHdrFK = @ContextFields_ExistingScheduleHdrFK&#xD;&#xA;and ShiftFK = @ContextFields_SelectedShift&#xD;&#xA;)  ">
        <headerText />
        <dataFields>
          <dataField fieldName="MachineCode" columns="10" />
          <dataField fieldName="Floor" columns="15" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Dialysis Machine" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Dialysis Machine">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="MachineCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="Floor" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Dialysis Machine" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Dialysis Machine">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="MachineCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="Floor" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Administrators" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Administrators" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Administrators" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="DialysisMachine1" conflictDetection="overwriteChanges" label="Dialysis Machine1" nativeSchema="dbo" nativeTableName="DialysisMachine">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"DialysisMachine"."DialysisMachinePK" "DialysisMachinePK"
	,"DialysisMachine"."MachineCode" "MachineCode"
	,"DialysisMachine"."Description" "Description"
from "dbo"."DialysisMachine" "DialysisMachine"
]]></text>
      </command>
      <command id="DialysisMachinePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DialysisMachinePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DialysisMachinePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Dialysis Machine PK" readOnly="true" />
      <field name="MachineCode" type="String" allowNulls="false" default="('')" label="Machine Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Dialysis Machine" filter="DialysisMachinePK not in &#xD;&#xA;(&#xD;&#xA;select DialysisMachineFK from ScheduleDtl&#xD;&#xA;where ScheduleHdrFK = @ContextFields_ExistingScheduleHdrFK&#xD;&#xA;and ShiftFK = @ContextFields_SelectedShift&#xD;&#xA;) AND Floor = @ContextFields_SelectedFloor">
        <headerText />
        <dataFields>
          <dataField fieldName="MachineCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Dialysis Machine1">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Dialysis Machine1">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="MachineCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Dialysis Machine1">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Dialysis Machine1">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="MachineCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Dialyzer" conflictDetection="overwriteChanges" label="Dialyzer" nativeSchema="dbo" nativeTableName="Dialyzer">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Dialyzer"."DialyzerPk" "DialyzerPK"
	,"Dialyzer"."Description" "Description"
from "dbo"."Dialyzer" "Dialyzer"
]]></text>
      </command>
      <command id="DialyzerPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="DialyzerPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="DialyzerPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Dialyzer Pk" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Dialyzer">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Dialyzer">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Dialyzer">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Dialyzer">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Dialyzer">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Expenses" conflictDetection="overwriteChanges" label="Expenses" nativeSchema="dbo" nativeTableName="Expenses">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Expenses"."ExpensesPK" "ExpensesPK"
	,"Expenses"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFK"."Status" "TreatmentfkStatus"
	,"TreatmentFK"."PatientFK" "TreatmentfkPatientfk"
	,"TreatmentFKDialysisMachineFK"."Description" "TreatmentfkdialysismachinefkDescription"
	,"TreatmentFKPatientFK"."Name" "TreatmentfkpatientfkName"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
	,"Expenses"."ExpenseTypeFK" "ExpenseTypeFK"
	,"ExpenseTypeFK"."Description" "ExpenseTypeFkdescription"
	,"Expenses"."ExpenseAmount" "ExpenseAmount"
	,"Expenses"."Quantity" "Quantity"
	,"Expenses"."PaymentType" "PaymentType"
	,"Expenses"."SponsorFK" "SponsorFK"
	,"Sponsor"."SponsorPK" "SponsorPK"
	,"Sponsor"."Code" "SponsorCode"
	,"Sponsor"."Name" "SponsorName"
	,"Expenses"."AmountPaid" "AmountPaid"
from "dbo"."Expenses" "Expenses"
	left join "dbo"."Treatment" "TreatmentFK" on "Expenses"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."DialysisMachine" "TreatmentFKDialysisMachineFK" on "TreatmentFK"."DialysisMachineFK" = "TreatmentFKDialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
	left join "dbo"."ExpenseType" "ExpenseTypeFK" on "Expenses"."ExpenseTypeFK" = "ExpenseTypeFK"."ExpenseTypePK"
	left join "dbo"."Sponsor" "Sponsor" on "Expenses"."SponsorFK" = "Sponsor"."SponsorPK"
]]></text>
      </command>
      <command id="ExpensesPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ExpensesPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ExpensesPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Expenses PK" readOnly="true" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" copy="TreatmentfkStatus=Status, TreatmentfkPatientfk=PatientFK, TreatmentfkdialysismachinefkDescription=DialysismachinefkDescription, TreatmentfkpatientfkName=PatientName, TreatmentFkshiftFkdescription=ShiftFkdescription" />
      </field>
      <field name="TreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Treatment Date" />
      <field name="TreatmentfkStatus" type="String" readOnly="true" label="Treatment Status" length="1" />
      <field name="TreatmentfkPatientfk" type="Int32" readOnly="true" label="Treatmentfk Patientfk" />
      <field name="TreatmentfkdialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="TreatmentfkpatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Treatment Shift" length="50" />
      <field name="ExpenseTypeFK" type="Int32" label="Expense Type FK" showInSummary="true">
        <items style="Lookup" dataController="ExpenseType" newDataView="createForm1" dataValueField="ExpenseTypePK" dataTextField="Description" />
      </field>
      <field name="ExpenseTypeFkdescription" type="String" readOnly="true" label="Expenses Type" length="50" />
      <field name="ExpenseAmount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Expense Amount" showInSummary="true" causesCalculate="true" />
      <field name="Quantity" type="Int32" allowNulls="false" default="((0))" label="Quantity" showInSummary="true" causesCalculate="true" />
      <field name="Total" type="Decimal" readOnly="true" dataFormatString="c" label="Total" computed="true" showInSummary="true" causesCalculate="true">
        <formula>Expenses.ExpenseAmount * Expenses.Quantity</formula>
      </field>
      <field name="PaymentType" type="String" allowNulls="false" default="('')" label="Payment Type" length="1">
        <items style="DropDownList">
          <item value="S" text="SPONSOR" />
          <item value="I" text="INDIVIDUAL" />
        </items>
      </field>
      <field name="SponsorFK" type="Int32" allowNulls="false" default="((0))" label="Sponsor FK">
        <items style="Lookup" dataController="Sponsor" newDataView="createForm1" dataValueField="SponsorPK" dataTextField="Name" copy="SponsorPK=SponsorPK, SponsorCode=Code" />
      </field>
      <field name="SponsorPK" type="Int32" label="Sponsor PK" readOnly="true" />
      <field name="SponsorCode" type="String" readOnly="true" label="Sponsor Code" length="10" />
      <field name="SponsorName" type="String" readOnly="true" label="Sponsor Name" length="100" />
      <field name="AmountPaid" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Paid" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Expenses" tags="view-style-list" filter="@ContextFields_SelectedRecPayPatientFK is null or ExpensesPK in &#xD;&#xA;(&#xD;&#xA;select ExpensesPK from Expenses&#xD;&#xA;inner join Treatment on TreatmentFK = TreatmentPK&#xD;&#xA;where PaymentType = 'I' and PatientFK = @ContextFields_SelectedRecPayPatientFK&#xD;&#xA;and ExpensesPK NOT IN (select ExpensesFk  from ReceiptPaymentDtl)&#xD;&#xA;)">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="TreatmentfkStatus" columns="1" />
          <dataField fieldName="TreatmentfkPatientfk" columns="15" />
          <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
          <dataField fieldName="TreatmentfkpatientfkName" />
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
          <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
          <dataField fieldName="ExpenseAmount" columns="15" />
          <dataField fieldName="Quantity" columns="15" />
          <dataField fieldName="Total" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="PaymentType" columns="10">
          </dataField>
          <dataField fieldName="SponsorFK" aliasFieldName="SponsorName" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Expenses" tags="material-icon-mode-edit">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Expenses">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkStatus" columns="1" />
              <dataField fieldName="TreatmentfkPatientfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="Quantity" columns="15" />
              <dataField fieldName="Total" columns="15" />
              <dataField fieldName="PaymentType" columns="1" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorName">
                <visibility>
                  <expression test="[PaymentType] == 'S'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="SponsorPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="SponsorCode" columns="10" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Expenses" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Expenses">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkStatus" columns="1" />
              <dataField fieldName="TreatmentfkPatientfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="Quantity" columns="15" />
              <dataField fieldName="Total" columns="15" />
              <dataField fieldName="PaymentType" columns="1" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorName">
                <visibility>
                  <expression test="[PaymentType] == 'S'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="SponsorPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="SponsorCode" columns="10" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Administrators, Matron" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Administrators, Matron" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Calculate" type="Sql" phase="Execute">IF @ExpenseAmount IS NULL OR @Quantity IS NULL
  SET @Total = 0
ELSE
  SET @Total = @ExpenseAmount * @Quantity</rule>
    </businessRules>
  </dataController>
  <dataController name="ExpenseType" conflictDetection="overwriteChanges" label="Expense Type" nativeSchema="dbo" nativeTableName="ExpenseType">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ExpenseType"."ExpenseTypePK" "ExpenseTypePK"
	,"ExpenseType"."Description" "Description"
	,"ExpenseType"."ExpenseTypeCode" "ExpenseTypeCode"
	,"ExpenseType"."ExpensePriceType" "ExpensePriceType"
	,"ExpenseType"."ExpensePrice" "ExpensePrice"
from "dbo"."ExpenseType" "ExpenseType"
]]></text>
      </command>
      <command id="ExpenseTypePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ExpenseTypePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ExpenseTypePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Expense Type PK" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
      <field name="ExpenseTypeCode" type="String" allowNulls="false" default="('')" label="Expense Type Code" length="5" showInSummary="true" />
      <field name="ExpensePriceType" type="String" allowNulls="false" default="('')" label="Price Type" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="F" text="Fix" />
          <item value="T" text="Follow Table" />
        </items>
      </field>
      <field name="ExpensePrice" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Expense Price" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Expense Type">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="ExpenseTypeCode" columns="15">
          </dataField>
          <dataField fieldName="Description" columns="50" />
          <dataField fieldName="ExpensePriceType" columns="15">
          </dataField>
          <dataField fieldName="ExpensePrice" columns="15">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Expense Type" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Expense Type">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="ExpenseTypeCode" columns="5" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="ExpensePriceType" columns="1" />
              <dataField fieldName="ExpensePrice" columns="15">
                <visibility>
                  <expression test="[ExpensePriceType] == 'F'" type="ClientScript" />
                </visibility>
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Expense Type" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Expense Type">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="ExpenseTypeCode" columns="5" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="ExpensePriceType" columns="1" />
              <dataField fieldName="ExpensePrice" columns="15">
                <visibility>
                  <expression test="[ExpensePriceType] == 'F'" type="ClientScript" />
                </visibility>
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="InvDetail" conflictDetection="overwriteChanges" label="Inv Detail" nativeSchema="dbo" nativeTableName="InvDetail">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"InvDetail"."InvDetailPK" "InvDetailPK"
	,"InvDetail"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
	,"TreatmentFKPatientFK"."Name" "TreatmentfkpatientfkName"
	,"TreatmentFKPatientFK"."NoNRIC" "TreatmentfkpatientfkNonric"
	,"InvDetail"."Amount" "Amount"
	,"InvDetail"."AmtApprv" "AmtApprv"
from "dbo"."InvDetail" "InvDetail"
	left join "dbo"."Treatment" "TreatmentFK" on "InvDetail"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
]]></text>
      </command>
      <command id="InvDetailPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="InvDetailPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="InvDetailPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Inv Detail PK" readOnly="true" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" copy="TreatmentFkshiftFkdescription=ShiftFkdescription, TreatmentfkpatientfkName=PatientName, " />
      </field>
      <field name="TreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="g" label="Date Treatment" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="TreatmentfkpatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="TreatmentfkpatientfkNonric" type="String" readOnly="true" label="IC#" length="15" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Amount" showInSummary="true" causesCalculate="true" />
      <field name="AmtApprv" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Approve" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Details">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
          <dataField fieldName="TreatmentfkpatientfkName" />
          <dataField fieldName="TreatmentfkpatientfkNonric" columns="15" />
          <dataField fieldName="Amount" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="AmtApprv" columns="15" aggregate="Sum">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Inv Detail" tags="material-icon-mode-edit">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Invoice Detail">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentfkpatientfkNonric" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="AmtApprv" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Inv Detail" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Invoice Detail">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentfkpatientfkNonric" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="AmtApprv" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Invoice" conflictDetection="overwriteChanges" label="Invoice" nativeSchema="dbo" nativeTableName="Invoice">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Invoice"."InvoicePK" "InvoicePK"
	,"Invoice"."SponsorFK" "SponsorFK"
	,"SponsorFK"."Name" "SponsorfkName"
	,"SponsorFK"."ContactName" "SponsorfkContactname"
	,"SponsorFK"."ContactTelNo" "SponsorfkContacttelno"
	,"Invoice"."InvoiceNo" "InvoiceNo"
	,"Invoice"."NoReference" "NoReference"
	,"Invoice"."DateInvoice" "DateInvoice"
	,"Invoice"."DateTreatm1" "DateTreatm1"
	,"Invoice"."DateTreatm2" "DateTreatm2"
from "dbo"."Invoice" "Invoice"
	left join "dbo"."Sponsor" "SponsorFK" on "Invoice"."SponsorFK" = "SponsorFK"."SponsorPK"
]]></text>
      </command>
      <command id="InvoicePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="InvoicePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="InvoicePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Invoice PK" readOnly="true" />
      <field name="SponsorFK" type="Int32" label="Sponsor FK" showInSummary="true">
        <items style="Lookup" dataController="Sponsor" newDataView="createForm1" dataValueField="SponsorPK" dataTextField="Name" copy="SponsorfkContactname=ContactName, SponsorfkContacttelno=ContactTelNo" />
      </field>
      <field name="SponsorfkName" type="String" readOnly="true" label="Sponsor Name" length="100" />
      <field name="SponsorfkContactname" type="String" readOnly="true" label="PIC" length="100" />
      <field name="SponsorfkContacttelno" type="String" readOnly="true" label="Phone#" length="15" />
      <field name="InvoiceNo" type="String" allowNulls="false" default="('')" label="Invoice No" length="20" showInSummary="true" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="20" showInSummary="true" />
      <field name="DateInvoice" type="Date" dataFormatString="dd/MM/yyyy" label="Date Invoice" showInSummary="true" />
      <field name="DateTreatm1" type="Date" dataFormatString="dd/MM/yyyy" label="Date Treatment From" showInSummary="true" />
      <field name="DateTreatm2" type="Date" dataFormatString="dd/MM/yyyy" label="Date Treatment To" />
      <field name="InvoiceDtl" type="DataView" label="Invoice Dtl">
        <dataView controller="InvoiceDtl" filterFields="InvoiceFK" view="grid1" />
      </field>
      <field name="InvoiceDtlSmry" type="DataView" label="Invoice Dtl Smry">
        <dataView controller="InvoiceDtlSmry" filterFields="InvoiceFK" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Invoice">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="SponsorFK" aliasFieldName="SponsorfkName" />
          <dataField fieldName="SponsorfkContactname" />
          <dataField fieldName="SponsorfkContacttelno" columns="15" />
          <dataField fieldName="InvoiceNo" columns="20" />
          <dataField fieldName="NoReference" columns="20" />
          <dataField fieldName="DateInvoice" columns="20" />
          <dataField fieldName="DateTreatm1" columns="20" />
          <dataField fieldName="DateTreatm2" columns="20" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Invoice" tags="material-icon-mode-edit">
        <headerText />
        <categories>
          <category id="c1" headerText="Invoice">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="InvoiceNo" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateInvoice" columns="20" />
              <dataField fieldName="DateTreatm1" columns="20" />
              <dataField fieldName="DateTreatm2" columns="20" />
            </dataFields>
          </category>
          <category headerText="Sponsor" id="c3">
            <dataFields>
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorfkName" />
              <dataField fieldName="SponsorfkContactname" />
              <dataField fieldName="SponsorfkContacttelno" columns="15" />
            </dataFields>
          </category>
          <category headerText="Details Summary" id="c4" tab="Summary" flow="NewRow">
            <dataFields>
              <dataField fieldName="InvoiceDtlSmry" columns="15">
                <dataView autoHighlightFirstRow="true" />
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Invoice" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="Sponsor">
            <description />
            <dataFields>
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorfkName" />
              <dataField fieldName="SponsorfkContactname" />
              <dataField fieldName="SponsorfkContacttelno" columns="15" />
            </dataFields>
          </category>
          <category headerText="Invoice Info." id="c2">
            <dataFields>
              <dataField fieldName="InvoiceDtl" columns="15" />
              <dataField fieldName="InvoiceNo" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateInvoice" columns="20" />
              <dataField fieldName="DateTreatm1" columns="20" />
              <dataField fieldName="DateTreatm2" columns="20" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
        <action commandName="Report" headerText="Detail Invoice" id="a100" cssClass="material-icon-cloud-download">
          <data>_controller=VwInvoicePrint
_view=editForm1 
_template=VwInvoicePrint_InvoicePrint.rdlc 
_sortExpression=InvoicePK
InvoicePK=InvoicePK</data>
        </action>
        <action commandName="Report" headerText="Summary Invoice " id="a102" cssClass="material-icon-cloud-download">
          <data>_controller=VwInvoicePrintSummary
_view=editForm1 
_template=VwInvoicePrintSummary_InvoiceSummaryPrint.rdlc
_sortExpression=patientName
InvoicePK=InvoicePK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Custom" commandArgument="InvDtlGenerate" headerText="Generate Detail" id="a101" />
        <action commandName="Report" headerText="Detail Invoice" id="a100" roles="Nobody">
          <data>_controller=VwInvoicePrint
_view=editForm1 
_template=VwInvoicePrint_InvoicePrint.rdlc 
_sortExpression=InvoicePK
InvoicePK=InvoicePK</data>
        </action>
        <action commandName="Report" headerText="Print" id="a102">
          <data>_controller=VwInvoicePrintSummary
_view=editForm1 
_template=VwInvoicePrintSummary_InvoiceSummaryPrint.rdlc
_sortExpression=patientName
InvoicePK=InvoicePK</data>
        </action>
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag100" scope="ActionBar" headerText="New" flat="true">
        <action commandName="New" commandArgument="createForm1" cssClass="NewIcon" id="a100" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Custom" commandArgument="InvDtlGenerate" type="Sql" phase="Execute">exec pGenInvoiceDtl @InvoicePK</rule>
      <rule id="r101" commandName="New" type="Sql" phase="Execute">SET @InvoiceNo = '(Auto Generate)'
SET @DateInvoice = GETDATE()</rule>
      <rule id="r102" commandName="Insert" type="Sql" phase="Execute">DECLARE @newref varchar(50)

EXEC pDocGenRef 
@Prefix = 'I/',
@RunningLength = 3,
@ReturnRef = @newref OUTPUT

SET @InvoiceNo = @newref</rule>
    </businessRules>
  </dataController>
  <dataController name="InvoiceDtl" conflictDetection="overwriteChanges" label="Invoice Dtl" nativeSchema="dbo" nativeTableName="InvoiceDtl">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"InvoiceDtl"."InvoiceDtlPk" "InvoiceDtlPK"
	,"InvoiceDtl"."InvoiceFK" "InvoiceFK"
	,"InvoiceFK"."InvoiceNo" "InvoiceFkinvoiceNo"
	,"InvoiceFKSponsorFK"."Name" "InvoicefksponsorfkName"
	,"InvoiceDtl"."Description" "Description"
	,"InvoiceDtl"."Amount" "Amount"
	,"InvoiceDtl"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFK"."yTotalExpenses" "TreatmentfkYtotalexpenses"
	,"TreatmentFKDialysisMachineFK"."Description" "TreatmentfkdialysismachinefkDescription"
	,"TreatmentFKPatientFK"."Name" "TreatmentfkpatientfkName"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
from "dbo"."InvoiceDtl" "InvoiceDtl"
	left join "dbo"."Invoice" "InvoiceFK" on "InvoiceDtl"."InvoiceFK" = "InvoiceFK"."InvoicePK"
	left join "dbo"."Sponsor" "InvoiceFKSponsorFK" on "InvoiceFK"."SponsorFK" = "InvoiceFKSponsorFK"."SponsorPK"
	left join "dbo"."Treatment" "TreatmentFK" on "InvoiceDtl"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."DialysisMachine" "TreatmentFKDialysisMachineFK" on "TreatmentFK"."DialysisMachineFK" = "TreatmentFKDialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
]]></text>
      </command>
      <command id="InvoiceDtlPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="InvoiceDtlPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="InvoiceDtlPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Invoice Dtl Pk" readOnly="true" />
      <field name="InvoiceFK" type="Int32" allowNulls="false" default="((0))" label="Invoice FK" showInSummary="true">
        <items style="Lookup" dataController="Invoice" newDataView="createForm1" dataValueField="InvoicePK" dataTextField="InvoiceNo" copy="InvoicefksponsorfkName=SponsorfkName" />
      </field>
      <field name="InvoiceFkinvoiceNo" type="String" readOnly="true" label="Invoice FK Invoice No" length="20" />
      <field name="InvoicefksponsorfkName" type="String" readOnly="true" label="Sponsor" length="100" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="250" showInSummary="true" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Approve Amount" showInSummary="true" />
      <field name="TreatmentFK" type="Int32" allowNulls="false" default="((0))" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" copy="TreatmentfkYtotalexpenses=yTotalExpenses, TreatmentfkdialysismachinefkDescription=DialysismachinefkDescription, TreatmentfkpatientfkName=PatientName, TreatmentFkshiftFkdescription=ShiftFkdescription" />
      </field>
      <field name="TreatmentfkDatetreatment" type="Date" readOnly="true" dataFormatString="dd/MM/yyyy" label="Date Treatment" />
      <field name="TreatmentfkYtotalexpenses" type="Decimal" readOnly="true" dataFormatString="c" label="Expenses" />
      <field name="TreatmentfkdialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="TreatmentfkpatientfkName" type="String" readOnly="true" label="Patient" length="100" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Details" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentfkpatientfkName" hidden="true">
          </dataField>
          <dataField fieldName="Description" />
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
          <dataField fieldName="InvoiceFK" aliasFieldName="InvoiceFkinvoiceNo" />
          <dataField fieldName="InvoicefksponsorfkName" />
          <dataField fieldName="TreatmentfkYtotalexpenses" columns="15" />
          <dataField fieldName="Amount" columns="15" aggregate="Sum">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Invoice Detail">
        <headerText />
        <categories>
          <category id="c1" headerText="Invoice Details">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="TreatmentfkYtotalexpenses" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" />
              <dataField fieldName="InvoiceFK" aliasFieldName="InvoiceFkinvoiceNo" />
              <dataField fieldName="InvoicefksponsorfkName" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="Add Invoice Detail">
        <headerText />
        <categories>
          <category id="c1" headerText="New Invoice Detail">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment">
              </dataField>
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="InvoiceFK" aliasFieldName="InvoiceFkinvoiceNo" />
              <dataField fieldName="InvoicefksponsorfkName" />
              <dataField fieldName="TreatmentfkYtotalexpenses" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Nobody" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="InvoiceDtlSmry" conflictDetection="overwriteChanges" label="Invoice Dtl Smry" nativeSchema="dbo" nativeTableName="InvoiceDtlSmry">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"InvoiceDtlSmry"."InvoiceDsPk" "InvoiceDsPK"
	,"InvoiceDtlSmry"."InvoiceFK" "InvoiceFK"
	,"InvoiceFK"."InvoiceNo" "InvoiceFkinvoiceNo"
	,"InvoiceFK"."DateInvoice" "InvoicefkDateinvoice"
	,"InvoiceFK"."NoReference" "InvoicefkNoreference"
	,"InvoiceFK"."DateTreatm1" "InvoicefkDatetreatm1"
	,"InvoiceFK"."DateTreatm2" "InvoicefkDatetreatm2"
	,"InvoiceFK"."InvoiceStatus" "InvoicefkInvoicestatus"
	,"InvoiceFK"."yTotalApproveAmount" "InvoicefkYtotalapproveamount"
	,"InvoiceDtlSmry"."PatientFK" "PatientFK"
	,"PatientFK"."Name" "PatientfkName"
	,"PatientFK"."NoNRIC" "PatientfkNonric"
	,"InvoiceDtlSmry"."DialysisQuantity" "DialysisQuantity"
	,"InvoiceDtlSmry"."EpoQuantity" "EpoQuantity"
	,"InvoiceDtlSmry"."TotalAmount" "TotalAmount"
from "dbo"."InvoiceDtlSmry" "InvoiceDtlSmry"
	left join "dbo"."Invoice" "InvoiceFK" on "InvoiceDtlSmry"."InvoiceFK" = "InvoiceFK"."InvoicePK"
	left join "dbo"."Patient" "PatientFK" on "InvoiceDtlSmry"."PatientFK" = "PatientFK"."PatientPK"
]]></text>
      </command>
      <command id="InvoiceDsPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="InvoiceDsPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="InvoiceDsPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Invoice Ds Pk" readOnly="true" />
      <field name="InvoiceFK" type="Int32" allowNulls="false" default="((0))" label="Invoice FK" showInSummary="true">
        <items style="Lookup" dataController="Invoice" newDataView="createForm1" dataValueField="InvoicePK" dataTextField="InvoiceNo" copy="InvoicefkDateinvoice=DateInvoice, InvoicefkNoreference=NoReference, InvoicefkDatetreatm1=DateTreatm1, InvoicefkDatetreatm2=DateTreatm2, " />
      </field>
      <field name="InvoiceFkinvoiceNo" type="String" readOnly="true" label="Invoice No" length="20" />
      <field name="InvoicefkDateinvoice" type="DateTime" readOnly="true" dataFormatString="g" label="Date" />
      <field name="InvoicefkNoreference" type="String" readOnly="true" label="Reference" length="20" />
      <field name="InvoicefkDatetreatm1" type="DateTime" readOnly="true" dataFormatString="g" label="Treatment From" />
      <field name="InvoicefkDatetreatm2" type="DateTime" readOnly="true" dataFormatString="g" label="Treatment To" />
      <field name="InvoicefkInvoicestatus" type="String" readOnly="true" label="Status" length="1" />
      <field name="InvoicefkYtotalapproveamount" type="Decimal" readOnly="true" dataFormatString="c" label="Grand Total" />
      <field name="PatientFK" type="Int32" allowNulls="false" default="((0))" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" copy="PatientfkNonric=NoNric" />
      </field>
      <field name="PatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="PatientfkNonric" type="String" readOnly="true" label="I/C No." length="15" />
      <field name="DialysisQuantity" type="Int32" allowNulls="false" default="((0))" label="Dialysis Quantity" showInSummary="true" />
      <field name="EpoQuantity" type="Int32" allowNulls="false" default="((0))" label="Epo Quantity" showInSummary="true" />
      <field name="TotalAmount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Total Amount" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Invoice Dtl Smry" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="InvoiceFK" aliasFieldName="InvoiceFkinvoiceNo" />
          <dataField fieldName="InvoicefkDateinvoice" columns="20" />
          <dataField fieldName="InvoicefkNoreference" columns="20" />
          <dataField fieldName="InvoicefkDatetreatm1" columns="20" />
          <dataField fieldName="InvoicefkDatetreatm2" columns="20" />
          <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
          <dataField fieldName="PatientfkNonric" columns="15" />
          <dataField fieldName="DialysisQuantity" columns="15" />
          <dataField fieldName="EpoQuantity" columns="15" />
          <dataField fieldName="TotalAmount" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Invoice Summary">
        <headerText />
        <categories>
          <category id="c1" headerText="Invoice Summary">
            <description />
            <dataFields>
              <dataField fieldName="InvoiceFK" aliasFieldName="InvoiceFkinvoiceNo" />
              <dataField fieldName="InvoicefkDateinvoice" columns="20" />
              <dataField fieldName="InvoicefkNoreference" columns="20" />
              <dataField fieldName="InvoicefkDatetreatm1" columns="20" />
              <dataField fieldName="InvoicefkDatetreatm2" columns="20" />
              <dataField fieldName="InvoicefkInvoicestatus" columns="1" />
              <dataField fieldName="InvoicefkYtotalapproveamount" columns="15" />
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="PatientfkNonric" columns="15" />
              <dataField fieldName="DialysisQuantity" columns="15" />
              <dataField fieldName="EpoQuantity" columns="15" />
              <dataField fieldName="TotalAmount" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Invoice Dtl Smry">
        <headerText />
        <categories>
          <category id="c1" headerText="New Invoice Dtl Smry">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="InvoiceFK" aliasFieldName="InvoiceFkinvoiceNo" />
              <dataField fieldName="InvoicefkDateinvoice" columns="20" />
              <dataField fieldName="InvoicefkNoreference" columns="20" />
              <dataField fieldName="InvoicefkDatetreatm1" columns="20" />
              <dataField fieldName="InvoicefkDatetreatm2" columns="20" />
              <dataField fieldName="InvoicefkInvoicestatus" columns="1" />
              <dataField fieldName="InvoicefkYtotalapproveamount" columns="15" />
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="PatientfkNonric" columns="15" />
              <dataField fieldName="DialysisQuantity" columns="15" />
              <dataField fieldName="EpoQuantity" columns="15" />
              <dataField fieldName="TotalAmount" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Nobody" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
        <action commandName="Report" headerText="Patient Treatment Report" id="a100" cssClass="material-icon-print">
          <data>_controller=VwInvoicePrintSummaryByPatient
_view=editForm1 
_template=VwInvoicePrintSummaryByPatient_reportSummaryByPatient.rdlc
_sortExpression=DateTreatment
InvoiceDsPk=InvoiceDsPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action commandName="Report" headerText="Patient Treatment Report" id="a100" cssClass="material-icon-print">
          <data>_controller=VwInvoicePrintSummaryByPatient
_view=editForm1 
_template=VwInvoicePrintSummaryByPatient_reportSummaryByPatient.rdlc
_sortExpression=DateTreatment
InvoiceDsPk=InvoiceDsPK</data>
        </action>
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="MedicalCenters" conflictDetection="overwriteChanges" label="Medical Centers" nativeSchema="dbo" nativeTableName="MedicalCenters">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"MedicalCenters"."MedicalCenterID" "MedicalCenterID"
	,"MedicalCenters"."Name" "Name"
	,"MedicalCenters"."Address" "Address"
	,"MedicalCenters"."PostCode" "PostCode"
	,"MedicalCenters"."City" "City"
	,"MedicalCenters"."State" "State"
	,"MedicalCenters"."Country" "Country"
	,"Country"."Description" "CountryDescription"
from "dbo"."MedicalCenters" "MedicalCenters"
	left join "dbo"."Country" "Country" on "MedicalCenters"."Country" = "Country"."CountryPK"
]]></text>
      </command>
      <command id="MedicalCenterIDIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="MedicalCenterID" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="MedicalCenterID" type="Int32" allowNulls="false" isPrimaryKey="true" label="Medical Center ID" readOnly="true" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="50" showInSummary="true" />
      <field name="Address" type="String" allowNulls="false" label="Address" length="50" showInSummary="true" />
      <field name="PostCode" type="String" allowNulls="false" label="Post Code" length="50" showInSummary="true" />
      <field name="City" type="String" allowNulls="false" label="City" length="50" showInSummary="true" />
      <field name="State" type="String" allowNulls="false" label="State" length="50" showInSummary="true" />
      <field name="Country" type="Int32" allowNulls="false" label="Country">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="Description" />
      </field>
      <field name="CountryDescription" type="String" readOnly="true" label="Country Description" length="50" />
      <field name="Medication" type="DataView" label="Medication">
        <dataView controller="Medication" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Medical Centers">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Name" columns="50" />
          <dataField fieldName="Address" columns="50" />
          <dataField fieldName="PostCode" columns="50" />
          <dataField fieldName="City" columns="50" />
          <dataField fieldName="State" columns="50" />
          <dataField fieldName="Country" aliasFieldName="CountryDescription" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Medical Centers" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Medical Centers">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Name" columns="50" />
              <dataField fieldName="Address" columns="50" />
              <dataField fieldName="PostCode" columns="50" />
              <dataField fieldName="City" columns="50" />
              <dataField fieldName="State" columns="50" />
              <dataField fieldName="Country" aliasFieldName="CountryDescription" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Medical Centers" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Medical Centers">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Name" columns="50" />
              <dataField fieldName="Address" columns="50" />
              <dataField fieldName="PostCode" columns="50" />
              <dataField fieldName="City" columns="50" />
              <dataField fieldName="State" columns="50" />
              <dataField fieldName="Country" aliasFieldName="CountryDescription" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Medication" conflictDetection="overwriteChanges" label="Medication" nativeSchema="dbo" nativeTableName="Medication">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Medication"."MedicationPK" "MedicationPK"
	,"Medication"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFK"."TreatmentNo" "TreatmentfkTreatmentno"
	,"TreatmentFK"."ShiftFK" "TreatmentfkShiftfk"
	,"TreatmentFKDialysisMachineFK"."Description" "TreatmentfkdialysismachinefkDescription"
	,"TreatmentFKPatientFK"."NoReference" "TreatmentFkpatientFknoReference"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
	,"Medication"."MedicationTypeFK" "MedicationTypeFK"
	,"MedicationTypeFK"."Description" "MedicationTypeFkdescription"
	,"MedicationTypeFK"."Price" "MedicationtypefkPrice"
	,"Medication"."Dosage" "Dosage"
	,"Medication"."UnitDosage" "UnitDosage"
	,"Medication"."Amount" "Amount"
from "dbo"."Medication" "Medication"
	left join "dbo"."Treatment" "TreatmentFK" on "Medication"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."DialysisMachine" "TreatmentFKDialysisMachineFK" on "TreatmentFK"."DialysisMachineFK" = "TreatmentFKDialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
	left join "dbo"."MedicationType" "MedicationTypeFK" on "Medication"."MedicationTypeFK" = "MedicationTypeFK"."MedicationTypePK"
]]></text>
      </command>
      <command id="MedicationPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="MedicationPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="MedicationPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Medication PK" readOnly="true" />
      <field name="TreatmentFK" type="Int32" allowNulls="false" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" copy="TreatmentfkTreatmentno=TreatmentNo, TreatmentfkShiftfk=ShiftFK, TreatmentfkdialysismachinefkDescription=DialysismachinefkDescription, TreatmentFkshiftFkdescription=ShiftFkdescription" />
      </field>
      <field name="TreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="g" label="Date" />
      <field name="TreatmentfkTreatmentno" type="Int32" readOnly="true" label="Treatment No" />
      <field name="TreatmentfkShiftfk" type="Int32" readOnly="true" label="Shift" />
      <field name="TreatmentfkdialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="TreatmentFkpatientFknoReference" type="String" readOnly="true" label="Treatment FK Patient FK No Reference" length="30" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="MedicationTypeFK" type="Int32" allowNulls="false" default="((0))" label="Medication Type FK" showInSummary="true">
        <items style="Lookup" dataController="MedicationType" newDataView="createForm1" dataValueField="MedicationTypePK" dataTextField="Description" copy="MedicationtypefkPrice=Price" />
      </field>
      <field name="MedicationTypeFkdescription" type="String" readOnly="true" label="Type" length="50" />
      <field name="MedicationtypefkPrice" type="Decimal" readOnly="true" dataFormatString="c" label="Unit Price" causesCalculate="true" />
      <field name="Dosage" type="Decimal" allowNulls="false" default="((0))" label="Dosage" showInSummary="true" causesCalculate="true" />
      <field name="UnitDosage" type="String" allowNulls="false" default="('')" label="Unit Dosage" length="10" showInSummary="true" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Amount" showInSummary="true" causesCalculate="true">
        <formula />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Medication">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
          <dataField fieldName="TreatmentfkTreatmentno" columns="15" />
          <dataField fieldName="TreatmentfkShiftfk" columns="15" />
          <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
          <dataField fieldName="TreatmentFkpatientFknoReference" columns="30" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
          <dataField fieldName="MedicationTypeFK" aliasFieldName="MedicationTypeFkdescription" />
          <dataField fieldName="Dosage" columns="15" />
          <dataField fieldName="UnitDosage" columns="10" />
          <dataField fieldName="MedicationtypefkPrice" columns="15" />
          <dataField fieldName="Amount" columns="15" aggregate="Sum">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Medication" tags="material-icon-mode-edit">
        <headerText />
        <categories>
          <category id="c1" headerText="Medication">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkTreatmentno" columns="15" />
              <dataField fieldName="TreatmentfkShiftfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentFkpatientFknoReference" columns="30" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="MedicationTypeFK" aliasFieldName="MedicationTypeFkdescription" />
              <dataField fieldName="MedicationtypefkPrice" columns="15" />
              <dataField fieldName="Dosage" columns="15" />
              <dataField fieldName="UnitDosage" columns="10" hidden="true">
              </dataField>
              <dataField fieldName="Amount" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Medication" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Medication">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkTreatmentno" columns="15" />
              <dataField fieldName="TreatmentfkShiftfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentFkpatientFknoReference" columns="30" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="MedicationTypeFK" aliasFieldName="MedicationTypeFkdescription" />
              <dataField fieldName="MedicationtypefkPrice" columns="15" />
              <dataField fieldName="Dosage" columns="15" />
              <dataField fieldName="UnitDosage" columns="10" hidden="true">
              </dataField>
              <dataField fieldName="Amount" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Calculate" type="Sql" phase="Execute">IF @MedicationtypefkPrice IS NULL OR @Dosage IS NULL
  SET @Amount = 0
ELSE
  SET @Amount = @MedicationtypefkPrice * @Dosage</rule>
    </businessRules>
  </dataController>
  <dataController name="MedicationHistory" conflictDetection="overwriteChanges" label="Medication History" nativeSchema="dbo" nativeTableName="MedicationHistory">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"MedicationHistory"."MedicationHistoryPK" "MedicationHistoryPK"
	,"MedicationHistory"."MedicationTypeFK" "MedicationTypeFK"
	,"MedicationTypeFK"."Description" "MedicationTypeFkdescription"
	,"MedicationHistory"."Dosage" "Dosage"
	,"MedicationHistory"."UnitDosage" "UnitDosage"
	,"MedicationHistory"."Remark" "Remark"
from "dbo"."MedicationHistory" "MedicationHistory"
	left join "dbo"."MedicationType" "MedicationTypeFK" on "MedicationHistory"."MedicationTypeFK" = "MedicationTypeFK"."MedicationTypePK"
]]></text>
      </command>
      <command id="MedicationHistoryPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="MedicationHistoryPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="MedicationHistoryPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Medication History PK" readOnly="true" />
      <field name="MedicationTypeFK" type="Int32" label="Medication Type FK" showInSummary="true">
        <items style="Lookup" dataController="MedicationType" newDataView="createForm1" dataValueField="MedicationTypePK" dataTextField="Description" />
      </field>
      <field name="MedicationTypeFkdescription" type="String" readOnly="true" label="Medication Type FK Description" length="50" />
      <field name="Dosage" type="Decimal" allowNulls="false" default="((0))" label="Dosage" showInSummary="true" />
      <field name="UnitDosage" type="String" allowNulls="false" default="('')" label="Unit Dosage" length="10" showInSummary="true" />
      <field name="Remark" type="String" allowNulls="false" default="('')" label="Remark" length="100" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Medication History">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="MedicationTypeFK" aliasFieldName="MedicationTypeFkdescription" />
          <dataField fieldName="Dosage" columns="15" />
          <dataField fieldName="UnitDosage" columns="10" />
          <dataField fieldName="Remark" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Medication History" tags="material-icon-mode-edit">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Medication History">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="MedicationTypeFK" aliasFieldName="MedicationTypeFkdescription" />
              <dataField fieldName="Dosage" columns="15" />
              <dataField fieldName="UnitDosage" columns="10" />
              <dataField fieldName="Remark" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Medication History" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Medication History">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="MedicationTypeFK" aliasFieldName="MedicationTypeFkdescription" />
              <dataField fieldName="Dosage" columns="15" />
              <dataField fieldName="UnitDosage" columns="10" />
              <dataField fieldName="Remark" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="MedicationType" conflictDetection="overwriteChanges" label="Medication Type" nativeSchema="dbo" nativeTableName="MedicationType">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"MedicationType"."MedicationTypePK" "MedicationTypePK"
	,"MedicationType"."Description" "Description"
	,"MedicationType"."Price" "Price"
from "dbo"."MedicationType" "MedicationType"
]]></text>
      </command>
      <command id="MedicationTypePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="MedicationTypePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="MedicationTypePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Medication Type PK" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
      <field name="Price" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Price" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Medication Type">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Description" columns="50" />
          <dataField fieldName="Price" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Medication Type" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Medication Type">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="Price" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Medication Type" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Medication Type">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="Price" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Patient" conflictDetection="overwriteChanges" label="Patient" nativeSchema="dbo" nativeTableName="Patient">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Patient"."PatientPK" "PatientPK"
	,"Patient"."NoReference" "NoReference"
	,"Patient"."Status" "Status"
	,"Patient"."DateJoined" "DateJoined"
	,"Patient"."DateCeased" "DateCeased"
	,"Patient"."ReasonCeasedFK" "ReasonCeasedFK"
	,"ReasonCeasedFK"."Description" "ReasonCeasedFkdescription"
	,"Patient"."Name" "Name"
	,"Patient"."PrvMedicalAttach" "PrvMedicalAttach"
	,"Patient"."DateBirth" "DateBirth"
	,"Patient"."Gender" "Gender"
	,"Patient"."NoNRIC" "NoNric"
	,"Patient"."NoOldIC" "NoOldIc"
	,"Patient"."TypeOtherIC" "TypeOtherIc"
	,"Patient"."NoOtherIC" "NoOtherIc"
	,"Patient"."RaceFK" "RaceFK"
	,"RaceFK"."Description" "RacefkDescription"
	,"Patient"."ReligionFK" "ReligionFK"
	,"ReligionFK"."Description" "ReligionfkDescription"
	,"Patient"."CorrAddrs1" "CorrAddrs1"
	,"Patient"."CorrAddrs2" "CorrAddrs2"
	,"Patient"."CorrPostCode" "CorrPostCode"
	,"Patient"."CorrCityFK" "CorrCityFK"
	,"CorrCityFK"."Description" "CorrcityfkDescription"
	,"Patient"."CorrStateFK" "CorrStateFK"
	,"CorrStateFK"."Description" "CorrstatefkDescription"
	,"Patient"."CorrCountryFK" "CorrCountryFK"
	,"CorrCountryFK"."Description" "CorrcountryfkDescription"
	,"Patient"."NoTelHome" "NoTelHome"
	,"Patient"."NoTelOffice" "NoTelOffice"
	,"Patient"."NoTelMobile" "NoTelMobile"
	,"Patient"."PatientEmail" "PatientEmail"
	,"Patient"."NOKName" "Nokname"
	,"Patient"."NOKRelationshipFK" "NokrelationshipFK"
	,"NOKRelationshipFK"."Description" "NokrelationshipfkDescription"
	,"Patient"."NOKAddrs1" "Nokaddrs1"
	,"Patient"."NOKAddrs2" "Nokaddrs2"
	,"Patient"."NOKPostCode" "NokpostCode"
	,"Patient"."NOKCityFK" "NokcityFK"
	,"NOKCityFK"."Description" "NokcityfkDescription"
	,"Patient"."NOKStateFK" "NokstateFK"
	,"NOKStateFK"."Description" "NokstatefkDescription"
	,"Patient"."NOKCountryFK" "NokcountryFK"
	,"NOKCountryFK"."Description" "NokcountryfkDescription"
	,"Patient"."NOKTelHome" "NoktelHome"
	,"Patient"."NOKTelOffice" "NoktelOffice"
	,"Patient"."NOKTelMobile" "NoktelMobile"
	,"Patient"."VascularTypeFK" "VascularTypeFK"
	,"VascularTypeFK"."Description" "VasculartypefkDescription"
	,"Patient"."DateVascular" "DateVascular"
	,"Patient"."DialysisCenterFK" "DialysisCenterFK"
	,"DialysisCenterFK"."City" "DialysiscenterfkCity"
	,"DialysisCenterFK"."State" "DialysiscenterfkState"
	,"DialysisCenterFK"."Country" "DialysiscenterfkCountry"
	,"DialysisCenterFK"."Name" "DialysiscenterfkName"
	,"DialysisCenterFK"."Address" "DialysiscenterfkAddress"
	,"DialysisCenterFK"."PostCode" "DialysiscenterfkPostcode"
	,"Patient"."UserCreated" "UserCreated"
	,"Patient"."DateCreated" "DateCreated"
	,"Patient"."UserModified" "UserModified"
	,"Patient"."DateModified" "DateModified"
	,"City"."Description" "CityDescription"
	,"State"."Description" "StateDescription"
	,"Country"."Description" "CountryDescription"
	,"Patient"."PhotoImg" "PhotoImg"
	,"Patient"."SuratRujukan" "SuratRujukan"
	,"Patient"."SuratDay" "SuratDay"
	,"Patient"."SuratWaktu" "SuratWaktu"
from "dbo"."Patient" "Patient"
	left join "dbo"."ReasonCeased" "ReasonCeasedFK" on "Patient"."ReasonCeasedFK" = "ReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Race" "RaceFK" on "Patient"."RaceFK" = "RaceFK"."RacePK"
	left join "dbo"."Religion" "ReligionFK" on "Patient"."ReligionFK" = "ReligionFK"."ReligionPK"
	left join "dbo"."City" "CorrCityFK" on "Patient"."CorrCityFK" = "CorrCityFK"."CityPK"
	left join "dbo"."State" "CorrStateFK" on "Patient"."CorrStateFK" = "CorrStateFK"."StatePK"
	left join "dbo"."Country" "CorrCountryFK" on "Patient"."CorrCountryFK" = "CorrCountryFK"."CountryPK"
	left join "dbo"."Relationship" "NOKRelationshipFK" on "Patient"."NOKRelationshipFK" = "NOKRelationshipFK"."RelationshipPK"
	left join "dbo"."City" "NOKCityFK" on "Patient"."NOKCityFK" = "NOKCityFK"."CityPK"
	left join "dbo"."State" "NOKStateFK" on "Patient"."NOKStateFK" = "NOKStateFK"."StatePK"
	left join "dbo"."Country" "NOKCountryFK" on "Patient"."NOKCountryFK" = "NOKCountryFK"."CountryPK"
	left join "dbo"."VascularType" "VascularTypeFK" on "Patient"."VascularTypeFK" = "VascularTypeFK"."VascularTypePK"
	left join "dbo"."DialysisCenter" "DialysisCenterFK" on "Patient"."DialysisCenterFK" = "DialysisCenterFK"."DialysisCenterPK"
	left join "dbo"."City" "City" on "DialysisCenterFK"."City" = "City"."CityPK"
	left join "dbo"."State" "State" on "DialysisCenterFK"."State" = "State"."StatePK"
	left join "dbo"."Country" "Country" on "DialysisCenterFK"."Country" = "Country"."CountryPK"
]]></text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient PK" readOnly="true" />
      <field name="DateVascular" type="Date" dataFormatString="dd/MM/yyyy" label="Date Vascular" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="30" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('A')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="A" text="Active" />
          <item value="I" text="Inactive" />
        </items>
      </field>
      <field name="DateJoined" type="Date" allowNulls="false" dataFormatString="dd/MM/yyyy" default="(getdate())" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="Date" dataFormatString="dd/MM/yyyy" label="Date Ceased" showInSummary="true" />
      <field name="ReasonCeasedFK" type="Int32" label="Reason Ceased FK" showInSummary="true">
        <items style="Lookup" dataController="ReasonCeased" newDataView="createForm1" dataValueField="ReasonCeasedPK" dataTextField="Description" />
      </field>
      <field name="ReasonCeasedFkdescription" type="String" readOnly="true" label="Reason Ceased" length="50" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="PrvMedicalAttach" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPrvMedicalAttach" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Medical Attachment" />
      <field name="DateBirth" type="Date" allowNulls="false" label="Date Birth" dataFormatString="dd/MM/yyyy" causesCalculate="true" />
      <field name="Gender" type="String" allowNulls="false" default="('M')" label="Gender" length="1">
        <items style="RadioButtonList">
          <item value="M" text="Male" />
          <item value="F" text="Female" />
        </items>
      </field>
      <field name="NoNric" type="String" allowNulls="false" default="('')" label="NRIC#" length="15" />
      <field name="NoOldIc" type="String" allowNulls="false" default="('')" label="Old IC#" length="15" />
      <field name="TypeOtherIc" type="String" allowNulls="false" default="('N')" label="Type Other IC" length="1">
        <items style="RadioButtonList">
          <item value="N" text="N/A" />
          <item value="P" text="Passport" />
        </items>
      </field>
      <field name="NoOtherIc" type="String" allowNulls="false" default="('')" label="No Other IC" length="15" />
      <field name="RaceFK" type="Int32" label="Race FK">
        <items style="Lookup" dataController="Race" newDataView="createForm1" dataValueField="RacePK" dataTextField="Description" />
      </field>
      <field name="RacefkDescription" type="String" readOnly="true" label="Race" length="50" />
      <field name="ReligionFK" type="Int32" label="Religion FK">
        <items style="Lookup" dataController="Religion" newDataView="createForm1" dataValueField="ReligionPK" dataTextField="Description" />
      </field>
      <field name="ReligionfkDescription" type="String" readOnly="true" label="Religion" length="50" />
      <field name="CorrAddrs1" type="String" allowNulls="false" default="('')" label="Address 1" length="100" />
      <field name="CorrAddrs2" type="String" allowNulls="false" default="('')" label="Address 2" length="100" />
      <field name="CorrPostCode" type="String" allowNulls="false" default="('')" label="Post Code" length="15" />
      <field name="CorrCityFK" type="Int32" label="Corr City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="Description" />
      </field>
      <field name="CorrcityfkDescription" type="String" readOnly="true" label="City" length="50" />
      <field name="CorrStateFK" type="Int32" label="Corr State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="Description" />
      </field>
      <field name="CorrstatefkDescription" type="String" readOnly="true" label="State" length="50" />
      <field name="CorrCountryFK" type="Int32" label="Corr Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="Description" />
      </field>
      <field name="CorrcountryfkDescription" type="String" readOnly="true" label="Country" length="50" />
      <field name="NoTelHome" type="String" allowNulls="false" default="('')" label="Phone (Home)" length="15" />
      <field name="NoTelOffice" type="String" allowNulls="false" default="('')" label="Phone (Office)" length="15" />
      <field name="NoTelMobile" type="String" allowNulls="false" default="('')" label="Phone (Mobile)" length="15" />
      <field name="PatientEmail" type="String" allowNulls="false" default="('')" label="Email" length="100" />
      <field name="Nokname" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="NokrelationshipFK" type="Int32" label="NOK Relationship FK">
        <items style="Lookup" dataController="Relationship" newDataView="createForm1" dataValueField="RelationshipPK" dataTextField="Description" />
      </field>
      <field name="NokrelationshipfkDescription" type="String" readOnly="true" label="Relation" length="50" />
      <field name="Nokaddrs1" type="String" allowNulls="false" default="('')" label="Address 1" length="100">
        <formula />
      </field>
      <field name="Nokaddrs2" type="String" allowNulls="false" default="('')" label="Address 2" length="100" />
      <field name="NokpostCode" type="String" allowNulls="false" default="('')" label="Post Code" length="15" />
      <field name="NokcityFK" type="Int32" label="NOK City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="Description" />
      </field>
      <field name="NokcityfkDescription" type="String" readOnly="true" label="City" length="50" />
      <field name="NokstateFK" type="Int32" label="NOK State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="Description" />
      </field>
      <field name="NokstatefkDescription" type="String" readOnly="true" label="State" length="50" />
      <field name="NokcountryFK" type="Int32" label="NOK Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="Description" />
      </field>
      <field name="NokcountryfkDescription" type="String" readOnly="true" label="Country" length="50" />
      <field name="NoktelHome" type="String" allowNulls="false" default="('')" label="Phone (Home)" length="15" />
      <field name="NoktelOffice" type="String" allowNulls="false" default="('')" label="Phone (Office)" length="15" />
      <field name="NoktelMobile" type="String" allowNulls="false" default="('')" label="Phone (Mobile)" length="15" />
      <field name="VascularTypeFK" type="Int32" label="Vascular Type FK">
        <items style="Lookup" dataController="VascularType" newDataView="createForm1" dataValueField="VascularTypePK" dataTextField="Description" />
      </field>
      <field name="VasculartypefkDescription" type="String" readOnly="true" label="Vascular" length="50" />
      <field name="DialysisCenterFK" type="Int32" label="Dialysis Center FK">
        <items style="Lookup" dataController="DialysisCenter" newDataView="createForm1" dataValueField="DialysisCenterPK" dataTextField="Name" copy="DialysiscenterfkCity=City, DialysiscenterfkState=State, DialysiscenterfkCountry=Country, DialysiscenterfkAddress=Address, DialysiscenterfkPostcode=PostCode, CityDescription=CityDescription, StateDescription=StateDescription, CountryDescription=CountryDescription" />
      </field>
      <field name="DialysiscenterfkCity" type="Int32" readOnly="true" label="City" />
      <field name="DialysiscenterfkState" type="Int32" readOnly="true" label="State" />
      <field name="DialysiscenterfkCountry" type="Int32" readOnly="true" label="Country" />
      <field name="DialysiscenterfkName" type="String" readOnly="true" label="Dialysis Center" length="100" />
      <field name="DialysiscenterfkAddress" type="String" readOnly="true" label="Address" length="100" />
      <field name="DialysiscenterfkPostcode" type="String" readOnly="true" label="Post Code" length="15" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="CityDescription" type="String" readOnly="true" label="City" length="50" />
      <field name="StateDescription" type="String" readOnly="true" label="State" length="50" />
      <field name="CountryDescription" type="String" readOnly="true" label="Country" length="50" />
      <field name="PhotoImg" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo Img" />
      <field name="SuratRujukan" type="String" allowNulls="false" default="('-')" label="Letter Reference #" length="20" />
      <field name="SuratDay" type="String" allowNulls="false" default="('-')" label="Letter Day Description" length="50" />
      <field name="SuratWaktu" type="String" allowNulls="false" default="('-')" label="Letter Time Description" length="50" />
      <field name="PatSponsor" type="DataView" label="Pat Sponsor">
        <dataView controller="PatSponsor" filterFields="PatientFK" view="grid1" />
      </field>
      <field name="PatientBloodTest" type="DataView" label="Patient Blood Test">
        <dataView controller="PatientBloodTest" view="grid1" filterFields="TreatmentPatientFK" filterField2="PatientPK" />
      </field>
      <field name="PatientDialyzer" type="DataView" label="Patient Dialyzer">
        <dataView controller="PatientDialyzer" filterFields="PatientFK" view="grid1" />
      </field>
      <field name="ActiveSponsor" type="String" label="Active Sponsor" computed="true">
        <formula>dbo.tsGetActiveSponsor (PatientPK, getdate())</formula>
      </field>
      <field name="PatientMedicine" type="DataView" label="Patient Medicine">
        <dataView controller="PatientMedicine" filterFields="PatientFK" view="grid1" />
      </field>
      <field name="PatientBloodTest1" type="DataView" label="Patient Blood Test 1">
        <dataView controller="PatientBloodTest1" view="grid1" filterFields="PatientFK" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Patient" tags="view-style-list" sortExpression="Name" filter="@ContextFields_ExistingPatientFk is null or PatientPK not in &#xD;&#xA;(&#xD;&#xA;select PatientFK from ScheduleDtl&#xD;&#xA;where ScheduleHdrFK = @ContextFields_ExistingPatientFk&#xD;&#xA;)" showInSelector="false">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="Gender" columns="1" />
          <dataField fieldName="DateBirth" columns="10" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="ReligionFK" aliasFieldName="ReligionfkDescription" />
          <dataField fieldName="RaceFK" aliasFieldName="RacefkDescription" />
          <dataField fieldName="Status" columns="1" />
          <dataField fieldName="ActiveSponsor" rows="5" />
          <dataField fieldName="PhotoImg" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="View Patient" tags="material-icon-mode-edit&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Personal Info." tab="Personal Info.">
            <description />
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoReference" columns="30" hidden="true">
              </dataField>
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription">
                <visibility>
                  <expression test="[DateCeased] != null" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="DateBirth" columns="10" />
              <dataField fieldName="Gender" columns="1" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoOldIc" columns="15" />
              <dataField fieldName="TypeOtherIc" columns="1" />
              <dataField fieldName="NoOtherIc" columns="15">
                <visibility>
                  <expression test="[TypeOtherIc] != 'N'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="RaceFK" aliasFieldName="RacefkDescription" />
              <dataField fieldName="ReligionFK" aliasFieldName="ReligionfkDescription" />
              <dataField fieldName="VascularTypeFK" aliasFieldName="VasculartypefkDescription" />
              <dataField fieldName="DateVascular" columns="20" />
              <dataField fieldName="PhotoImg" columns="15" />
              <dataField fieldName="PrvMedicalAttach" columns="15" />
            </dataFields>
          </category>
          <category headerText="Dialysis Center" id="c2">
            <dataFields>
              <dataField fieldName="DialysisCenterFK" aliasFieldName="DialysiscenterfkName" />
              <dataField fieldName="DialysiscenterfkCity" aliasFieldName="CityDescription" />
              <dataField fieldName="DialysiscenterfkState" aliasFieldName="StateDescription" />
              <dataField fieldName="DialysiscenterfkCountry" aliasFieldName="CountryDescription" />
              <dataField fieldName="DialysiscenterfkAddress" />
              <dataField fieldName="DialysiscenterfkPostcode" columns="15" />
            </dataFields>
          </category>
          <category headerText="Contact" id="c3" tab="Contact">
            <dataFields>
              <dataField fieldName="CorrAddrs1" />
              <dataField fieldName="CorrAddrs2" />
              <dataField fieldName="CorrPostCode" columns="15" />
              <dataField fieldName="CorrCityFK" aliasFieldName="CorrcityfkDescription" />
              <dataField fieldName="CorrStateFK" aliasFieldName="CorrstatefkDescription" />
              <dataField fieldName="CorrCountryFK" aliasFieldName="CorrcountryfkDescription" />
              <dataField fieldName="NoTelHome" columns="15" />
              <dataField fieldName="NoTelOffice" columns="15" />
              <dataField fieldName="NoTelMobile" columns="15" />
              <dataField fieldName="PatientEmail" />
            </dataFields>
          </category>
          <category headerText="Next Of Kin" id="c4" tab="Contact">
            <dataFields>
              <dataField fieldName="NokrelationshipFK" aliasFieldName="NokrelationshipfkDescription" />
              <dataField fieldName="Nokname" />
              <dataField fieldName="Nokaddrs1" />
              <dataField fieldName="Nokaddrs2" />
              <dataField fieldName="NokpostCode" columns="15" />
              <dataField fieldName="NokcityFK" aliasFieldName="NokcityfkDescription" />
              <dataField fieldName="NokstateFK" aliasFieldName="NokstatefkDescription" />
              <dataField fieldName="NokcountryFK" aliasFieldName="NokcountryfkDescription" />
              <dataField fieldName="NoktelHome" columns="15" />
              <dataField fieldName="NoktelOffice" columns="15" />
              <dataField fieldName="NoktelMobile" columns="15" />
            </dataFields>
          </category>
          <category headerText="Funding" id="c6" tab="Funding">
            <dataFields>
              <dataField fieldName="PatSponsor" columns="15" />
            </dataFields>
          </category>
          <category headerText="Dialyzer" tab="Dialyzer" id="c8">
            <dataFields>
              <dataField fieldName="PatientDialyzer" columns="15" />
            </dataFields>
          </category>
          <category headerText="Blood Test" id="c7" tab="Blood Test">
            <dataFields>
              <dataField fieldName="PatientBloodTest1" columns="15" />
            </dataFields>
          </category>
          <category headerText="Current Medicine" tab="Current Medicine" id="c10">
            <dataFields>
              <dataField fieldName="PatientMedicine" columns="15" />
            </dataFields>
          </category>
          <category headerText="Letter Setup" id="c9">
            <dataFields>
              <dataField fieldName="SuratRujukan" columns="20" />
              <dataField fieldName="SuratDay" columns="50" />
              <dataField fieldName="SuratWaktu" columns="50" />
            </dataFields>
          </category>
          <category headerText="Audit" id="c5" tab="Audit">
            <dataFields>
              <dataField fieldName="UserCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="UserModified" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateModified" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Patient" tags="material-icon-note-add&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Personal Info." wizard="Personal Info.">
            <description />
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoReference" columns="30" textMode="Static" hidden="true">
              </dataField>
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20">
              </dataField>
              <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription">
                <visibility>
                  <expression test="[DateCeased] != null" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="DateBirth" columns="10" />
              <dataField fieldName="Gender" columns="1" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoOldIc" columns="15" />
              <dataField fieldName="TypeOtherIc" columns="1" />
              <dataField fieldName="NoOtherIc" columns="15">
                <visibility>
                  <expression test="[TypeOtherIc] != 'N' &amp;&amp; [TypeOtherIc] != null" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="RaceFK" aliasFieldName="RacefkDescription" />
              <dataField fieldName="ReligionFK" aliasFieldName="ReligionfkDescription" />
              <dataField fieldName="VascularTypeFK" aliasFieldName="VasculartypefkDescription" />
              <dataField fieldName="DateVascular" columns="20" />
              <dataField fieldName="PhotoImg" columns="15">
              </dataField>
              <dataField fieldName="PrvMedicalAttach" columns="15" />
              <dataField fieldName="UserCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="UserModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateModified" columns="20" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Dialysis Center" id="c4" wizard="Dialysis Center">
            <dataFields>
              <dataField fieldName="DialysisCenterFK" aliasFieldName="DialysiscenterfkName" />
              <dataField fieldName="DialysiscenterfkCity" aliasFieldName="CityDescription" />
              <dataField fieldName="DialysiscenterfkState" aliasFieldName="StateDescription" />
              <dataField fieldName="DialysiscenterfkCountry" aliasFieldName="CountryDescription" />
              <dataField fieldName="DialysiscenterfkAddress" />
              <dataField fieldName="DialysiscenterfkPostcode" columns="15" />
            </dataFields>
          </category>
          <category headerText="Contact" id="c2" wizard="Contact">
            <dataFields>
              <dataField fieldName="CorrAddrs1" />
              <dataField fieldName="CorrAddrs2" />
              <dataField fieldName="CorrPostCode" columns="15" />
              <dataField fieldName="CorrCityFK" aliasFieldName="CorrcityfkDescription" />
              <dataField fieldName="CorrStateFK" aliasFieldName="CorrstatefkDescription" />
              <dataField fieldName="CorrCountryFK" aliasFieldName="CorrcountryfkDescription">
              </dataField>
              <dataField fieldName="NoTelHome" columns="15" />
              <dataField fieldName="NoTelOffice" columns="15" />
              <dataField fieldName="NoTelMobile" columns="15" />
              <dataField fieldName="PatientEmail" />
            </dataFields>
          </category>
          <category headerText="Next Of Kin" id="c5" wizard="Next Of Kin">
            <dataFields>
              <dataField fieldName="Nokname" />
              <dataField fieldName="NokrelationshipFK" aliasFieldName="NokrelationshipfkDescription" />
              <dataField fieldName="Nokaddrs1" />
              <dataField fieldName="Nokaddrs2" />
              <dataField fieldName="NokpostCode" columns="15" />
              <dataField fieldName="NokcityFK" aliasFieldName="NokcityfkDescription" />
              <dataField fieldName="NokstateFK" aliasFieldName="NokstatefkDescription" />
              <dataField fieldName="NokcountryFK" aliasFieldName="NokcountryfkDescription" />
              <dataField fieldName="NoktelHome" columns="15" />
              <dataField fieldName="NoktelOffice" columns="15" />
              <dataField fieldName="NoktelMobile" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="ReportPatient" commandId="command1" type="Grid" label="Report Patient" showInSelector="false" reportTemplate="true">
        <dataFields>
          <dataField fieldName="Name" rows="5" />
          <dataField fieldName="DateBirth" columns="15" />
          <dataField fieldName="Gender" columns="1" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="NoOldIc" columns="15" />
          <dataField fieldName="NoOtherIc" columns="15" />
          <dataField fieldName="RacefkDescription" columns="50" />
          <dataField fieldName="ReligionfkDescription" columns="50" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action commandName="Report" headerText="Print Letter" id="a101" whenKeySelected="true">
          <data>_controller=VwSuratPengesahan
_view=editForm1 
_template=VwSuratPengesahan_SuratPengesahan.rdlc
_sortExpression=PatientPK
PatientPK=PatientPK</data>
        </action>
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" id="a100" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateCreated = GETDATE()
SET @UserCreated = @BusinessRules_UserName

SET @Status = 'A'
SET @DateJoined = GETDATE()

SET @Name =  upper(@Name)</rule>
      <rule id="r101" commandName="Update" type="Sql" phase="Execute">SET @DateModified = GETDATE()
SET @UserModified = @BusinessRules_UserName

SET @Name =  upper(@Name)</rule>
      <rule id="r102" commandName="New" type="Sql" phase="Execute">DECLARE @newref varchar(50)

EXEC pDocGenRef 
@Prefix = 'PAT',
@RunningLength = 6,
@ReturnRef = @newref OUTPUT

SET @NoReference = @newref</rule>
      <rule id="r103" commandName="Calculate" type="Sql" phase="Execute">SET @NoNric = substring(convert(varchar, @DateBirth, 112), 3, 6)</rule>
      <rule id="r104" commandName="Insert" type="Sql" phase="Execute">SET @Name =  upper(@Name)</rule>
      <rule id="r105" commandName="Update" type="Sql" phase="Before">IF @TypeOtherIC = 'P' AND LTRIM(RTRIM(@NoOtherIC)) = ''
BEGIN
     SET @BusinessRules_PreventDefault = 1
     SET @Result_Error = 'Fill in passport number in No.Other IC textfield'
END
IF @Status = 'I' AND @DateCeased is NULL
BEGIN
     SET @BusinessRules_PreventDefault = 1
     SET @Result_Error = 'Date Ceased is Required for inactive patient!'
END</rule>
    </businessRules>
  </dataController>
  <dataController name="Patient1" conflictDetection="overwriteChanges" label="Patient1" nativeSchema="dbo" nativeTableName="Patient">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Patient"."PatientPK" "PatientPK"
	,"Patient"."NoReference" "NoReference"
	,"Patient"."Status" "Status"
	,"Patient"."DateJoined" "DateJoined"
	,"Patient"."DateCeased" "DateCeased"
	,"Patient"."ReasonCeasedFK" "ReasonCeasedFK"
	,"ReasonCeasedFK"."Description" "ReasonCeasedFkdescription"
	,"Patient"."Name" "Name"
	,"Patient"."PhotoImg" "PhotoImg"
	,"Patient"."PrvMedicalAttach" "PrvMedicalAttach"
	,"Patient"."DateBirth" "DateBirth"
	,"Patient"."Gender" "Gender"
	,"Patient"."NoNRIC" "NoNric"
	,"Patient"."NoOldIC" "NoOldIc"
	,"Patient"."TypeOtherIC" "TypeOtherIc"
	,"Patient"."NoOtherIC" "NoOtherIc"
	,"Patient"."RaceFK" "RaceFK"
	,"RaceFK"."RaceCode" "RaceFkraceCode"
	,"Patient"."ReligionFK" "ReligionFK"
	,"ReligionFK"."ReligionCode" "ReligionFkreligionCode"
	,"Patient"."CorrAddrs1" "CorrAddrs1"
	,"Patient"."CorrAddrs2" "CorrAddrs2"
	,"Patient"."CorrPostCode" "CorrPostCode"
	,"Patient"."CorrCityFK" "CorrCityFK"
	,"CorrCityFK"."CityCode" "CorrCityFkcityCode"
	,"Patient"."CorrStateFK" "CorrStateFK"
	,"CorrStateFK"."StateCode" "CorrStateFkstateCode"
	,"Patient"."CorrCountryFK" "CorrCountryFK"
	,"CorrCountryFK"."CountryCode" "CorrCountryFkcountryCode"
	,"Patient"."NoTelHome" "NoTelHome"
	,"Patient"."NoTelOffice" "NoTelOffice"
	,"Patient"."NoTelMobile" "NoTelMobile"
	,"Patient"."PatientEmail" "PatientEmail"
	,"Patient"."NOKName" "Nokname"
	,"Patient"."NOKRelationshipFK" "NokrelationshipFK"
	,"NOKRelationshipFK"."RelationshipCode" "NokrelationshipFkrelationshipCode"
	,"Patient"."NOKAddrs1" "Nokaddrs1"
	,"Patient"."NOKAddrs2" "Nokaddrs2"
	,"Patient"."NOKPostCode" "NokpostCode"
	,"Patient"."NOKCityFK" "NokcityFK"
	,"NOKCityFK"."CityCode" "NokcityFkcityCode"
	,"Patient"."NOKStateFK" "NokstateFK"
	,"NOKStateFK"."StateCode" "NokstateFkstateCode"
	,"Patient"."NOKCountryFK" "NokcountryFK"
	,"NOKCountryFK"."CountryCode" "NokcountryFkcountryCode"
	,"Patient"."NOKTelHome" "NoktelHome"
	,"Patient"."NOKTelOffice" "NoktelOffice"
	,"Patient"."NOKTelMobile" "NoktelMobile"
	,"Patient"."VascularTypeFK" "VascularTypeFK"
	,"VascularTypeFK"."VascularCode" "VascularTypeFkvascularCode"
	,"Patient"."DateVascular" "DateVascular"
	,"Patient"."DialysisCenterFK" "DialysisCenterFK"
	,"DialysisCenterFK"."Code" "DialysisCenterFkcode"
	,"Patient"."UserCreated" "UserCreated"
	,"Patient"."DateCreated" "DateCreated"
	,"Patient"."UserModified" "UserModified"
	,"Patient"."DateModified" "DateModified"
from "dbo"."Patient" "Patient"
	left join "dbo"."ReasonCeased" "ReasonCeasedFK" on "Patient"."ReasonCeasedFK" = "ReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Race" "RaceFK" on "Patient"."RaceFK" = "RaceFK"."RacePK"
	left join "dbo"."Religion" "ReligionFK" on "Patient"."ReligionFK" = "ReligionFK"."ReligionPK"
	left join "dbo"."City" "CorrCityFK" on "Patient"."CorrCityFK" = "CorrCityFK"."CityPK"
	left join "dbo"."State" "CorrStateFK" on "Patient"."CorrStateFK" = "CorrStateFK"."StatePK"
	left join "dbo"."Country" "CorrCountryFK" on "Patient"."CorrCountryFK" = "CorrCountryFK"."CountryPK"
	left join "dbo"."Relationship" "NOKRelationshipFK" on "Patient"."NOKRelationshipFK" = "NOKRelationshipFK"."RelationshipPK"
	left join "dbo"."City" "NOKCityFK" on "Patient"."NOKCityFK" = "NOKCityFK"."CityPK"
	left join "dbo"."State" "NOKStateFK" on "Patient"."NOKStateFK" = "NOKStateFK"."StatePK"
	left join "dbo"."Country" "NOKCountryFK" on "Patient"."NOKCountryFK" = "NOKCountryFK"."CountryPK"
	left join "dbo"."VascularType" "VascularTypeFK" on "Patient"."VascularTypeFK" = "VascularTypeFK"."VascularTypePK"
	left join "dbo"."DialysisCenter" "DialysisCenterFK" on "Patient"."DialysisCenterFK" = "DialysisCenterFK"."DialysisCenterPK"
]]></text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient PK" readOnly="true" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="30" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('A')" label="Status" length="1" showInSummary="true" />
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="g" default="(getdate())" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" dataFormatString="g" label="Date Ceased" showInSummary="true" />
      <field name="ReasonCeasedFK" type="Int32" label="Reason Ceased FK" showInSummary="true">
        <items style="Lookup" dataController="ReasonCeased" newDataView="createForm1" dataValueField="ReasonCeasedPK" dataTextField="Description" />
      </field>
      <field name="ReasonCeasedFkdescription" type="String" readOnly="true" label="Reason Ceased FK Description" length="50" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="PhotoImg" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo Img" />
      <field name="PrvMedicalAttach" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPrvMedicalAttach" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Prv Medical Attach" />
      <field name="DateBirth" type="DateTime" allowNulls="false" label="Date Birth" />
      <field name="Gender" type="String" allowNulls="false" default="('M')" label="Gender" length="1" />
      <field name="NoNric" type="String" allowNulls="false" default="('')" label="No NRIC" length="15" />
      <field name="NoOldIc" type="String" allowNulls="false" default="('')" label="No Old IC" length="15" />
      <field name="TypeOtherIc" type="String" allowNulls="false" default="('N')" label="Type Other IC" length="1" />
      <field name="NoOtherIc" type="String" allowNulls="false" default="('')" label="No Other IC" length="15" />
      <field name="RaceFK" type="Int32" label="Race FK">
        <items style="Lookup" dataController="Race" newDataView="createForm1" dataValueField="RacePK" dataTextField="RaceCode" />
      </field>
      <field name="RaceFkraceCode" type="String" readOnly="true" label="Race FK Race Code" length="10" />
      <field name="ReligionFK" type="Int32" label="Religion FK">
        <items style="Lookup" dataController="Religion" newDataView="createForm1" dataValueField="ReligionPK" dataTextField="ReligionCode" />
      </field>
      <field name="ReligionFkreligionCode" type="String" readOnly="true" label="Religion FK Religion Code" length="10" />
      <field name="CorrAddrs1" type="String" allowNulls="false" default="('')" label="Corr Addrs1" length="100" />
      <field name="CorrAddrs2" type="String" allowNulls="false" default="('')" label="Corr Addrs2" length="100" />
      <field name="CorrPostCode" type="String" allowNulls="false" default="('')" label="Corr Post Code" length="15" />
      <field name="CorrCityFK" type="Int32" label="Corr City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="CorrCityFkcityCode" type="String" readOnly="true" label="Corr City FK City Code" length="10" />
      <field name="CorrStateFK" type="Int32" label="Corr State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="CorrStateFkstateCode" type="String" readOnly="true" label="Corr State FK State Code" length="10" />
      <field name="CorrCountryFK" type="Int32" label="Corr Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="CorrCountryFkcountryCode" type="String" readOnly="true" label="Corr Country FK Country Code" length="10" />
      <field name="NoTelHome" type="String" allowNulls="false" default="('')" label="No Tel Home" length="15" />
      <field name="NoTelOffice" type="String" allowNulls="false" default="('')" label="No Tel Office" length="15" />
      <field name="NoTelMobile" type="String" allowNulls="false" default="('')" label="No Tel Mobile" length="15" />
      <field name="PatientEmail" type="String" allowNulls="false" default="('')" label="Patient Email" length="100" />
      <field name="Nokname" type="String" allowNulls="false" default="('')" label="NOK Name" length="100" />
      <field name="NokrelationshipFK" type="Int32" label="NOK Relationship FK">
        <items style="Lookup" dataController="Relationship" newDataView="createForm1" dataValueField="RelationshipPK" dataTextField="RelationshipCode" />
      </field>
      <field name="NokrelationshipFkrelationshipCode" type="String" readOnly="true" label="NOK Relationship FK Relationship Code" length="10" />
      <field name="Nokaddrs1" type="String" allowNulls="false" default="('')" label="NOK Addrs1" length="100" />
      <field name="Nokaddrs2" type="String" allowNulls="false" default="('')" label="NOK Addrs2" length="100" />
      <field name="NokpostCode" type="String" allowNulls="false" default="('')" label="NOK Post Code" length="15" />
      <field name="NokcityFK" type="Int32" label="NOK City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="NokcityFkcityCode" type="String" readOnly="true" label="NOK City FK City Code" length="10" />
      <field name="NokstateFK" type="Int32" label="NOK State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="NokstateFkstateCode" type="String" readOnly="true" label="NOK State FK State Code" length="10" />
      <field name="NokcountryFK" type="Int32" label="NOK Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="NokcountryFkcountryCode" type="String" readOnly="true" label="NOK Country FK Country Code" length="10" />
      <field name="NoktelHome" type="String" allowNulls="false" default="('')" label="NOK Tel Home" length="15" />
      <field name="NoktelOffice" type="String" allowNulls="false" default="('')" label="NOK Tel Office" length="15" />
      <field name="NoktelMobile" type="String" allowNulls="false" default="('')" label="NOK Tel Mobile" length="15" />
      <field name="VascularTypeFK" type="Int32" label="Vascular Type FK">
        <items style="Lookup" dataController="VascularType" newDataView="createForm1" dataValueField="VascularTypePK" dataTextField="VascularCode" />
      </field>
      <field name="VascularTypeFkvascularCode" type="String" readOnly="true" label="Vascular Type FK Vascular Code" length="10" />
      <field name="DateVascular" type="DateTime" dataFormatString="g" label="Date Vascular" />
      <field name="DialysisCenterFK" type="Int32" label="Dialysis Center FK">
        <items style="Lookup" dataController="DialysisCenter" newDataView="createForm1" dataValueField="DialysisCenterPK" dataTextField="Code" />
      </field>
      <field name="DialysisCenterFkcode" type="String" readOnly="true" label="Dialysis Center FK Code" length="10" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="Treatment1" type="DataView" label="Treatment 1">
        <dataView controller="Treatment1" view="grid1" filterFields="PatientFK" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Patient1" tags="view-style-cards">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="PhotoImg" columns="15" />
          <dataField fieldName="NoNric" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient1" tags="modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient1">
            <description />
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="PhotoImg" columns="15" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="Treatment1" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Patient1" tags="modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="New Patient1">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="NoReference" columns="30" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription" />
              <dataField fieldName="Name" />
              <dataField fieldName="PhotoImg" columns="15" />
              <dataField fieldName="PrvMedicalAttach" columns="15" />
              <dataField fieldName="DateBirth" columns="10" />
              <dataField fieldName="Gender" columns="1" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoOldIc" columns="15" />
              <dataField fieldName="TypeOtherIc" columns="1" />
              <dataField fieldName="NoOtherIc" columns="15" />
              <dataField fieldName="RaceFK" aliasFieldName="RaceFkraceCode" />
              <dataField fieldName="ReligionFK" aliasFieldName="ReligionFkreligionCode" />
              <dataField fieldName="CorrAddrs1" />
              <dataField fieldName="CorrAddrs2" />
              <dataField fieldName="CorrPostCode" columns="15" />
              <dataField fieldName="CorrCityFK" aliasFieldName="CorrCityFkcityCode" />
              <dataField fieldName="CorrStateFK" aliasFieldName="CorrStateFkstateCode" />
              <dataField fieldName="CorrCountryFK" aliasFieldName="CorrCountryFkcountryCode" />
              <dataField fieldName="NoTelHome" columns="15" />
              <dataField fieldName="NoTelOffice" columns="15" />
              <dataField fieldName="NoTelMobile" columns="15" />
              <dataField fieldName="PatientEmail" />
              <dataField fieldName="Nokname" />
              <dataField fieldName="NokrelationshipFK" aliasFieldName="NokrelationshipFkrelationshipCode" />
              <dataField fieldName="Nokaddrs1" />
              <dataField fieldName="Nokaddrs2" />
              <dataField fieldName="NokpostCode" columns="15" />
              <dataField fieldName="NokcityFK" aliasFieldName="NokcityFkcityCode" />
              <dataField fieldName="NokstateFK" aliasFieldName="NokstateFkstateCode" />
              <dataField fieldName="NokcountryFK" aliasFieldName="NokcountryFkcountryCode" />
              <dataField fieldName="NoktelHome" columns="15" />
              <dataField fieldName="NoktelOffice" columns="15" />
              <dataField fieldName="NoktelMobile" columns="15" />
              <dataField fieldName="VascularTypeFK" aliasFieldName="VascularTypeFkvascularCode" />
              <dataField fieldName="DateVascular" columns="20" />
              <dataField fieldName="DialysisCenterFK" aliasFieldName="DialysisCenterFkcode" />
              <dataField fieldName="UserCreated" columns="20" />
              <dataField fieldName="DateCreated" columns="20" />
              <dataField fieldName="UserModified" columns="20" />
              <dataField fieldName="DateModified" columns="20" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action commandName="Custom" commandArgument="CalcExpenses" id="a102" headerText="Generate Schedule" />
        <action id="a3" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Patient2" conflictDetection="overwriteChanges" label="Patient2" nativeSchema="dbo" nativeTableName="Patient">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Patient"."PatientPK" "PatientPK"
	,"Patient"."NoReference" "NoReference"
	,"Patient"."Status" "Status"
	,"Patient"."DateJoined" "DateJoined"
	,"Patient"."DateCeased" "DateCeased"
	,"Patient"."ReasonCeasedFK" "ReasonCeasedFK"
	,"ReasonCeasedFK"."Description" "ReasonCeasedFkdescription"
	,"Patient"."Name" "Name"
	,"Patient"."PhotoImg" "PhotoImg"
	,"Patient"."PrvMedicalAttach" "PrvMedicalAttach"
	,"Patient"."DateBirth" "DateBirth"
	,"Patient"."Gender" "Gender"
	,"Patient"."NoNRIC" "NoNric"
	,"Patient"."NoOldIC" "NoOldIc"
	,"Patient"."TypeOtherIC" "TypeOtherIc"
	,"Patient"."NoOtherIC" "NoOtherIc"
	,"Patient"."RaceFK" "RaceFK"
	,"RaceFK"."RaceCode" "RaceFkraceCode"
	,"Patient"."ReligionFK" "ReligionFK"
	,"ReligionFK"."ReligionCode" "ReligionFkreligionCode"
	,"Patient"."CorrAddrs1" "CorrAddrs1"
	,"Patient"."CorrAddrs2" "CorrAddrs2"
	,"Patient"."CorrPostCode" "CorrPostCode"
	,"Patient"."CorrCityFK" "CorrCityFK"
	,"CorrCityFK"."CityCode" "CorrCityFkcityCode"
	,"Patient"."CorrStateFK" "CorrStateFK"
	,"CorrStateFK"."StateCode" "CorrStateFkstateCode"
	,"Patient"."CorrCountryFK" "CorrCountryFK"
	,"CorrCountryFK"."CountryCode" "CorrCountryFkcountryCode"
	,"Patient"."NoTelHome" "NoTelHome"
	,"Patient"."NoTelOffice" "NoTelOffice"
	,"Patient"."NoTelMobile" "NoTelMobile"
	,"Patient"."PatientEmail" "PatientEmail"
	,"Patient"."NOKName" "Nokname"
	,"Patient"."NOKRelationshipFK" "NokrelationshipFK"
	,"NOKRelationshipFK"."RelationshipCode" "NokrelationshipFkrelationshipCode"
	,"Patient"."NOKAddrs1" "Nokaddrs1"
	,"Patient"."NOKAddrs2" "Nokaddrs2"
	,"Patient"."NOKPostCode" "NokpostCode"
	,"Patient"."NOKCityFK" "NokcityFK"
	,"NOKCityFK"."CityCode" "NokcityFkcityCode"
	,"Patient"."NOKStateFK" "NokstateFK"
	,"NOKStateFK"."StateCode" "NokstateFkstateCode"
	,"Patient"."NOKCountryFK" "NokcountryFK"
	,"NOKCountryFK"."CountryCode" "NokcountryFkcountryCode"
	,"Patient"."NOKTelHome" "NoktelHome"
	,"Patient"."NOKTelOffice" "NoktelOffice"
	,"Patient"."NOKTelMobile" "NoktelMobile"
	,"Patient"."VascularTypeFK" "VascularTypeFK"
	,"VascularTypeFK"."VascularCode" "VascularTypeFkvascularCode"
	,"Patient"."DateVascular" "DateVascular"
	,"Patient"."DialysisCenterFK" "DialysisCenterFK"
	,"DialysisCenterFK"."Code" "DialysisCenterFkcode"
	,"Patient"."UserCreated" "UserCreated"
	,"Patient"."DateCreated" "DateCreated"
	,"Patient"."UserModified" "UserModified"
	,"Patient"."DateModified" "DateModified"
from "dbo"."Patient" "Patient"
	left join "dbo"."ReasonCeased" "ReasonCeasedFK" on "Patient"."ReasonCeasedFK" = "ReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Race" "RaceFK" on "Patient"."RaceFK" = "RaceFK"."RacePK"
	left join "dbo"."Religion" "ReligionFK" on "Patient"."ReligionFK" = "ReligionFK"."ReligionPK"
	left join "dbo"."City" "CorrCityFK" on "Patient"."CorrCityFK" = "CorrCityFK"."CityPK"
	left join "dbo"."State" "CorrStateFK" on "Patient"."CorrStateFK" = "CorrStateFK"."StatePK"
	left join "dbo"."Country" "CorrCountryFK" on "Patient"."CorrCountryFK" = "CorrCountryFK"."CountryPK"
	left join "dbo"."Relationship" "NOKRelationshipFK" on "Patient"."NOKRelationshipFK" = "NOKRelationshipFK"."RelationshipPK"
	left join "dbo"."City" "NOKCityFK" on "Patient"."NOKCityFK" = "NOKCityFK"."CityPK"
	left join "dbo"."State" "NOKStateFK" on "Patient"."NOKStateFK" = "NOKStateFK"."StatePK"
	left join "dbo"."Country" "NOKCountryFK" on "Patient"."NOKCountryFK" = "NOKCountryFK"."CountryPK"
	left join "dbo"."VascularType" "VascularTypeFK" on "Patient"."VascularTypeFK" = "VascularTypeFK"."VascularTypePK"
	left join "dbo"."DialysisCenter" "DialysisCenterFK" on "Patient"."DialysisCenterFK" = "DialysisCenterFK"."DialysisCenterPK"
]]></text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient PK" readOnly="true" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="30" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('A')" label="Status" length="1" showInSummary="true" />
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="g" default="(getdate())" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" dataFormatString="g" label="Date Ceased" showInSummary="true" />
      <field name="ReasonCeasedFK" type="Int32" label="Reason Ceased FK" showInSummary="true">
        <items style="Lookup" dataController="ReasonCeased" newDataView="createForm1" dataValueField="ReasonCeasedPK" dataTextField="Description" />
      </field>
      <field name="ReasonCeasedFkdescription" type="String" readOnly="true" label="Reason Ceased FK Description" length="50" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="PhotoImg" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo Img" />
      <field name="PrvMedicalAttach" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPrvMedicalAttach" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Prv Medical Attach" />
      <field name="DateBirth" type="DateTime" allowNulls="false" label="Date Birth" />
      <field name="Gender" type="String" allowNulls="false" default="('M')" label="Gender" length="1" />
      <field name="NoNric" type="String" allowNulls="false" default="('')" label="No NRIC" length="15" />
      <field name="NoOldIc" type="String" allowNulls="false" default="('')" label="No Old IC" length="15" />
      <field name="TypeOtherIc" type="String" allowNulls="false" default="('N')" label="Type Other IC" length="1" />
      <field name="NoOtherIc" type="String" allowNulls="false" default="('')" label="No Other IC" length="15" />
      <field name="RaceFK" type="Int32" label="Race FK">
        <items style="Lookup" dataController="Race" newDataView="createForm1" dataValueField="RacePK" dataTextField="RaceCode" />
      </field>
      <field name="RaceFkraceCode" type="String" readOnly="true" label="Race FK Race Code" length="10" />
      <field name="ReligionFK" type="Int32" label="Religion FK">
        <items style="Lookup" dataController="Religion" newDataView="createForm1" dataValueField="ReligionPK" dataTextField="ReligionCode" />
      </field>
      <field name="ReligionFkreligionCode" type="String" readOnly="true" label="Religion FK Religion Code" length="10" />
      <field name="CorrAddrs1" type="String" allowNulls="false" default="('')" label="Corr Addrs1" length="100" />
      <field name="CorrAddrs2" type="String" allowNulls="false" default="('')" label="Corr Addrs2" length="100" />
      <field name="CorrPostCode" type="String" allowNulls="false" default="('')" label="Corr Post Code" length="15" />
      <field name="CorrCityFK" type="Int32" label="Corr City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="CorrCityFkcityCode" type="String" readOnly="true" label="Corr City FK City Code" length="10" />
      <field name="CorrStateFK" type="Int32" label="Corr State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="CorrStateFkstateCode" type="String" readOnly="true" label="Corr State FK State Code" length="10" />
      <field name="CorrCountryFK" type="Int32" label="Corr Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="CorrCountryFkcountryCode" type="String" readOnly="true" label="Corr Country FK Country Code" length="10" />
      <field name="NoTelHome" type="String" allowNulls="false" default="('')" label="No Tel Home" length="15" />
      <field name="NoTelOffice" type="String" allowNulls="false" default="('')" label="No Tel Office" length="15" />
      <field name="NoTelMobile" type="String" allowNulls="false" default="('')" label="No Tel Mobile" length="15" />
      <field name="PatientEmail" type="String" allowNulls="false" default="('')" label="Patient Email" length="100" />
      <field name="Nokname" type="String" allowNulls="false" default="('')" label="NOK Name" length="100" />
      <field name="NokrelationshipFK" type="Int32" label="NOK Relationship FK">
        <items style="Lookup" dataController="Relationship" newDataView="createForm1" dataValueField="RelationshipPK" dataTextField="RelationshipCode" />
      </field>
      <field name="NokrelationshipFkrelationshipCode" type="String" readOnly="true" label="NOK Relationship FK Relationship Code" length="10" />
      <field name="Nokaddrs1" type="String" allowNulls="false" default="('')" label="NOK Addrs1" length="100" />
      <field name="Nokaddrs2" type="String" allowNulls="false" default="('')" label="NOK Addrs2" length="100" />
      <field name="NokpostCode" type="String" allowNulls="false" default="('')" label="NOK Post Code" length="15" />
      <field name="NokcityFK" type="Int32" label="NOK City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="NokcityFkcityCode" type="String" readOnly="true" label="NOK City FK City Code" length="10" />
      <field name="NokstateFK" type="Int32" label="NOK State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="NokstateFkstateCode" type="String" readOnly="true" label="NOK State FK State Code" length="10" />
      <field name="NokcountryFK" type="Int32" label="NOK Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="NokcountryFkcountryCode" type="String" readOnly="true" label="NOK Country FK Country Code" length="10" />
      <field name="NoktelHome" type="String" allowNulls="false" default="('')" label="NOK Tel Home" length="15" />
      <field name="NoktelOffice" type="String" allowNulls="false" default="('')" label="NOK Tel Office" length="15" />
      <field name="NoktelMobile" type="String" allowNulls="false" default="('')" label="NOK Tel Mobile" length="15" />
      <field name="VascularTypeFK" type="Int32" label="Vascular Type FK">
        <items style="Lookup" dataController="VascularType" newDataView="createForm1" dataValueField="VascularTypePK" dataTextField="VascularCode" />
      </field>
      <field name="VascularTypeFkvascularCode" type="String" readOnly="true" label="Vascular Type FK Vascular Code" length="10" />
      <field name="DateVascular" type="DateTime" dataFormatString="g" label="Date Vascular" />
      <field name="DialysisCenterFK" type="Int32" label="Dialysis Center FK">
        <items style="Lookup" dataController="DialysisCenter" newDataView="createForm1" dataValueField="DialysisCenterPK" dataTextField="Code" />
      </field>
      <field name="DialysisCenterFkcode" type="String" readOnly="true" label="Dialysis Center FK Code" length="10" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="DateFrom" type="String" label="Date From" isVirtual="true" allowNulls="false" length="8" />
      <field name="DateTo" type="String" label="Date To" isVirtual="true" allowNulls="false" length="8" />
      <field name="Monday" type="Boolean" label="Monday" isVirtual="true" allowNulls="false" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Tuesday" type="Boolean" label="Tuesday" isVirtual="true" allowNulls="false" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Wednesday" type="Boolean" label="Wednesday" allowNulls="false" isVirtual="true" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Thursday" type="Boolean" label="Thursday" allowNulls="false" isVirtual="true" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Friday" type="Boolean" label="Friday" allowNulls="false" isVirtual="true" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Saturday" type="Boolean" label="Saturday" allowNulls="false" isVirtual="true" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Sunday" type="Boolean" label="Sunday" allowNulls="false" isVirtual="true" default="0">
        <items style="CheckBox" />
      </field>
      <field name="Shift" type="Int16" label="Shift" isVirtual="true" allowNulls="false">
        <items style="Lookup" dataController="Shift" dataTextField="Description" dataValueField="ShiftPK" />
      </field>
      <field name="DialysismachinefkFloor" type="Int32" label="Floor" isVirtual="true" causesCalculate="true" allowNulls="false">
        <items style="DropDownList">
          <item value="1" text="1" />
          <item value="2" text="2" />
          <item value="3" text="3" />
          <item value="4" text="4" />
          <item value="5" text="5" />
          <item value="6" text="6" />
        </items>
      </field>
      <field name="DialysisMachineFK" type="Int32" label="Dialysis Machine FK" showInSummary="true" causesCalculate="true" allowNulls="false" contextFields="SelectedFloor=DialysismachinefkFloor">
        <items copy="DialysismachinefkFloor=Floor" style="Lookup" dataController="DialysisMachine1" dataTextField="Description" dataValueField="DialysisMachinePK" newDataView="createForm1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Patient2">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="PhotoImg" columns="15" />
          <dataField fieldName="NoNric" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Generate Schedule">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Detail">
            <description />
            <dataFields>
              <dataField fieldName="Name" textMode="Static" readOnly="true">
              </dataField>
              <dataField fieldName="NoNric" columns="15" textMode="Static" readOnly="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Generate Schedule" flow="NewRow" id="c2">
            <dataFields>
              <dataField fieldName="DateFrom" columns="15" toolTip="yyyymmdd" watermark="yyyymmdd - 20181231">
              </dataField>
              <dataField fieldName="DateTo" columns="15" toolTip="yyyymmdd" watermark="yyyymmdd - 20181231">
              </dataField>
              <dataField fieldName="Monday" />
              <dataField fieldName="Tuesday" />
              <dataField fieldName="Wednesday" />
              <dataField fieldName="Thursday" />
              <dataField fieldName="Friday" />
              <dataField fieldName="Saturday" />
              <dataField fieldName="Sunday" />
              <dataField fieldName="Shift" columns="15">
              </dataField>
              <dataField fieldName="DialysismachinefkFloor" columns="15" />
              <dataField fieldName="DialysisMachineFK" columns="15" />
            </dataFields>
            <description>Please select date from &amp; date to and followed by day treatment in each week.</description>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Edit" commandArgument="editForm1" />
      </actionGroup>
      <actionGroup id="a3" scope="Form">
        <action commandName="Custom" commandArgument="CompleteSchedule" id="a100" headerText="Generate" whenLastCommandName="Edit" confirmation="The data generate cannot be undo. Please ensure the date insert in a correct format (yyyymmdd - 20181231). &#xD;&#xA;Click OK if you confirm." notify="Schedule generate is completed. Please check schedule page." description="Notification" />
        <action commandName="Custom" commandArgument="window.close();" whenLastCommandName="Edit" id="a104" headerText="Close" causesValidation="false" />
        <action commandName="Custom" commandArgument="CloseForm" whenLastCommandName="Custom" whenLastCommandArgument="CompleteSchedule" causesValidation="false" id="a101" />
      </actionGroup>
      <action id="a3" commandName="Cancel" whenLastCommandName="Edit" />
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r102" commandName="Custom" commandArgument="CompleteSchedule" type="Sql" phase="Execute">EXEC pGenScheduleMonthly @PatientPK, @DateFrom, @DateTo, @Monday, @Tuesday, @Wednesday, @Thursday, @Friday, @Saturday, @Sunday, @DialysisMachineFk, @Shift</rule>
      <rule id="r100" commandName="CloseForm" type="JavaScript" phase="Execute">window.close()</rule>
    </businessRules>
  </dataController>
  <dataController name="Patient3" conflictDetection="overwriteChanges" label="Patient3" nativeSchema="dbo" nativeTableName="Patient">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Patient"."PatientPK" "PatientPK"
	,"Patient"."NoReference" "NoReference"
	,"Patient"."Status" "Status"
	,"Patient"."DateJoined" "DateJoined"
	,"Patient"."DateCeased" "DateCeased"
	,"Patient"."ReasonCeasedFK" "ReasonCeasedFK"
	,"ReasonCeasedFK"."Description" "ReasonCeasedFkdescription"
	,"Patient"."Name" "Name"
	,"Patient"."PhotoImg" "PhotoImg"
	,"Patient"."PrvMedicalAttach" "PrvMedicalAttach"
	,"Patient"."DateBirth" "DateBirth"
	,"Patient"."Gender" "Gender"
	,"Patient"."NoNRIC" "NoNric"
	,"Patient"."NoOldIC" "NoOldIc"
	,"Patient"."TypeOtherIC" "TypeOtherIc"
	,"Patient"."NoOtherIC" "NoOtherIc"
	,"Patient"."RaceFK" "RaceFK"
	,"RaceFK"."Description" "RacefkDescription"
	,"Patient"."ReligionFK" "ReligionFK"
	,"ReligionFK"."Description" "ReligionfkDescription"
	,"Patient"."CorrAddrs1" "CorrAddrs1"
	,"Patient"."CorrAddrs2" "CorrAddrs2"
	,"Patient"."CorrPostCode" "CorrPostCode"
	,"Patient"."CorrCityFK" "CorrCityFK"
	,"CorrCityFK"."CityCode" "CorrCityFkcityCode"
	,"Patient"."CorrStateFK" "CorrStateFK"
	,"CorrStateFK"."Description" "CorrstatefkDescription"
	,"Patient"."CorrCountryFK" "CorrCountryFK"
	,"CorrCountryFK"."CountryCode" "CorrCountryFkcountryCode"
	,"Patient"."NoTelHome" "NoTelHome"
	,"Patient"."NoTelOffice" "NoTelOffice"
	,"Patient"."NoTelMobile" "NoTelMobile"
	,"Patient"."PatientEmail" "PatientEmail"
	,"Patient"."NOKName" "Nokname"
	,"Patient"."NOKRelationshipFK" "NokrelationshipFK"
	,"NOKRelationshipFK"."Description" "NokrelationshipfkDescription"
	,"Patient"."NOKAddrs1" "Nokaddrs1"
	,"Patient"."NOKAddrs2" "Nokaddrs2"
	,"Patient"."NOKPostCode" "NokpostCode"
	,"Patient"."NOKCityFK" "NokcityFK"
	,"NOKCityFK"."CityCode" "NokcityFkcityCode"
	,"Patient"."NOKStateFK" "NokstateFK"
	,"NOKStateFK"."StateCode" "NokstateFkstateCode"
	,"Patient"."NOKCountryFK" "NokcountryFK"
	,"NOKCountryFK"."CountryCode" "NokcountryFkcountryCode"
	,"Patient"."NOKTelHome" "NoktelHome"
	,"Patient"."NOKTelOffice" "NoktelOffice"
	,"Patient"."NOKTelMobile" "NoktelMobile"
	,"Patient"."VascularTypeFK" "VascularTypeFK"
	,"VascularTypeFK"."VascularCode" "VascularTypeFkvascularCode"
	,"Patient"."DateVascular" "DateVascular"
	,"Patient"."DialysisCenterFK" "DialysisCenterFK"
	,"DialysisCenterFK"."Code" "DialysisCenterFkcode"
	,"Patient"."UserCreated" "UserCreated"
	,"Patient"."DateCreated" "DateCreated"
	,"Patient"."UserModified" "UserModified"
	,"Patient"."DateModified" "DateModified"
	,"Patient"."SuratRujukan" "SuratRujukan"
	,"Patient"."SuratDay" "SuratDay"
	,"Patient"."SuratWaktu" "SuratWaktu"
from "dbo"."Patient" "Patient"
	left join "dbo"."ReasonCeased" "ReasonCeasedFK" on "Patient"."ReasonCeasedFK" = "ReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Race" "RaceFK" on "Patient"."RaceFK" = "RaceFK"."RacePK"
	left join "dbo"."Religion" "ReligionFK" on "Patient"."ReligionFK" = "ReligionFK"."ReligionPK"
	left join "dbo"."City" "CorrCityFK" on "Patient"."CorrCityFK" = "CorrCityFK"."CityPK"
	left join "dbo"."State" "CorrStateFK" on "Patient"."CorrStateFK" = "CorrStateFK"."StatePK"
	left join "dbo"."Country" "CorrCountryFK" on "Patient"."CorrCountryFK" = "CorrCountryFK"."CountryPK"
	left join "dbo"."Relationship" "NOKRelationshipFK" on "Patient"."NOKRelationshipFK" = "NOKRelationshipFK"."RelationshipPK"
	left join "dbo"."City" "NOKCityFK" on "Patient"."NOKCityFK" = "NOKCityFK"."CityPK"
	left join "dbo"."State" "NOKStateFK" on "Patient"."NOKStateFK" = "NOKStateFK"."StatePK"
	left join "dbo"."Country" "NOKCountryFK" on "Patient"."NOKCountryFK" = "NOKCountryFK"."CountryPK"
	left join "dbo"."VascularType" "VascularTypeFK" on "Patient"."VascularTypeFK" = "VascularTypeFK"."VascularTypePK"
	left join "dbo"."DialysisCenter" "DialysisCenterFK" on "Patient"."DialysisCenterFK" = "DialysisCenterFK"."DialysisCenterPK"
where Patient.Status = 'I'
]]></text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient PK" readOnly="true" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="30" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('A')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="A" text="Active" />
          <item value="I" text="Inactive" />
        </items>
      </field>
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="d" default="(getdate())" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" dataFormatString="d" label="Date Ceased" showInSummary="true" />
      <field name="ReasonCeasedFK" type="Int32" label="Reason Ceased FK" showInSummary="true">
        <items style="Lookup" dataController="ReasonCeased" newDataView="createForm1" dataValueField="ReasonCeasedPK" dataTextField="Description" />
      </field>
      <field name="ReasonCeasedFkdescription" type="String" readOnly="true" label="Reason Ceased" length="50" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="PhotoImg" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo Img" />
      <field name="PrvMedicalAttach" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPrvMedicalAttach" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Prv Medical Attach" />
      <field name="DateBirth" type="DateTime" allowNulls="false" label="Date Birth" />
      <field name="Gender" type="String" allowNulls="false" default="('M')" label="Gender" length="6">
        <items style="RadioButtonList">
          <item value="M" text="Male" />
          <item value="F" text="Female" />
        </items>
      </field>
      <field name="NoNric" type="String" allowNulls="false" default="('')" label="No NRIC" length="15" />
      <field name="NoOldIc" type="String" allowNulls="false" default="('')" label="No Old IC" length="15" />
      <field name="TypeOtherIc" type="String" allowNulls="false" default="('N')" label="Type Other IC" length="1" />
      <field name="NoOtherIc" type="String" allowNulls="false" default="('')" label="No Other IC" length="15" />
      <field name="RaceFK" type="Int32" label="Race FK">
        <items style="Lookup" dataController="Race" newDataView="createForm1" dataValueField="RacePK" dataTextField="Description" />
      </field>
      <field name="RacefkDescription" type="String" readOnly="true" label="Race" length="50" />
      <field name="ReligionFK" type="Int32" label="Religion FK">
        <items style="Lookup" dataController="Religion" newDataView="createForm1" dataValueField="ReligionPK" dataTextField="Description" />
      </field>
      <field name="ReligionfkDescription" type="String" readOnly="true" label="Religion" length="50" />
      <field name="CorrAddrs1" type="String" allowNulls="false" default="('')" label="Corr Addrs1" length="100" />
      <field name="CorrAddrs2" type="String" allowNulls="false" default="('')" label="Corr Addrs2" length="100" />
      <field name="CorrPostCode" type="String" allowNulls="false" default="('')" label="Corr Post Code" length="15" />
      <field name="CorrCityFK" type="Int32" label="Corr City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="CorrCityFkcityCode" type="String" readOnly="true" label="Corr City FK City Code" length="10" />
      <field name="CorrStateFK" type="Int32" label="Corr State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="Description" />
      </field>
      <field name="CorrstatefkDescription" type="String" readOnly="true" label="Corrstatefk Description" length="50" />
      <field name="CorrCountryFK" type="Int32" label="Corr Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="CorrCountryFkcountryCode" type="String" readOnly="true" label="Corr Country FK Country Code" length="10" />
      <field name="NoTelHome" type="String" allowNulls="false" default="('')" label="No Tel Home" length="15" />
      <field name="NoTelOffice" type="String" allowNulls="false" default="('')" label="No Tel Office" length="15" />
      <field name="NoTelMobile" type="String" allowNulls="false" default="('')" label="No Tel Mobile" length="15" />
      <field name="PatientEmail" type="String" allowNulls="false" default="('')" label="Patient Email" length="100" />
      <field name="Nokname" type="String" allowNulls="false" default="('')" label="NOK Name" length="100" />
      <field name="NokrelationshipFK" type="Int32" label="NOK Relationship FK">
        <items style="Lookup" dataController="Relationship" newDataView="createForm1" dataValueField="RelationshipPK" dataTextField="Description" />
      </field>
      <field name="NokrelationshipfkDescription" type="String" readOnly="true" label="Nokrelationshipfk Description" length="50" />
      <field name="Nokaddrs1" type="String" allowNulls="false" default="('')" label="NOK Addrs1" length="100" />
      <field name="Nokaddrs2" type="String" allowNulls="false" default="('')" label="NOK Addrs2" length="100" />
      <field name="NokpostCode" type="String" allowNulls="false" default="('')" label="NOK Post Code" length="15" />
      <field name="NokcityFK" type="Int32" label="NOK City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="NokcityFkcityCode" type="String" readOnly="true" label="NOK City FK City Code" length="10" />
      <field name="NokstateFK" type="Int32" label="NOK State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="NokstateFkstateCode" type="String" readOnly="true" label="NOK State FK State Code" length="10" />
      <field name="NokcountryFK" type="Int32" label="NOK Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="NokcountryFkcountryCode" type="String" readOnly="true" label="NOK Country FK Country Code" length="10" />
      <field name="NoktelHome" type="String" allowNulls="false" default="('')" label="NOK Tel Home" length="15" />
      <field name="NoktelOffice" type="String" allowNulls="false" default="('')" label="NOK Tel Office" length="15" />
      <field name="NoktelMobile" type="String" allowNulls="false" default="('')" label="NOK Tel Mobile" length="15" />
      <field name="VascularTypeFK" type="Int32" label="Vascular Type FK">
        <items style="Lookup" dataController="VascularType" newDataView="createForm1" dataValueField="VascularTypePK" dataTextField="VascularCode" />
      </field>
      <field name="VascularTypeFkvascularCode" type="String" readOnly="true" label="Vascular Type FK Vascular Code" length="10" />
      <field name="DateVascular" type="DateTime" dataFormatString="g" label="Date Vascular" />
      <field name="DialysisCenterFK" type="Int32" label="Dialysis Center FK">
        <items style="Lookup" dataController="DialysisCenter" newDataView="createForm1" dataValueField="DialysisCenterPK" dataTextField="Code" />
      </field>
      <field name="DialysisCenterFkcode" type="String" readOnly="true" label="Dialysis Center FK Code" length="10" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="SuratRujukan" type="String" allowNulls="false" default="('-')" label="Surat Rujukan" length="20" />
      <field name="SuratDay" type="String" allowNulls="false" default="('-')" label="Surat Day" length="50" />
      <field name="SuratWaktu" type="String" allowNulls="false" default="('-')" label="Surat Waktu" length="50" />
      <field name="ActiveSponsor" type="String" label="Sponsor" computed="true">
        <formula>dbo.tsGetActiveSponsor (PatientPK, getdate())</formula>
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="This Month" filter="month(DateCeased) = month(getdate())">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="Status" columns="10">
          </dataField>
          <dataField fieldName="DateJoined" columns="10" />
          <dataField fieldName="DateCeased" columns="10" />
          <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription" />
          <dataField fieldName="RaceFK" columns="15" aliasFieldName="RacefkDescription">
          </dataField>
          <dataField fieldName="ReligionFK" columns="15" aliasFieldName="ReligionfkDescription">
          </dataField>
          <dataField fieldName="ActiveSponsor" rows="5" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Ceised Patient">
        <headerText />
        <categories>
          <category id="c1" headerText="Personal Info." tab="Personal Info.">
            <description />
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoReference" columns="30" hidden="true">
              </dataField>
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription">
                <visibility>
                  <expression test="[DateCeased] != null" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="DateBirth" columns="10" />
              <dataField fieldName="Gender" columns="1" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoOldIc" columns="15" />
              <dataField fieldName="TypeOtherIc" columns="1" />
              <dataField fieldName="NoOtherIc" columns="15">
                <visibility>
                  <expression test="[TypeOtherIc] != 'N'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="RaceFK" aliasFieldName="RacefkDescription" />
              <dataField fieldName="ReligionFK" aliasFieldName="ReligionfkDescription" />
              <dataField fieldName="PhotoImg" columns="15" />
            </dataFields>
          </category>
          <category headerText="Dialysis Center" id="c2">
            <dataFields>
              <dataField fieldName="DialysisCenterFK" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="allRecord" type="Grid" commandId="command1" label="All Record">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="Status" columns="10">
          </dataField>
          <dataField fieldName="DateJoined" columns="10" />
          <dataField fieldName="DateCeased" columns="10" />
          <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription" />
          <dataField fieldName="RaceFK" columns="15" aliasFieldName="RacefkDescription">
          </dataField>
          <dataField fieldName="ReligionFK" columns="15" aliasFieldName="ReligionfkDescription">
          </dataField>
          <dataField fieldName="ActiveSponsor" rows="5" />
        </dataFields>
      </view>
      <view id="v100" type="Grid" commandId="command1" label="Last Month" filter="DATEPART(m, DateCeased) = DATEPART(m, DATEADD(m, -1, getdate()))&#xD;&#xA;AND DATEPART(yyyy, DateCeased) = DATEPART(yyyy, DATEADD(m, -1, getdate()))&#xD;&#xA;">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="Status" columns="10">
          </dataField>
          <dataField fieldName="DateJoined" columns="10" />
          <dataField fieldName="DateCeased" columns="10" />
          <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription" />
          <dataField fieldName="RaceFK" columns="15" aliasFieldName="RacefkDescription">
          </dataField>
          <dataField fieldName="ReligionFK" columns="15" aliasFieldName="ReligionfkDescription">
          </dataField>
          <dataField fieldName="ActiveSponsor" rows="5" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a6" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action commandName="Navigate" headerText="Print Letter" id="a101" whenKeySelected="true" commandArgument="_blank:JRecReports/RptPatientTermination.aspx?dateFrom09/01/2018&amp;dateTo=09/30/2018">
          <data />
        </action>
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="PatientBloodTest" conflictDetection="overwriteChanges" label="Patient Blood Test" nativeSchema="dbo" nativeTableName="PatientBloodTest">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PatientBloodTest"."PatientBloodTest" "PatientBloodTest"
	,"PatientBloodTest"."DateTest" "DateTest"
	,"PatientBloodTest"."Patient_FK" "PatientFK"
	,"PatientBloodTest"."TreatmentFK" "TreatmentFK"
	,"Treatment"."TreatmentPK" "TreatmentPK"
	,"Treatment"."DateTreatment" "TreatmentDateTreatment"
	,"Treatment"."PatientFK" "TreatmentPatientFK"
	,"PatientBloodTest"."BloodTestTypeFK" "BloodTestTypeFK"
	,"BloodTestType"."Description" "BloodTestTypeDescription"
	,"BloodTestType"."BloodTestCode" "BloodTestTypeBloodTestCode"
	,"Patient"."Name" "PatientName"
	,"Patient"."PatientPK" "PatientPK"
	,"PatientBloodTest"."bHb" "bHb"
	,"PatientBloodTest"."bFerritin" "bFerritin"
	,"PatientBloodTest"."bTsat" "bTsat"
	,"PatientBloodTest"."bEsa" "bEsa"
	,"PatientBloodTest"."cCalcium" "cCalcium"
	,"PatientBloodTest"."cPhosphate" "cPhosphate"
	,"PatientBloodTest"."cALP" "cAlp"
	,"PatientBloodTest"."cIpth" "cIpth"
	,"PatientBloodTest"."dAlbumin" "dAlbumin"
	,"PatientBloodTest"."dPreCreat" "dPreCreat"
	,"PatientBloodTest"."dRbs" "dRbs"
	,"PatientBloodTest"."eHbsAntigen" "eHbsAntigen"
	,"PatientBloodTest"."eHcv" "eHcv"
	,"PatientBloodTest"."eHiv" "eHiv"
	,"PatientBloodTest"."eHbsAntibody" "eHbsAntibody"
	,"PatientBloodTest"."eAlt" "eAlt"
	,"PatientBloodTest"."eVascular" "eVascular"
	,"PatientBloodTest"."eQb" "eQb"
	,"PatientBloodTest"."eUrr" "eUrr"
	,"PatientBloodTest"."fFeFumarate" "fFeFumarate"
	,"PatientBloodTest"."fBcomplex" "fBcomplex"
	,"PatientBloodTest"."fFolate" "fFolate"
	,"PatientBloodTest"."fVitC" "fVitC"
	,"PatientBloodTest"."fCaco3" "fCaco3"
	,"PatientBloodTest"."fCalcitriol" "fCalcitriol"
	,"PatientBloodTest"."fRanitidine" "fRanitidine"
	,"PatientBloodTest"."fSimvastatin" "fSimvastatin"
	,"PatientBloodTest"."fMixtard" "fMixtard"
	,"PatientBloodTest"."gFrequency" "gFrequency"
	,"PatientBloodTest"."gQb" "gQb"
	,"PatientBloodTest"."gQd" "gQd"
	,"PatientBloodTest"."gDuration" "gDuration"
	,"PatientBloodTest"."gDialyser" "gDialyser"
	,"PatientBloodTest"."gDialysate" "gDialysate"
	,"PatientBloodTest"."gHeparinLoad" "gHeparinLoad"
	,"PatientBloodTest"."gHeparinMaintain" "gHeparinMaintain"
	,"PatientBloodTest"."gDryWeight" "gDryWeight"
	,"PatientBloodTest"."hPlan" "hPlan"
	,"PatientBloodTest"."dTCholesterol" "dTcholesterol"
from "dbo"."PatientBloodTest" "PatientBloodTest"
	left join "dbo"."Treatment" "Treatment" on "PatientBloodTest"."TreatmentFK" = "Treatment"."TreatmentPK"
	left join "dbo"."Patient" "Patient" on "Treatment"."PatientFK" = "Patient"."PatientPK"
	left join "dbo"."BloodTestType" "BloodTestType" on "PatientBloodTest"."BloodTestTypeFK" = "BloodTestType"."BloodTestTypePK"
]]></text>
      </command>
      <command id="PatientBloodTestIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientBloodTest" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientBloodTest" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient Blood Test" readOnly="true" />
      <field name="DateTest" type="DateTime" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date Test" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true" />
      <field name="TreatmentFK" type="Int32" default="((0))" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="TreatmentPK" copy="TreatmentDateTreatment=DateTreatment, TreatmentPatientFK=PatientFK, PatientName=PatientName, " />
      </field>
      <field name="TreatmentPK" type="Int32" label="Treatment PK" readOnly="true" />
      <field name="TreatmentDateTreatment" type="DateTime" readOnly="true" dataFormatString="g" label="Treatment Date Treatment" />
      <field name="TreatmentPatientFK" type="Int32" readOnly="true" label="Treatment Patient FK" />
      <field name="BloodTestTypeFK" type="Int32" allowNulls="false" default="((0))" label="Blood Test Type FK" showInSummary="true">
        <items style="Lookup" dataController="BloodTestType" newDataView="createForm1" dataValueField="BloodTestTypePK" dataTextField="Description" copy="BloodTestTypeBloodTestCode=BloodTestCode" />
      </field>
      <field name="BloodTestTypeDescription" type="String" readOnly="true" label="Blood Test Type" length="50" />
      <field name="BloodTestTypeBloodTestCode" type="String" readOnly="true" label="Blood Test Code" length="5" />
      <field name="PatientName" type="String" readOnly="true" label="Name" length="100" />
      <field name="PatientPK" type="Int32" label="Patient PK" readOnly="true" />
      <field name="bHb" type="Decimal" allowNulls="false" default="((0))" label="Hb" showInSummary="true">
        <formula />
      </field>
      <field name="bFerritin" type="Int32" allowNulls="false" default="((0))" label="Ferritin" />
      <field name="bTsat" type="Decimal" allowNulls="false" default="((0))" label="T sat" />
      <field name="bEsa" type="Decimal" allowNulls="false" default="((0))" label="ESA /week" />
      <field name="cCalcium" type="Decimal" allowNulls="false" default="((0))" label="Calcium" />
      <field name="cPhosphate" type="Decimal" allowNulls="false" default="((0))" label="Phosphate" />
      <field name="cAlp" type="Decimal" allowNulls="false" default="((0))" label="ALP" />
      <field name="cIpth" type="Decimal" allowNulls="false" default="((0))" label="i PTH" />
      <field name="dAlbumin" type="Decimal" allowNulls="false" default="((0))" label="Albumin" />
      <field name="dPreCreat" type="Decimal" allowNulls="false" default="((0))" label="Pre D creat" />
      <field name="dRbs" type="Decimal" allowNulls="false" default="((0))" label="RBS" />
      <field name="eHbsAntigen" type="Decimal" allowNulls="false" default="((0))" label="HBs Antigen" />
      <field name="eHcv" type="Decimal" allowNulls="false" default="((0))" label="HCV" />
      <field name="eHiv" type="Decimal" allowNulls="false" default="((0))" label="HIV" />
      <field name="eHbsAntibody" type="Decimal" allowNulls="false" default="((0))" label="HBs Antibody" />
      <field name="eAlt" type="Decimal" allowNulls="false" default="((0))" label="ALT/AST" />
      <field name="eVascular" type="Decimal" allowNulls="false" default="((0))" label="Vascular Access" />
      <field name="eQb" type="Decimal" allowNulls="false" default="((0))" label="Qb" />
      <field name="eUrr" type="Decimal" allowNulls="false" default="((0))" label="URR /Kt/V" />
      <field name="fFeFumarate" type="String" allowNulls="false" default="('')" label="Fe Fumarate" length="50" />
      <field name="fBcomplex" type="String" allowNulls="false" default="('')" label="B complex" length="50" />
      <field name="fFolate" type="String" allowNulls="false" default="('')" label="Folate" length="50" />
      <field name="fVitC" type="String" allowNulls="false" default="('')" label="Vit C" length="50" />
      <field name="fCaco3" type="String" allowNulls="false" default="('')" label="CaCO 3" length="50" />
      <field name="fCalcitriol" type="String" allowNulls="false" default="('')" label="Calcitriol" length="50" />
      <field name="fRanitidine" type="String" allowNulls="false" default="('')" label="Ranitidine" length="50" />
      <field name="fSimvastatin" type="String" allowNulls="false" default="('')" label="Simvastatin" length="50" />
      <field name="fMixtard" type="String" allowNulls="false" default="('')" label="Mixtard" length="50" />
      <field name="gFrequency" type="String" allowNulls="false" default="('')" label="Frequency" length="50" />
      <field name="gQb" type="String" allowNulls="false" default="('')" label="Qb" length="50" />
      <field name="gQd" type="String" allowNulls="false" default="('')" label="Qd" length="50" />
      <field name="gDuration" type="String" allowNulls="false" default="('')" label="Duration" length="50" />
      <field name="gDialyser" type="String" allowNulls="false" default="('')" label="Dialyser" length="50" />
      <field name="gDialysate" type="String" allowNulls="false" default="('')" label="Dialysate Cal" length="50" />
      <field name="gHeparinLoad" type="String" allowNulls="false" default="('')" label="Heparin Load" length="50" />
      <field name="gHeparinMaintain" type="String" allowNulls="false" default="('')" label="Heparin Maintain" length="50" />
      <field name="gDryWeight" type="String" allowNulls="false" default="('')" label="Dry Weight" length="50" />
      <field name="hPlan" type="String" allowNulls="false" default="('')" label="Plan" length="50" />
      <field name="dTcholesterol" type="Decimal" allowNulls="false" default="((0))" label="T Cholesterol" />
      <field name="PatientBtdetail" type="DataView" label="Patient Btdetail">
        <dataView controller="PatientBtdetail" filterFields="PatientBtdetailFK" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Blood Test">
        <headerText />
        <dataFields>
          <dataField fieldName="DateTest" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentPK" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentDateTreatment" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentPatientFK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="BloodTestTypeFK" aliasFieldName="BloodTestTypeDescription" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="PatientPK" columns="15" hidden="true">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient Blood Test" tags="material-icon-mode-edit&#xD;&#xA;modal-max-lg">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Blood Test" wizard="Type">
            <description />
            <dataFields>
              <dataField fieldName="DateTest" columns="20" textMode="Static" dataFormatString="dd/MM/yyyy">
              </dataField>
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentPK" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentDateTreatment" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentPatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="BloodTestTypeFK" aliasFieldName="BloodTestTypeDescription" />
              <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" hidden="true">
              </dataField>
              <dataField fieldName="PatientName" />
              <dataField fieldName="PatientPK" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category wizard="Detail" id="c8">
            <dataFields>
              <dataField fieldName="PatientBtdetail" columns="15" />
            </dataFields>
          </category>
          <category headerText="Anaemia management" id="c2" flow="NewColumn" wizard="Dr Review" tab="Anaemia">
            <dataFields>
              <dataField fieldName="bHb" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="bFerritin" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="bTsat" columns="15" />
              <dataField fieldName="bEsa" columns="15" />
            </dataFields>
          </category>
          <category headerText="CKD/MBD" id="c3" wizard="Dr Review" flow="NewColumn" tab="CKD/MBD">
            <dataFields>
              <dataField fieldName="cCalcium" columns="15" />
              <dataField fieldName="cPhosphate" columns="15" />
              <dataField fieldName="cAlp" columns="15" />
              <dataField fieldName="cIpth" columns="15" />
            </dataFields>
          </category>
          <category headerText="Nutritional" id="c4" wizard="Dr Review" flow="NewColumn" tab="Nutritional">
            <dataFields>
              <dataField fieldName="dAlbumin" columns="15" />
              <dataField fieldName="dPreCreat" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="dTcholesterol" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="dRbs" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Infection control surveillance" id="c5" wizard="Dr Review" flow="NewColumn" tab="Infection">
            <dataFields>
              <dataField fieldName="eHbsAntigen" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="eHcv" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="eHiv" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="eHbsAntibody" columns="15" />
              <dataField fieldName="eAlt" columns="15" />
              <dataField fieldName="eVascular" columns="15" />
              <dataField fieldName="eQb" columns="15" />
              <dataField fieldName="eUrr" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Medications" id="c6" wizard="Dr Review" flow="NewColumn" tab="Medications">
            <dataFields>
              <dataField fieldName="fFeFumarate" columns="50" />
              <dataField fieldName="fBcomplex" columns="50" />
              <dataField fieldName="fFolate" columns="50" />
              <dataField fieldName="fVitC" columns="50" />
              <dataField fieldName="fCaco3" columns="50" />
              <dataField fieldName="fCalcitriol" columns="50" />
              <dataField fieldName="fRanitidine" columns="50" />
              <dataField fieldName="fSimvastatin" columns="50" />
              <dataField fieldName="fMixtard" columns="50" />
            </dataFields>
          </category>
          <category headerText="HD prescriptioin" id="c7" wizard="Dr Review" flow="NewColumn" tab="HD">
            <dataFields>
              <dataField fieldName="gFrequency" columns="50" />
              <dataField fieldName="gQb" columns="50" />
              <dataField fieldName="gQd" columns="50" />
              <dataField fieldName="gDuration" columns="50" />
              <dataField fieldName="gDialyser" columns="50" />
              <dataField fieldName="gDialysate" columns="50" />
              <dataField fieldName="gHeparinLoad" columns="50" />
              <dataField fieldName="gHeparinMaintain" columns="50" />
              <dataField fieldName="gDryWeight" columns="50" />
            </dataFields>
          </category>
          <category headerText="Plan" id="c10" wizard="Dr Review" tab="Plan">
            <dataFields>
              <dataField fieldName="hPlan" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Blood Test" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Patient Blood Test">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="DateTest" columns="20">
              </dataField>
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentPK" />
              <dataField fieldName="TreatmentDateTreatment" columns="20" />
              <dataField fieldName="TreatmentPatientFK" columns="15" />
              <dataField fieldName="BloodTestTypeFK" aliasFieldName="BloodTestTypeDescription" />
              <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" hidden="true">
              </dataField>
              <dataField fieldName="PatientName" />
              <dataField fieldName="PatientPK" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action commandName="Report" id="a100" headerText="Print DR Form">
          <data>_controller=VwBloodTestDr
_view=editForm1 
_template=VwBloodTestDr_BloodTestDrPrint.rdlc 
_sortExpression=Name
PatientBloodTest=PatientBloodTest</data>
        </action>
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" id="a101" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Insert" type="Sql" phase="Execute">IF @TreatmentFK IS NOT NULL
BEGIN
	SET @DateTest = @TreatmentDateTreatment
	SET @PatientFK = @TreatmentPatientFK
END
ELSE
BEGIN
	SET @PatientFK = @PatientPK
	set @TreatmentFK = NULL
END

</rule>
      <rule id="r101" commandName="Select" type="Sql" phase="Execute" view="editForm1">SET @bHb = (select aHemoglobin from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @bTsat = (select fPercTransferin from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @dPreCreat = (select bCreatininePre from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @dTcholesterol = (select dTotalCholesterole from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @dRbs = (select eGlucose from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @eHbsAntigen = (select gHepatitisBAntigen from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @eHcv = (select gHepatitisC from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @eHiv = (select gHIV from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @eHbsAntibody = (select gHepatitisBAntibody from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
SET @eUrr = (select hURR from PatientBTDetail where PatientBTDetailFK = @PatientBloodTest)
</rule>
    </businessRules>
  </dataController>
  <dataController name="PatientBtdetail" conflictDetection="overwriteChanges" label="Patient Btdetail" nativeSchema="dbo" nativeTableName="PatientBTDetail">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PatientBTDetail"."PatientBTDetailPK" "PatientBtdetailPK"
	,"PatientBTDetail"."PatientBTDetailFK" "PatientBtdetailFK"
	,"PatientBTDetail0"."DateTest" "PatientBtdetail0DateTest"
	,"PatientBTDetail0"."Patient_FK" "Patientbtdetail0patientFK"
	,"PatientBTDetail0"."BloodTestTypeFK" "PatientBtdetail0BloodTestTypeFK"
	,"PatientBTDetail"."Detected" "Detected"
	,"PatientBTDetail"."Comment" "Comment"
	,"PatientBTDetail"."aHemoglobin" "aHemoglobin"
	,"PatientBTDetail"."aRBC" "aRbc"
	,"PatientBTDetail"."aMCV" "aMcv"
	,"PatientBTDetail"."aMCH" "aMch"
	,"PatientBTDetail"."aPlatelet" "aPlatelet"
	,"PatientBTDetail"."aWBC" "aWbc"
	,"PatientBTDetail"."bUreaPre" "bUreaPre"
	,"PatientBTDetail"."bUreaPost" "bUreaPost"
	,"PatientBTDetail"."bCreatininePre" "bCreatininePre"
	,"PatientBTDetail"."bCreatininePost" "bCreatininePost"
	,"PatientBTDetail"."bPhosphate" "bPhosphate"
	,"PatientBTDetail"."bUricAcid" "bUricAcid"
	,"PatientBTDetail"."bCalcium" "bCalcium"
	,"PatientBTDetail"."bCorrectedCalcium" "bCorrectedCalcium"
	,"PatientBTDetail"."bSodium" "bSodium"
	,"PatientBTDetail"."bPotassium" "bPotassium"
	,"PatientBTDetail"."bChloride" "bChloride"
	,"PatientBTDetail"."cTotalProtein" "cTotalProtein"
	,"PatientBTDetail"."cAlbumin" "cAlbumin"
	,"PatientBTDetail"."cTotalBilirubin" "cTotalBilirubin"
	,"PatientBTDetail"."cALP" "cAlp"
	,"PatientBTDetail"."cSgot" "cSgot"
	,"PatientBTDetail"."cSgpt" "cSgpt"
	,"PatientBTDetail"."dTotalCholesterole" "dTotalCholesterole"
	,"PatientBTDetail"."dHDL" "dHdl"
	,"PatientBTDetail"."dLDL" "dLdl"
	,"PatientBTDetail"."dTriglycerides" "dTriglycerides"
	,"PatientBTDetail"."eGlucose" "eGlucose"
	,"PatientBTDetail"."eHba" "eHba"
	,"PatientBTDetail"."fSerumIron" "fSerumIron"
	,"PatientBTDetail"."fTIBC" "fTibc"
	,"PatientBTDetail"."fPercTransferin" "fPercTransferin"
	,"PatientBTDetail"."fFerritin" "fFerritin"
	,"PatientBTDetail"."fPTH" "fPth"
	,"PatientBTDetail"."gHepatitisBAntigen" "gHepatitisBantigen"
	,"PatientBTDetail"."gHepatitisBAntibody" "gHepatitisBantibody"
	,"PatientBTDetail"."gHepatitisC" "gHepatitisC"
	,"PatientBTDetail"."gHIV" "gHiv"
	,"PatientBTDetail"."hURR" "hUrr"
	,"PatientBTDetail"."hKTV" "hKtv"
	,"BloodTestType"."BloodTestCode" "BloodTestTypeBloodTestCode"
	,"BloodTestType"."Description" "BloodTestTypeDescription"
	,"PatientBTDetail"."VDRL" "Vdrl"
from "dbo"."PatientBTDetail" "PatientBTDetail"
	left join "dbo"."PatientBloodTest" "PatientBTDetail0" on "PatientBTDetail"."PatientBTDetailFK" = "PatientBTDetail0"."PatientBloodTest"
	left join "dbo"."BloodTestType" "BloodTestType" on "PatientBTDetail0"."BloodTestTypeFK" = "BloodTestType"."BloodTestTypePK"
]]></text>
      </command>
      <command id="PatientBTDetailPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientBtdetailPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientBtdetailPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient BT Detail PK" readOnly="true" />
      <field name="PatientBtdetailFK" type="Int32" default="((0))" label="Patient BT Detail FK" showInSummary="true">
        <items style="Lookup" dataController="PatientBloodTest" newDataView="createForm1" dataValueField="PatientBloodTest" dataTextField="DateTest" copy="Patientbtdetail0patientFK=PatientFK, PatientBtdetail0BloodTestTypeFK=BloodTestTypeFK, BloodTestTypeBloodTestCode=BloodTestTypeBloodTestCode, BloodTestTypeDescription=BloodTestTypeDescription" />
      </field>
      <field name="PatientBtdetail0DateTest" type="DateTime" readOnly="true" dataFormatString="g" label="Patient Btdetail 0 Date Test" />
      <field name="Patientbtdetail0patientFK" type="Int32" readOnly="true" label="Patientbtdetail 0patient FK" />
      <field name="PatientBtdetail0BloodTestTypeFK" type="Int32" readOnly="true" label="Patient Btdetail 0 Blood Test Type FK" />
      <field name="Detected" type="Boolean" default="((0))" label="Detected" showInSummary="true" />
      <field name="Comment" type="String" default="('')" label="Comment" length="100" showInSummary="true" />
      <field name="aHemoglobin" type="Decimal" default="((0))" label="Hemoglobin" showInSummary="true" />
      <field name="aRbc" type="Decimal" default="((0))" label="RBC" showInSummary="true" />
      <field name="aMcv" type="Int32" default="((0))" label="MCV" />
      <field name="aMch" type="Int32" default="((0))" label="MCH" />
      <field name="aPlatelet" type="Int32" default="((0))" label="Platelet" />
      <field name="aWbc" type="String" default="('')" label="WBC" length="10" />
      <field name="bUreaPre" type="Decimal" default="((0))" label="Urea (Pre)" causesCalculate="true" />
      <field name="bUreaPost" type="Decimal" default="((0))" label="Urea (Post)" causesCalculate="true" />
      <field name="bCreatininePre" type="Decimal" default="((0))" label="Creatinine (Pre)" />
      <field name="bCreatininePost" type="Decimal" default="((0))" label="Creatinine (Post)" />
      <field name="bPhosphate" type="Decimal" default="((0))" label="Phosphate" />
      <field name="bUricAcid" type="Decimal" default="((0))" label="Uric Acid" />
      <field name="bCalcium" type="Decimal" default="((0))" label="Calcium" />
      <field name="bCorrectedCalcium" type="Decimal" default="((0))" label="Corrected Calcium" />
      <field name="bSodium" type="Int32" default="((0))" label="Sodium" />
      <field name="bPotassium" type="Decimal" default="((0))" label="Potassium" />
      <field name="bChloride" type="Int32" default="((0))" label="Chloride" />
      <field name="cTotalProtein" type="Decimal" default="((0))" label="Total Protein" />
      <field name="cAlbumin" type="Int32" default="((0))" label="Albumin" />
      <field name="cTotalBilirubin" type="Int32" default="((0))" label="Total Bilirubin" />
      <field name="cAlp" type="Int32" default="((0))" label="Alkaline Phosphatase (ALP)" />
      <field name="cSgot" type="Int32" default="((0))" label="SGOT (AST)" />
      <field name="cSgpt" type="Int32" default="((0))" label="SGPT (ALT)" />
      <field name="dTotalCholesterole" type="Decimal" default="((0))" label="Total Cholesterole" />
      <field name="dHdl" type="Decimal" default="((0))" label="HDL Cholesterole" />
      <field name="dLdl" type="Decimal" default="((0))" label="LDL Cholesterole" />
      <field name="dTriglycerides" type="Decimal" default="((0))" label="Triglycerides" />
      <field name="eGlucose" type="Decimal" default="((0))" label="Glucose" />
      <field name="eHba" type="Decimal" default="((0))" label="HbA1C" />
      <field name="fSerumIron" type="String" default="((0))" label="Serum Iron" length="100" />
      <field name="fTibc" type="Int32" default="((0))" label="TIBC" />
      <field name="fPercTransferin" type="Int32" default="((0))" label="% Transferin Saturation" />
      <field name="fFerritin" type="Int32" default="((0))" label="Ferritin" />
      <field name="fPth" type="Decimal" default="((0))" label="PTH" />
      <field name="gHepatitisBantigen" type="String" default="((0))" label="Hepatitis B Antigen" length="50" />
      <field name="gHepatitisBantibody" type="String" default="((0))" label="Hepatitis B Antibody" length="50" />
      <field name="gHepatitisC" type="String" default="((0))" label="Hepatitis C Antibody" length="50" />
      <field name="gHiv" type="String" default="((0))" label="HIV 1 &amp; 2 Ab/Ag" length="50" />
      <field name="hUrr" type="Decimal" allowNulls="false" default="((0))" label="URR" />
      <field name="hKtv" type="Decimal" default="((0))" label="KTV" />
      <field name="BloodTestTypeBloodTestCode" type="String" readOnly="true" label="Blood Test Type Blood Test Code" length="5" />
      <field name="BloodTestTypeDescription" type="String" readOnly="true" label="Blood Test Type Description" length="50" />
      <field name="Vdrl" type="Decimal" allowNulls="false" default="((0))" label="VDRL" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Detail" tags="modal-max-any">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientBtdetailFK" aliasFieldName="PatientBtdetail0DateTest" />
          <dataField fieldName="Patientbtdetail0patientFK" columns="15" />
          <dataField fieldName="PatientBtdetail0BloodTestTypeFK" columns="15" />
          <dataField fieldName="Comment" />
          <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" />
          <dataField fieldName="BloodTestTypeDescription" columns="50" />
          <dataField fieldName="Vdrl" columns="15" />
          <dataField fieldName="hUrr" columns="15" />
          <dataField fieldName="hKtv" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Blood Test" tags="material-icon-mode-edit">
        <headerText />
        <categories>
          <category headerText="Haematology" id="c2" tab="Haematology" wizard="Haematology">
            <dataFields>
              <dataField fieldName="aHemoglobin" columns="15">
                <footerText>G/DL</footerText>
              </dataField>
              <dataField fieldName="aRbc" columns="15">
                <footerText>X 10^12/L</footerText>
              </dataField>
              <dataField fieldName="aMcv" columns="15">
                <footerText>FL</footerText>
              </dataField>
              <dataField fieldName="aMch" columns="15">
                <footerText>PG</footerText>
              </dataField>
              <dataField fieldName="aPlatelet" columns="15">
                <footerText>X 10^9/L</footerText>
              </dataField>
              <dataField fieldName="aWbc" columns="10">
                <footerText>X 10^9/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; || &#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;FBC&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HBI&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HB&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Renal Profile" id="c3" tab="Renal Profile" wizard="Renal Profile">
            <dataFields>
              <dataField fieldName="bUreaPre" columns="15">
                <headerText />
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bUreaPost" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCreatininePre" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCreatininePost" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="bPhosphate" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="bUricAcid" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCalcium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCorrectedCalcium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bSodium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bPotassium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bChloride" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;PRA4&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Liver Function Test" id="c4" tab="Liver Function Test" wizard="Liver Function Test">
            <dataFields>
              <dataField fieldName="cTotalProtein" columns="15">
                <footerText>G/L</footerText>
              </dataField>
              <dataField fieldName="cAlbumin" columns="15">
                <footerText>G/L</footerText>
              </dataField>
              <dataField fieldName="cTotalBilirubin" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="cAlp" columns="15">
                <footerText>IU/L</footerText>
              </dataField>
              <dataField fieldName="cSgot" columns="15">
                <footerText>IU/L</footerText>
              </dataField>
              <dataField fieldName="cSgpt" columns="15">
                <footerText>IU/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; || &#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;LFT&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Coronary Risk Profile" id="c5" tab="Coronary Risk Profile" wizard="Coronary Risk Profile">
            <dataFields>
              <dataField fieldName="dTotalCholesterole" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="dHdl" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="dLdl" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="dTriglycerides" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; " type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Diabetes Screen" id="c6" tab="Diabetes Screen" wizard="Diabetes Screen">
            <dataFields>
              <dataField fieldName="eGlucose" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="eHba" columns="15">
                <footerText>%</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Iron Profile" id="c7" tab="Iron Profile" wizard="Iron Profile">
            <dataFields>
              <dataField fieldName="fSerumIron">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="fTibc" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="fPercTransferin" columns="15">
                <footerText>%</footerText>
              </dataField>
              <dataField fieldName="fFerritin" columns="15">
                <footerText>NG/ML</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;IRON&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HBI&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Hepatitis Serology" id="c8" tab="Hepatitis Serology" wizard="Hepatitis Serology">
            <dataFields>
              <dataField fieldName="gHepatitisBantigen" columns="50" />
              <dataField fieldName="gHepatitisBantibody" columns="50">
                <footerText>IU/L</footerText>
              </dataField>
              <dataField fieldName="gHepatitisC" columns="50" />
              <dataField fieldName="gHiv" columns="50" />
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HHH&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category id="c1" headerText="Blood Test Detail" tab="Remark" wizard="Remark">
            <description />
            <dataFields>
              <dataField fieldName="PatientBtdetailFK" aliasFieldName="PatientBtdetail0DateTest" />
              <dataField fieldName="Patientbtdetail0patientFK" columns="15" />
              <dataField fieldName="PatientBtdetail0BloodTestTypeFK" columns="15" />
              <dataField fieldName="Detected" hidden="true">
              </dataField>
              <dataField fieldName="Comment" rows="3">
              </dataField>
              <dataField fieldName="Vdrl" columns="15" />
              <dataField fieldName="fPth" columns="15">
                <footerText>Pmol/l</footerText>
              </dataField>
              <dataField fieldName="hUrr" columns="15" textMode="Static">
                <footerText>%</footerText>
              </dataField>
              <dataField fieldName="hKtv" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="BloodTestTypeDescription" columns="50" />
              <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Blood Test" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category headerText="Haematology" id="c2" tab="Haematology" wizard="Haematology">
            <dataFields>
              <dataField fieldName="aHemoglobin" columns="15">
                <footerText>G/DL</footerText>
              </dataField>
              <dataField fieldName="aRbc" columns="15">
                <footerText>X 10^12/L</footerText>
              </dataField>
              <dataField fieldName="aMcv" columns="15">
                <footerText>FL</footerText>
              </dataField>
              <dataField fieldName="aMch" columns="15">
                <footerText>PG</footerText>
              </dataField>
              <dataField fieldName="aPlatelet" columns="15">
                <footerText>X 10^9/L</footerText>
              </dataField>
              <dataField fieldName="aWbc" columns="10">
                <footerText>X 10^9/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; || &#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;FBC&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HBI&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HB&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Renal Profile" id="c3" tab="Renal Profile" wizard="Renal Profile">
            <dataFields>
              <dataField fieldName="bUreaPre" columns="15">
                <headerText />
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bUreaPost" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCreatininePre" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCreatininePost" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="bPhosphate" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="bUricAcid" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCalcium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bCorrectedCalcium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bSodium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bPotassium" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="bChloride" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;PRA4&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Liver Function Test" id="c4" tab="Liver Function Test" wizard="Liver Function Test">
            <dataFields>
              <dataField fieldName="cTotalProtein" columns="15">
                <footerText>G/L</footerText>
              </dataField>
              <dataField fieldName="cAlbumin" columns="15">
                <footerText>G/L</footerText>
              </dataField>
              <dataField fieldName="cTotalBilirubin" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="cAlp" columns="15">
                <footerText>IU/L</footerText>
              </dataField>
              <dataField fieldName="cSgot" columns="15">
                <footerText>IU/L</footerText>
              </dataField>
              <dataField fieldName="cSgpt" columns="15">
                <footerText>IU/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; || &#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;LFT&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Coronary Risk Profile" id="c5" tab="Coronary Risk Profile" wizard="Coronary Risk Profile">
            <dataFields>
              <dataField fieldName="dTotalCholesterole" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="dHdl" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="dLdl" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="dTriglycerides" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; " type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Diabetes Screen" id="c6" tab="Diabetes Screen" wizard="Diabetes Screen">
            <dataFields>
              <dataField fieldName="eGlucose" columns="15">
                <footerText>MMOL/L</footerText>
              </dataField>
              <dataField fieldName="eHba" columns="15">
                <footerText>%</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Iron Profile" id="c7" tab="Iron Profile" wizard="Iron Profile">
            <dataFields>
              <dataField fieldName="fSerumIron">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="fTibc" columns="15">
                <footerText>UMOL/L</footerText>
              </dataField>
              <dataField fieldName="fPercTransferin" columns="15">
                <footerText>%</footerText>
              </dataField>
              <dataField fieldName="fFerritin" columns="15">
                <footerText>Pmol/l</footerText>
              </dataField>
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;IRON&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HBI&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Hepatitis Serology" id="c8" tab="Hepatitis Serology" wizard="Hepatitis Serology">
            <dataFields>
              <dataField fieldName="gHepatitisBantigen" columns="50" />
              <dataField fieldName="gHepatitisBantibody" columns="50">
                <footerText>IU/L</footerText>
              </dataField>
              <dataField fieldName="gHepatitisC" columns="50" />
              <dataField fieldName="gHiv" columns="50" />
            </dataFields>
            <visibility>
              <expression test="[BloodTestTypeBloodTestCode] == &quot;PHC1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ1&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;MAIJ2&quot; ||&#xD;&#xA;[BloodTestTypeBloodTestCode] == &quot;HHH&quot;" type="ClientScript" />
            </visibility>
          </category>
          <category id="c1" headerText="Blood Test Detail" tab="Remark" wizard="Remark">
            <description />
            <dataFields>
              <dataField fieldName="PatientBtdetailFK" aliasFieldName="PatientBtdetail0DateTest" />
              <dataField fieldName="Patientbtdetail0patientFK" columns="15" />
              <dataField fieldName="PatientBtdetail0BloodTestTypeFK" columns="15" />
              <dataField fieldName="Detected" hidden="true">
              </dataField>
              <dataField fieldName="Comment" rows="3">
              </dataField>
              <dataField fieldName="Vdrl" columns="15" />
              <dataField fieldName="fPth" columns="15">
                <footerText>Pmol/l</footerText>
              </dataField>
              <dataField fieldName="hUrr" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="hKtv" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="BloodTestTypeDescription" columns="50" />
              <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
        <action commandName="Report" headerText="Chart Form" id="a100" cssClass="material-icon-cloud-download">
          <data>_controller=VwBloodTestChart
_view=editForm1 
_template=VwBloodTestChart_BloodTestChart.rdlc
_sortExpression=Name
PatientBtdetailPK=PatientBtdetailPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Report" headerText="Chart Form" id="a100">
          <data>_controller=VwBloodTestChart
_view=editForm1 
_template=VwBloodTestChart_BloodTestChart.rdlc
_sortExpression=Name
PatientBtdetailPK=PatientBtdetailPK</data>
        </action>
        <action id="a2" commandName="Delete" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Calculate" type="Sql" phase="Execute">SET @hUrr = ((@bUreaPre - @bUreaPost) / @bUreaPre ) * 100
SET @hKtv = (((@bUreaPre - @bUreaPost) / @bUreaPre ) * 100) * 0.026 - 0.46

SET @hUrr = cast(@hUrr as numeric(10,2)) 
SET @hKtv = cast(@hKtv as numeric(10,2)) </rule>
    </businessRules>
  </dataController>
  <dataController name="PatientDialyzer" conflictDetection="overwriteChanges" label="Patient Dialyzer" nativeSchema="dbo" nativeTableName="PatientDialyzer">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PatientDialyzer"."PatDialyzerPk" "PatDialyzerPK"
	,"PatientDialyzer"."PatientFK" "PatientFK"
	,"PatientFK"."Name" "PatientfkName"
	,"PatientFK"."PatientPK" "PatientfkPatientpk"
	,"PatientDialyzer"."DialyzerFK" "DialyzerFK"
	,"DialyzerFK"."Description" "DialyzerFkdescription"
	,"PatientDialyzer"."DateOpen" "DateOpen"
	,"PatientDialyzer"."Status" "Status"
	,"PatientDialyzer"."ReferenceNumber" "ReferenceNumber"
from "dbo"."PatientDialyzer" "PatientDialyzer"
	left join "dbo"."Patient" "PatientFK" on "PatientDialyzer"."PatientFK" = "PatientFK"."PatientPK"
	left join "dbo"."Dialyzer" "DialyzerFK" on "PatientDialyzer"."DialyzerFK" = "DialyzerFK"."DialyzerPk"
]]></text>
      </command>
      <command id="PatDialyzerPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatDialyzerPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatDialyzerPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Pat Dialyzer Pk" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" copy="PatientfkPatientpk=PatientPK" />
      </field>
      <field name="PatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="PatientfkPatientpk" type="Int32" label="Patientfk Patientpk" readOnly="true" />
      <field name="DialyzerFK" type="Int32" allowNulls="false" label="Dialyzer Type" showInSummary="true">
        <items style="Lookup" dataController="Dialyzer" newDataView="createForm1" dataValueField="DialyzerPK" dataTextField="Description" />
      </field>
      <field name="DialyzerFkdescription" type="String" readOnly="true" label="Description" length="50" />
      <field name="DateOpen" type="DateTime" label="Date Open" showInSummary="true" allowNulls="false" dataFormatString="dd/MM/yyyy" />
      <field name="Status" type="String" allowNulls="false" default="('')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="A" text="Active" />
          <item value="E" text="Expired" />
        </items>
      </field>
      <field name="ReferenceNumber" type="String" allowNulls="false" default="('')" label="Reference Number" length="12" showInSummary="true" />
      <field name="TotalUsed" type="Int16" label="Total Used" computed="true">
        <formula>dbo.tsGetTotalUse(PatientFK, PatDialyzerPk)</formula>
      </field>
    </fields>
    <views>
      <view id="grid1" type="DataSheet" commandId="command1" label="Patient Dialyzer" filter="@ContextFields_TreatmentPatientFK is null or PatDialyzerPk in &#xD;&#xA;(&#xD;&#xA;select PatDialyzerPk from PatientDialyzer&#xD;&#xA;where PatientFK = @ContextFields_TreatmentPatientFK&#xD;&#xA;and Status = 'A'&#xD;&#xA;)" group="Status" sortExpression="PatientfkName">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
          <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerFkdescription">
            <headerText>Description</headerText>
          </dataField>
          <dataField fieldName="DateOpen" columns="10" />
          <dataField fieldName="Status" columns="1" />
          <dataField fieldName="PatientfkPatientpk" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="ReferenceNumber" columns="12" />
          <dataField fieldName="TotalUsed" rows="5" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient Dialyzer">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Patient Dialyzer">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="PatientfkPatientpk" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerFkdescription" />
              <dataField fieldName="DateOpen" columns="10" dataFormatString="dd/MM/yyyy">
              </dataField>
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="ReferenceNumber" columns="12" hidden="true">
              </dataField>
              <dataField fieldName="TotalUsed" columns="15" readOnly="true" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Patient Dialyzer">
        <headerText />
        <categories>
          <category id="c1" headerText="New Patient Dialyzer">
            <description />
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="PatientfkPatientpk" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerFkdescription">
              </dataField>
              <dataField fieldName="DateOpen" columns="10" dataFormatString="dd/MM/yyyy">
              </dataField>
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="ReferenceNumber" columns="12" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" whenView="editForm1" whenClientScript="this.hasDetails()" id="a100" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="PatientDialyzer1" conflictDetection="overwriteChanges" label="Patient Dialyzer1" nativeSchema="dbo" nativeTableName="PatientDialyzer">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PatientDialyzer"."PatDialyzerPk" "PatDialyzerPK"
	,"PatientDialyzer"."PatientFK" "PatientFK"
	,"PatientFK"."NoReference" "PatientFknoReference"
	,"PatientFKNOKCityFK"."CityCode" "PatientFknokcityFkcityCode"
	,"PatientFKNOKCountryFK"."CountryCode" "PatientFknokcountryFkcountryCode"
	,"PatientFKNOKStateFK"."StateCode" "PatientFknokstateFkstateCode"
	,"PatientFKCorrCityFK"."CityCode" "PatientFkcorrCityFkcityCode"
	,"PatientFKCorrCountryFK"."CountryCode" "PatientFkcorrCountryFkcountryCode"
	,"PatientFKDialysisCenterFK"."Code" "PatientFkdialysisCenterFkcode"
	,"PatientFKRaceFK"."RaceCode" "PatientFkraceCode"
	,"PatientFKReasonCeasedFK"."Description" "PatientFkreasonCeasedFkdescription"
	,"PatientFKNOKRelationshipFK"."RelationshipCode" "PatientFknokrelationshipFkrelationshipCode"
	,"PatientFKReligionFK"."ReligionCode" "PatientFkreligionCode"
	,"PatientFKCorrStateFK"."StateCode" "PatientFkcorrStateFkstateCode"
	,"PatientFKVascularTypeFK"."VascularCode" "PatientFkvascularTypeFkvascularCode"
	,"PatientDialyzer"."DialyzerFK" "DialyzerFK"
	,"DialyzerFK"."Description" "DialyzerFkdescription"
	,"PatientDialyzer"."DateOpen" "DateOpen"
	,"PatientDialyzer"."Status" "Status"
	,"PatientDialyzer"."ReferenceNumber" "ReferenceNumber"
from "dbo"."PatientDialyzer" "PatientDialyzer"
	left join "dbo"."Patient" "PatientFK" on "PatientDialyzer"."PatientFK" = "PatientFK"."PatientPK"
	left join "dbo"."City" "PatientFKNOKCityFK" on "PatientFK"."NOKCityFK" = "PatientFKNOKCityFK"."CityPK"
	left join "dbo"."Country" "PatientFKNOKCountryFK" on "PatientFK"."NOKCountryFK" = "PatientFKNOKCountryFK"."CountryPK"
	left join "dbo"."State" "PatientFKNOKStateFK" on "PatientFK"."NOKStateFK" = "PatientFKNOKStateFK"."StatePK"
	left join "dbo"."City" "PatientFKCorrCityFK" on "PatientFK"."CorrCityFK" = "PatientFKCorrCityFK"."CityPK"
	left join "dbo"."Country" "PatientFKCorrCountryFK" on "PatientFK"."CorrCountryFK" = "PatientFKCorrCountryFK"."CountryPK"
	left join "dbo"."DialysisCenter" "PatientFKDialysisCenterFK" on "PatientFK"."DialysisCenterFK" = "PatientFKDialysisCenterFK"."DialysisCenterPK"
	left join "dbo"."Race" "PatientFKRaceFK" on "PatientFK"."RaceFK" = "PatientFKRaceFK"."RacePK"
	left join "dbo"."ReasonCeased" "PatientFKReasonCeasedFK" on "PatientFK"."ReasonCeasedFK" = "PatientFKReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Relationship" "PatientFKNOKRelationshipFK" on "PatientFK"."NOKRelationshipFK" = "PatientFKNOKRelationshipFK"."RelationshipPK"
	left join "dbo"."Religion" "PatientFKReligionFK" on "PatientFK"."ReligionFK" = "PatientFKReligionFK"."ReligionPK"
	left join "dbo"."State" "PatientFKCorrStateFK" on "PatientFK"."CorrStateFK" = "PatientFKCorrStateFK"."StatePK"
	left join "dbo"."VascularType" "PatientFKVascularTypeFK" on "PatientFK"."VascularTypeFK" = "PatientFKVascularTypeFK"."VascularTypePK"
	left join "dbo"."Dialyzer" "DialyzerFK" on "PatientDialyzer"."DialyzerFK" = "DialyzerFK"."DialyzerPk"
]]></text>
      </command>
      <command id="PatDialyzerPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatDialyzerPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatDialyzerPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Pat Dialyzer Pk" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="NoReference" copy="PatientFkreasonCeasedFkdescription=ReasonCeasedFkdescription, " />
      </field>
      <field name="PatientFknoReference" type="String" readOnly="true" label="Patient FK No Reference" length="30" />
      <field name="PatientFknokcityFkcityCode" type="String" readOnly="true" label="Patient FKNOK City FK City Code" length="10" />
      <field name="PatientFknokcountryFkcountryCode" type="String" readOnly="true" label="Patient FKNOK Country FK Country Code" length="10" />
      <field name="PatientFknokstateFkstateCode" type="String" readOnly="true" label="Patient FKNOK State FK State Code" length="10" />
      <field name="PatientFkcorrCityFkcityCode" type="String" readOnly="true" label="Patient FK Corr City FK City Code" length="10" />
      <field name="PatientFkcorrCountryFkcountryCode" type="String" readOnly="true" label="Patient FK Corr Country FK Country Code" length="10" />
      <field name="PatientFkdialysisCenterFkcode" type="String" readOnly="true" label="Patient FK Dialysis Center FK Code" length="10" />
      <field name="PatientFkraceCode" type="String" readOnly="true" label="Patient FK Race Code" length="10" />
      <field name="PatientFkreasonCeasedFkdescription" type="String" readOnly="true" label="Patient FK Reason Ceased FK Description" length="50" />
      <field name="PatientFknokrelationshipFkrelationshipCode" type="String" readOnly="true" label="Patient FKNOK Relationship FK Relationship Code" length="10" />
      <field name="PatientFkreligionCode" type="String" readOnly="true" label="Patient FK Religion Code" length="10" />
      <field name="PatientFkcorrStateFkstateCode" type="String" readOnly="true" label="Patient FK Corr State FK State Code" length="10" />
      <field name="PatientFkvascularTypeFkvascularCode" type="String" readOnly="true" label="Patient FK Vascular Type FK Vascular Code" length="10" />
      <field name="DialyzerFK" type="Int32" allowNulls="false" label="Dialyzer FK" showInSummary="true">
        <items style="Lookup" dataController="Dialyzer" newDataView="createForm1" dataValueField="DialyzerPK" dataTextField="Description" />
      </field>
      <field name="DialyzerFkdescription" type="String" readOnly="true" label="Dialyzer FK Description" length="50" />
      <field name="DateOpen" type="DateTime" dataFormatString="dd/MM/yyyy" label="Date Open" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('')" label="Status" length="1" showInSummary="true" />
      <field name="ReferenceNumber" type="String" allowNulls="false" default="('')" label="Reference Number" length="12" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Patient Dialyzer1">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientFknoReference" />
          <dataField fieldName="PatientFknokcityFkcityCode" columns="10" />
          <dataField fieldName="PatientFknokcountryFkcountryCode" columns="10" />
          <dataField fieldName="PatientFknokstateFkstateCode" columns="10" />
          <dataField fieldName="PatientFkcorrCityFkcityCode" columns="10" />
          <dataField fieldName="PatientFkcorrCountryFkcountryCode" columns="10" />
          <dataField fieldName="PatientFkdialysisCenterFkcode" columns="10" />
          <dataField fieldName="PatientFkraceCode" columns="10" />
          <dataField fieldName="PatientFkreasonCeasedFkdescription" columns="50" />
          <dataField fieldName="PatientFknokrelationshipFkrelationshipCode" columns="10" />
          <dataField fieldName="PatientFkreligionCode" columns="10" />
          <dataField fieldName="PatientFkcorrStateFkstateCode" columns="10" />
          <dataField fieldName="PatientFkvascularTypeFkvascularCode" columns="10" />
          <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerFkdescription" />
          <dataField fieldName="DateOpen" columns="20" />
          <dataField fieldName="Status" columns="1" />
          <dataField fieldName="ReferenceNumber" columns="12" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient Dialyzer1">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Patient Dialyzer1">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientFknoReference" />
              <dataField fieldName="PatientFknokcityFkcityCode" columns="10" />
              <dataField fieldName="PatientFknokcountryFkcountryCode" columns="10" />
              <dataField fieldName="PatientFknokstateFkstateCode" columns="10" />
              <dataField fieldName="PatientFkcorrCityFkcityCode" columns="10" />
              <dataField fieldName="PatientFkcorrCountryFkcountryCode" columns="10" />
              <dataField fieldName="PatientFkdialysisCenterFkcode" columns="10" />
              <dataField fieldName="PatientFkraceCode" columns="10" />
              <dataField fieldName="PatientFkreasonCeasedFkdescription" columns="50" />
              <dataField fieldName="PatientFknokrelationshipFkrelationshipCode" columns="10" />
              <dataField fieldName="PatientFkreligionCode" columns="10" />
              <dataField fieldName="PatientFkcorrStateFkstateCode" columns="10" />
              <dataField fieldName="PatientFkvascularTypeFkvascularCode" columns="10" />
              <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerFkdescription" />
              <dataField fieldName="DateOpen" columns="20" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="ReferenceNumber" columns="12" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Patient Dialyzer1">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Patient Dialyzer1">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientFknoReference" />
              <dataField fieldName="PatientFknokcityFkcityCode" columns="10" />
              <dataField fieldName="PatientFknokcountryFkcountryCode" columns="10" />
              <dataField fieldName="PatientFknokstateFkstateCode" columns="10" />
              <dataField fieldName="PatientFkcorrCityFkcityCode" columns="10" />
              <dataField fieldName="PatientFkcorrCountryFkcountryCode" columns="10" />
              <dataField fieldName="PatientFkdialysisCenterFkcode" columns="10" />
              <dataField fieldName="PatientFkraceCode" columns="10" />
              <dataField fieldName="PatientFkreasonCeasedFkdescription" columns="50" />
              <dataField fieldName="PatientFknokrelationshipFkrelationshipCode" columns="10" />
              <dataField fieldName="PatientFkreligionCode" columns="10" />
              <dataField fieldName="PatientFkcorrStateFkstateCode" columns="10" />
              <dataField fieldName="PatientFkvascularTypeFkvascularCode" columns="10" />
              <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerFkdescription" />
              <dataField fieldName="DateOpen" columns="20" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="ReferenceNumber" columns="12" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="PatientMedicine" conflictDetection="overwriteChanges" label="Patient Medicine" nativeSchema="dbo" nativeTableName="PatientMedicine">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PatientMedicine"."MedicinePk" "MedicinePK"
	,"PatientMedicine"."Description" "Description"
	,"PatientMedicine"."Status" "Status"
	,"PatientMedicine"."TakenFrom" "TakenFrom"
	,"PatientMedicine"."TakenStop" "TakenStop"
	,"PatientMedicine"."PatientFk" "PatientFK"
	,"PatientFk"."Name" "PatientFkName"
from "dbo"."PatientMedicine" "PatientMedicine"
	left join "dbo"."Patient" "PatientFk" on "PatientMedicine"."PatientFk" = "PatientFk"."PatientPK"
]]></text>
      </command>
      <command id="MedicinePkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="MedicinePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="MedicinePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Medicine Pk" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="150" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" label="Status" length="10" showInSummary="true">
        <items style="DropDownList">
          <item value="A" text="ACTIVE" />
          <item value="N" text="INACTIVE" />
        </items>
      </field>
      <field name="TakenFrom" type="DateTime" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date From" showInSummary="true" />
      <field name="TakenStop" type="DateTime" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date To" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient Fk" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="PatientFkName" type="String" readOnly="true" label="Patient Name" length="100" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Patient Medicine">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Description" />
          <dataField fieldName="Status" columns="10">
          </dataField>
          <dataField fieldName="TakenFrom" columns="20" />
          <dataField fieldName="TakenStop" columns="20" />
          <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient Medicine">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Medicine">
            <description />
            <dataFields>
              <dataField fieldName="Description" />
              <dataField fieldName="Status" columns="10">
              </dataField>
              <dataField fieldName="TakenFrom" columns="20" />
              <dataField fieldName="TakenStop" columns="20" />
              <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Patient Medicine">
        <headerText />
        <categories>
          <category id="c1" headerText="New Patient Medicine">
            <description />
            <dataFields>
              <dataField fieldName="Description" rows="3">
              </dataField>
              <dataField fieldName="Status" columns="10">
              </dataField>
              <dataField fieldName="TakenFrom" columns="20" />
              <dataField fieldName="TakenStop" columns="20" />
              <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @TakenFrom = GETDATE()
SET @TakenStop = '99991231'</rule>
    </businessRules>
  </dataController>
  <dataController name="PatSponsor" conflictDetection="overwriteChanges" label="Pat Sponsor" nativeSchema="dbo" nativeTableName="PatSponsor">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PatSponsor"."PatSponsorPK" "PatSponsorPK"
	,"PatientFK"."NoReference" "PatientFknoReference"
	,"PatSponsor"."SponsorFK" "SponsorFK"
	,"SponsorFK"."Name" "SponsorfkName"
	,"SponsorFK"."MaxAmountPerTreat" "SponsorfkMaxamountpertreat"
	,"SponsorFK"."MaxEPOMonthly" "SponsorfkMaxepomonthly"
	,"PatSponsor"."AmountByPerct" "AmountByPerct"
	,"PatSponsor"."AmountFixed" "AmountFixed"
	,"PatSponsor"."DateApplied" "DateApplied"
	,"PatSponsor"."DateApproved" "DateApproved"
	,"PatSponsor"."DateEffFrom" "DateEffFrom"
	,"PatSponsor"."DateEffTo" "DateEffTo"
	,"PatSponsor"."UserCreated" "UserCreated"
	,"PatSponsor"."DateCreated" "DateCreated"
	,"PatSponsor"."UserModified" "UserModified"
	,"PatSponsor"."DateModified" "DateModified"
	,"PatSponsor"."PatientFK" "PatientFK"
from "dbo"."PatSponsor" "PatSponsor"
	left join "dbo"."Patient" "PatientFK" on "PatSponsor"."PatientFK" = "PatientFK"."PatientPK"
	left join "dbo"."Sponsor" "SponsorFK" on "PatSponsor"."SponsorFK" = "SponsorFK"."SponsorPK"
]]></text>
      </command>
      <command id="PatSponsorPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatSponsorPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatSponsorPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Pat Sponsor PK" readOnly="true" />
      <field name="PatientFknoReference" type="String" readOnly="true" label="Patient FK No Reference" length="30" />
      <field name="SponsorFK" type="Int32" allowNulls="false" label="Sponsor FK" showInSummary="true">
        <items style="Lookup" dataController="Sponsor" newDataView="createForm1" dataValueField="SponsorPK" dataTextField="Name" copy="SponsorfkMaxamountpertreat=MaxAmountPerTreat, SponsorfkMaxepomonthly=MaxEpomonthly" />
      </field>
      <field name="SponsorfkName" type="String" readOnly="true" label="Funder Name" length="100" />
      <field name="SponsorfkMaxamountpertreat" type="Decimal" readOnly="true" dataFormatString="c" label="Max Amount Per Treatment" />
      <field name="SponsorfkMaxepomonthly" type="Int32" readOnly="true" label="Max EPO (Monthly)" />
      <field name="AmountByPerct" type="Decimal" allowNulls="false" label="Amount (%)" showInSummary="true" />
      <field name="AmountFixed" type="Decimal" allowNulls="false" label="Amount (RM)" showInSummary="true" />
      <field name="DateApplied" type="Date" allowNulls="false" label="Date Applied" showInSummary="true" dataFormatString="dd/MM/yyyy" />
      <field name="DateApproved" type="Date" allowNulls="false" label="Date Approved" showInSummary="true" dataFormatString="dd/MM/yyyy" />
      <field name="DateEffFrom" type="Date" allowNulls="false" label="Effective" dataFormatString="dd/MM/yyyy" />
      <field name="DateEffTo" type="Date" label="Expired" dataFormatString="dd/MM/yyyy" />
      <field name="UserCreated" type="String" allowNulls="false" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="PatientPK" copy="PatientFknoReference=NoReference" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Funding" sortExpression="DateEffFrom DESC, DateEffTo DESC">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientFknoReference" columns="30" />
          <dataField fieldName="SponsorFK" aliasFieldName="SponsorfkName" />
          <dataField fieldName="SponsorfkMaxamountpertreat" columns="15" />
          <dataField fieldName="SponsorfkMaxepomonthly" columns="15" />
          <dataField fieldName="DateEffFrom" columns="10" />
          <dataField fieldName="DateEffTo" columns="10" />
          <dataField fieldName="PatientFK" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Funding" tags="material-icon-mode-edit">
        <headerText />
        <categories>
          <category id="c1" headerText="Funding" tab="Funding">
            <description />
            <dataFields>
              <dataField fieldName="PatientFknoReference" columns="30" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorfkName" />
              <dataField fieldName="SponsorfkMaxamountpertreat" columns="15" />
              <dataField fieldName="SponsorfkMaxepomonthly" columns="15" />
              <dataField fieldName="AmountByPerct" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="AmountFixed" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="DateApplied" columns="10" />
              <dataField fieldName="DateApproved" columns="10" />
              <dataField fieldName="DateEffFrom" columns="10" />
              <dataField fieldName="DateEffTo" columns="10" />
              <dataField fieldName="PatientFK" columns="15" />
            </dataFields>
          </category>
          <category headerText="Audit" id="c2" tab="Audit">
            <dataFields>
              <dataField fieldName="UserCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="UserModified" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateModified" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="Add Sponsor" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Funding">
            <description />
            <dataFields>
              <dataField fieldName="PatientFknoReference" columns="30" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorfkName" />
              <dataField fieldName="SponsorfkMaxamountpertreat" columns="15" />
              <dataField fieldName="SponsorfkMaxepomonthly" columns="15" />
              <dataField fieldName="AmountByPerct" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="AmountFixed" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="DateApplied" columns="10" />
              <dataField fieldName="DateApproved" columns="10" />
              <dataField fieldName="DateEffFrom" columns="10" />
              <dataField fieldName="DateEffTo" columns="10" />
              <dataField fieldName="UserCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="UserModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="PatientFK" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateCreated = GETDATE()
SET @UserCreated = @BusinessRules_UserName

SET @DateApplied = GETDATE()
SET @DateApproved = GETDATE()
SET @DateEffFrom = GETDATE()
SET @DateEffTo = '99981231'

SET @AmountByPerct = 0
SET @AmountFixed = 0</rule>
      <rule id="r101" commandName="Update" type="Sql" phase="Execute">SET @DateModified = GETDATE()
SET @UserModified = @BusinessRules_UserName

IF isnull(@DateEffTo, '') = ''
	SET @DateEffTo  = '99991231'</rule>
      <rule id="r102" commandName="Insert" type="Sql" phase="Execute">SET @AmountByPerct = 100
SET @AmountFixed = @SponsorfkMaxamountpertreat</rule>
      <rule id="r103" commandName="Insert" type="Sql" phase="Execute">IF isnull(@DateEffTo, '') = ''
	SET @DateEffTo  = '99991231'</rule>
    </businessRules>
  </dataController>
  <dataController name="PaymentDtl" conflictDetection="overwriteChanges" label="Payment Dtl" nativeSchema="dbo" nativeTableName="PaymentDtl">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"PaymentDtl"."PaymentdPk" "PaymentdPK"
	,"PaymentDtl"."PaymentFk" "PaymentFK"
	,"PaymentFk"."NoReceipt" "PaymentFKNoReceipt"
	,"PaymentFk"."Amount" "PaymentFkAmount"
	,"PaymentFk"."PatientFk" "PaymentFkPatientFk"
	,"PaymentFk"."DatePayment" "PaymentFkDatePayment"
	,"PaymentFk"."PaymentStatus" "PaymentFkPaymentStatus"
	,"PaymentDtl"."ExpensesFk" "ExpensesFK"
	,"ExpensesFk"."PaymentType" "ExpensesFKPaymentType"
	,"ExpensesFk"."AmountPaid" "ExpensesFkAmountPaid"
	,"ExpensesFk"."ExpenseAmount" "ExpensesFkExpenseAmount"
	,"ExpensesFk"."ExpensesPK" "ExpensesFkExpensesPK"
	,"ExpensesFkExpenseTypeFK"."Description" "ExpensesFKExpenseTypeFkdescription"
	,"Treatment"."DateTreatment" "TreatmentDateTreatment"
	,"PaymentDtl"."PayDetailAmount" "PayDetailAmount"
from "dbo"."PaymentDtl" "PaymentDtl"
	left join "dbo"."Payments" "PaymentFk" on "PaymentDtl"."PaymentFk" = "PaymentFk"."PaymentPk"
	left join "dbo"."Expenses" "ExpensesFk" on "PaymentDtl"."ExpensesFk" = "ExpensesFk"."ExpensesPK"
	left join "dbo"."ExpenseType" "ExpensesFkExpenseTypeFK" on "ExpensesFk"."ExpenseTypeFK" = "ExpensesFkExpenseTypeFK"."ExpenseTypePK"
	left join "dbo"."Treatment" "Treatment" on "ExpensesFk"."TreatmentFK" = "Treatment"."TreatmentPK"
]]></text>
      </command>
      <command id="PaymentdPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PaymentdPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PaymentdPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Paymentd Pk" readOnly="true" />
      <field name="PaymentFK" type="Int32" allowNulls="false" label="Payment Fk" showInSummary="true">
        <items style="Lookup" dataController="Payments" newDataView="createForm1" dataValueField="PaymentPK" dataTextField="NoReceipt" copy="PaymentFkAmount=Amount, PaymentFkPatientFk=PatientFK, PaymentFkDatePayment=DatePayment, PaymentFkPaymentStatus=PaymentStatus" />
      </field>
      <field name="PaymentFKNoReceipt" type="String" readOnly="true" label="Payment Fk No Receipt" length="15" />
      <field name="PaymentFkAmount" type="Decimal" readOnly="true" dataFormatString="c" label="Payment Fk Amount" />
      <field name="PaymentFkPatientFk" type="Int32" readOnly="true" label="Payment Fk Patient Fk" />
      <field name="PaymentFkDatePayment" type="DateTime" readOnly="true" dataFormatString="g" label="Payment Fk Date Payment" />
      <field name="PaymentFkPaymentStatus" type="String" readOnly="true" label="Payment Status" length="1" />
      <field name="ExpensesFK" type="Int32" allowNulls="false" label="Expenses Fk" showInSummary="true" contextFields="SelectedPatientFk=PaymentFkPatientFk">
        <items style="Lookup" dataController="ExpensesForPatient" newDataView="createForm1" dataValueField="ExpensesPK" dataTextField="ExpenseTypeFkdescription" copy="ExpensesFkAmountPaid=AmountPaid, ExpensesFkExpenseAmount=ExpenseAmount, ExpensesFkExpensesPK=ExpensesPK, ExpensesFKExpenseTypeFkdescription=ExpenseTypeFkdescription, TreatmentDateTreatment=TreatmentfkDatetreatment" />
      </field>
      <field name="ExpensesFKPaymentType" type="String" readOnly="true" label="Payment Type" length="1" />
      <field name="ExpensesFkAmountPaid" type="Decimal" readOnly="true" dataFormatString="c" label="Amount Paid" />
      <field name="ExpensesFkExpenseAmount" type="Decimal" readOnly="true" dataFormatString="c" label="Expense Amount" />
      <field name="ExpensesFkExpensesPK" type="Int32" label="Expenses Fk Expenses PK" readOnly="true" />
      <field name="ExpensesFKExpenseTypeFkdescription" type="String" readOnly="true" label="Expenses Type" length="50" />
      <field name="TreatmentDateTreatment" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Date Treatment" />
      <field name="PayDetailAmount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Pay Detail Amount" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Details">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentDateTreatment" columns="20">
          </dataField>
          <dataField fieldName="PaymentFK" aliasFieldName="PaymentFKNoReceipt" />
          <dataField fieldName="PaymentFkAmount" columns="15" />
          <dataField fieldName="PaymentFkPatientFk" columns="15" />
          <dataField fieldName="PaymentFkPaymentStatus" columns="1" />
          <dataField fieldName="ExpensesFK" aliasFieldName="ExpensesFKExpenseTypeFkdescription">
          </dataField>
          <dataField fieldName="ExpensesFkExpenseAmount" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="ExpensesFkAmountPaid" columns="15" aggregate="Sum" hidden="true">
          </dataField>
          <dataField fieldName="ExpensesFkExpensesPK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="ExpensesFKExpenseTypeFkdescription" columns="50" />
          <dataField fieldName="PayDetailAmount" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Details">
        <headerText />
        <categories>
          <category id="c1" headerText="Payment Details">
            <description />
            <dataFields>
              <dataField fieldName="PaymentFK" aliasFieldName="PaymentFKNoReceipt" />
              <dataField fieldName="PaymentFkAmount" columns="15" />
              <dataField fieldName="PaymentFkPatientFk" columns="15" />
              <dataField fieldName="PaymentFkDatePayment" columns="20" />
              <dataField fieldName="PaymentFkPaymentStatus" columns="1" />
              <dataField fieldName="ExpensesFK" aliasFieldName="ExpensesFKExpenseTypeFkdescription">
              </dataField>
              <dataField fieldName="TreatmentDateTreatment" columns="20" />
              <dataField fieldName="ExpensesFkExpenseAmount" columns="15" />
              <dataField fieldName="ExpensesFkAmountPaid" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ExpensesFkExpensesPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ExpensesFKExpenseTypeFkdescription" columns="50" />
              <dataField fieldName="PayDetailAmount" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="Details">
        <headerText />
        <categories>
          <category id="c1" headerText="New Payment Details">
            <description />
            <dataFields>
              <dataField fieldName="PaymentFK" aliasFieldName="PaymentFKNoReceipt" />
              <dataField fieldName="PaymentFkAmount" columns="15" />
              <dataField fieldName="PaymentFkPatientFk" columns="15" />
              <dataField fieldName="PaymentFkDatePayment" columns="20" />
              <dataField fieldName="PaymentFkPaymentStatus" columns="1" />
              <dataField fieldName="ExpensesFK" aliasFieldName="ExpensesFKPaymentType" />
              <dataField fieldName="TreatmentDateTreatment" columns="20" />
              <dataField fieldName="ExpensesFkExpenseAmount" columns="15" />
              <dataField fieldName="ExpensesFkAmountPaid" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ExpensesFkExpensesPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ExpensesFKExpenseTypeFkdescription" columns="50" hidden="true">
              </dataField>
              <dataField fieldName="PayDetailAmount" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" roles="Nobody" />
        <action id="a3" commandName="Delete" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" roles="Nobody" />
        <action id="a2" commandName="Delete" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" whenClientScript="[PaymentFkPaymentStatus] != 'C'" roles="Nobody" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" roles="Nobody" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" whenClientScript="[PaymentFkPaymentStatus] != 'C'" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">DECLARE @paymentStatus VARCHAR(1)
SET @paymentStatus = (select PaymentStatus from Payments where PaymentPk = @PaymentFK)

IF @paymentStatus = 'C'
BEGIN
     SET @BusinessRules_PreventDefault = 1
     SET @Result_ShowViewMessage = 'Payment already confirm. New expenses not allow'
END</rule>
    </businessRules>
  </dataController>
  <dataController name="Payments" conflictDetection="overwriteChanges" label="Payments" nativeSchema="dbo" nativeTableName="Payments">
    <commands>
      <command id="command1" type="Text" custom="false">
        <text>select
	"Payments"."PaymentPk" "PaymentPK"
	,"Payments"."DatePayment" "DatePayment"
	,"Payments"."NoReceipt" "NoReceipt"
	,"Payments"."PatientFk" "PatientFK"
	,"PatientFk"."Name" "PatientFkName"
	,"PatientFk"."PatientPK" "PatientFkPatientPK"
	,"Payments"."Amount" "Amount"
	,"Payments"."EditBy" "EditBy"
	,"Payments"."EditDate" "EditDate"
	,"Payments"."CreateDate" "CreateDate"
	,"Payments"."ReceiveBy" "ReceiveBy"
	,"Payments"."PaymentStatus" "PaymentStatus"
	,"users"."Name" "ReceivedName"
from "dbo"."Payments" "Payments"
	left join "dbo"."Patient" "PatientFk" on "Payments"."PatientFk" = "PatientFk"."PatientPK"
	left join users on Payments.ReceiveBy = Users.UserName
</text>
      </command>
      <command id="PaymentPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PaymentPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PaymentPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Payment Pk" readOnly="true" />
      <field name="DatePayment" type="DateTime" allowNulls="false" label="Date Payment" showInSummary="true" />
      <field name="NoReceipt" type="String" allowNulls="false" label="No Receipt" length="15" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient Fk" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" copy="PatientFkPatientPK=PatientPK" />
      </field>
      <field name="PatientFkName" type="String" readOnly="true" label="Patient Fk Name" length="100" />
      <field name="PatientFkPatientPK" type="Int32" label="Patient Fk Patient PK" readOnly="true" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" showInSummary="true" />
      <field name="EditBy" type="String" label="Edit By" length="20" showInSummary="true" />
      <field name="EditDate" type="DateTime" dataFormatString="g" label="Edit Date" />
      <field name="CreateDate" type="DateTime" dataFormatString="g" label="Create Date" />
      <field name="ReceiveBy" type="String" allowNulls="false" label="Receive By" length="128" />
      <field name="PaymentStatus" type="String" allowNulls="false" default="('')" label="Payment Status" length="1">
        <items style="DropDownList">
          <item value="C" text="Confirm" />
          <item value="D" text="Draft" />
        </items>
      </field>
      <field name="PaymentDtl" type="DataView" label="Payment Dtl">
        <dataView controller="PaymentDtl" filterFields="PaymentFK" view="grid1" />
      </field>
      <field name="ReceivedName" type="String" label="Received Name" length="100" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Payments" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="DatePayment" columns="15">
          </dataField>
          <dataField fieldName="NoReceipt" columns="15" />
          <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
          <dataField fieldName="PatientFkPatientPK" columns="15" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="PaymentStatus" columns="10">
          </dataField>
          <dataField fieldName="ReceivedName" rows="5" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Payments" tags="modal-max-xxl">
        <headerText />
        <categories>
          <category id="c1" headerText="Payments">
            <description />
            <dataFields>
              <dataField fieldName="DatePayment" columns="10" textMode="Static">
              </dataField>
              <dataField fieldName="NoReceipt" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
              <dataField fieldName="PatientFkPatientPK" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="PaymentStatus" columns="1" />
              <dataField fieldName="ReceivedName" textMode="Static">
              </dataField>
              <dataField fieldName="PaymentDtl" columns="15" />
            </dataFields>
          </category>
          <category headerText="Audit" tab="Audit" id="c2">
            <dataFields>
              <dataField fieldName="ReceiveBy" textMode="Static">
              </dataField>
              <dataField fieldName="CreateDate" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="EditBy" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="EditDate" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Payments">
        <headerText />
        <categories>
          <category id="c1" headerText="New Payments">
            <description />
            <dataFields>
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="NoReceipt" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="PatientFK" aliasFieldName="PatientFkName" />
              <dataField fieldName="PatientFkPatientPK" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="EditBy" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="EditDate" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="CreateDate" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="ReceiveBy" hidden="true">
              </dataField>
              <dataField fieldName="PaymentStatus" columns="1" />
              <dataField fieldName="PaymentDtl" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
        <action commandName="Report" headerText="Print Receipt" id="a100" whenClientScript="[PaymentStatus] == 'C'" cssClass="material-icon-cloud-download">
          <data>_controller=VwReceiptPaymentPh
_view=editForm1 
_template=VwReceiptPaymentPh_v100.rdlc
_sortExpression=DateTreatment
PaymentPk=PaymentPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" roles="Nobody" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" id="a101" />
        <action commandName="Report" headerText="Print Receipt" id="a100" whenClientScript="[PaymentStatus] == 'C'">
          <data>_controller=VwReceiptPaymentPh
_view=editForm1 
_template=VwReceiptPaymentPh_v100.rdlc
_sortExpression=DateTreatment
PaymentPk=PaymentPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @CreateDate = GETDATE()
SET @ReceiveBy = @BusinessRules_UserName

SET @DatePayment = GETDATE()
SET @NoReceipt = '(Auto Generate)'</rule>
      <rule id="r101" commandName="Insert" type="Sql" phase="Execute">DECLARE @newref varchar(50)

EXEC pDocGenRef 
@Prefix = 'P/',
@RunningLength = 3,
@ReturnRef = @newref OUTPUT

SET @NoReceipt = @newref</rule>
      <rule id="r102" commandName="Update" type="Sql" phase="Execute">SET @EditDate = GETDATE()
SET @EditBy = @BusinessRules_UserName
</rule>
    </businessRules>
  </dataController>
  <dataController name="Race" conflictDetection="overwriteChanges" label="Race" nativeSchema="dbo" nativeTableName="Race">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Race"."RacePK" "RacePK"
	,"Race"."RaceCode" "RaceCode"
	,"Race"."Description" "Description"
from "dbo"."Race" "Race"
]]></text>
      </command>
      <command id="RacePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RacePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RacePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Race PK" readOnly="true" />
      <field name="RaceCode" type="String" allowNulls="false" default="('')" label="Race Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Race">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="RaceCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Race" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Race">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="RaceCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Race" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Race">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="RaceCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="ReasonCeased" conflictDetection="overwriteChanges" label="Reason Ceased" nativeSchema="dbo" nativeTableName="ReasonCeased">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ReasonCeased"."ReasonCeasedPK" "ReasonCeasedPK"
	,"ReasonCeased"."Description" "Description"
from "dbo"."ReasonCeased" "ReasonCeased"
]]></text>
      </command>
      <command id="ReasonCeasedPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ReasonCeasedPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ReasonCeasedPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Reason Ceased PK" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Reason Ceased">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Reason Ceased" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Reason Ceased">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Reason Ceased" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Reason Ceased">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="ReceiptPayment" conflictDetection="overwriteChanges" label="Receipt Payment" nativeSchema="dbo" nativeTableName="ReceiptPayment">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ReceiptPayment"."RecPayPk" "RecPayPK"
	,"ReceiptPayment"."PatientFK" "PatientFK"
	,"Patient"."Name" "PatientName"
	,"ReceiptPayment"."DatePayment" "DatePayment"
	,"ReceiptPayment"."StatusPayment" "StatusPayment"
from "dbo"."ReceiptPayment" "ReceiptPayment"
	left join "dbo"."Patient" "Patient" on "ReceiptPayment"."PatientFK" = "Patient"."PatientPK"
]]></text>
      </command>
      <command id="RecPayPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RecPayPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RecPayPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Rec Pay Pk" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" default="((0))" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="PatientName" type="String" readOnly="true" label="Patient Name" length="100" />
      <field name="DatePayment" type="DateTime" allowNulls="false" label="Date Payment" showInSummary="true" />
      <field name="StatusPayment" type="String" allowNulls="false" default="('')" label="Status Payment" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="S" text="Pending Payment" />
          <item value="P" text="Paid" />
        </items>
      </field>
      <field name="ReceiptPaymentDtl" type="DataView" label="Receipt Payment Dtl">
        <dataView controller="ReceiptPaymentDtl" filterFields="RecPayFK" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Receipt Payment">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
          <dataField fieldName="DatePayment" columns="10" />
          <dataField fieldName="StatusPayment" columns="10">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Receipt Payment">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Receipt Payment">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="StatusPayment" columns="1" />
              <dataField fieldName="ReceiptPaymentDtl" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Receipt Payment">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Receipt Payment">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="StatusPayment" columns="1" />
              <dataField fieldName="ReceiptPaymentDtl" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action commandName="Report" headerText="Print Receipt" id="a100">
          <data>_controller=VwReceiptIndPrint
_view=editForm1 
_template=VwReceiptIndPrint_ReceiptIndRpt.rdlc
_sortExpression=DateTreatment
RecPayPK=RecPayPK</data>
        </action>
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="ReceiptPaymentDtl" conflictDetection="overwriteChanges" label="Receipt Payment Dtl" nativeSchema="dbo" nativeTableName="ReceiptPaymentDtl">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ReceiptPaymentDtl"."RecPaydPk" "RecPaydPK"
	,"ReceiptPaymentDtl"."RecPayFk" "RecPayFK"
	,"RecPay"."RecPayPk" "RecPayRecPayPk"
	,"RecPay"."PatientFK" "RecPayPatientFK"
	,"ReceiptPaymentDtl"."ExpensesFk" "ExpensesFK"
	,"ExpensesFk"."ExpenseAmount" "ExpensesFkExpenseAmount"
	,"ExpensesFk"."TreatmentFK" "ExpensesFkTreatmentFK"
	,"ExpensesFk"."PaymentType" "ExpensesFkPaymentType"
	,"ExpensesFkExpenseTypeFK"."Description" "ExpensesFKExpenseTypeFkdescription"
	,"ExpensesFkTreatmentFKShiftFK"."Description" "ExpensesFKTreatmentFkshiftFkdescription"
	,"ExpensesFkTreatmentFK"."DateTreatment" "ExpensesfktreatmentfkDatetreatment"
from "dbo"."ReceiptPaymentDtl" "ReceiptPaymentDtl"
	left join "dbo"."Expenses" "ExpensesFk" on "ReceiptPaymentDtl"."ExpensesFk" = "ExpensesFk"."ExpensesPK"
	left join "dbo"."ExpenseType" "ExpensesFkExpenseTypeFK" on "ExpensesFk"."ExpenseTypeFK" = "ExpensesFkExpenseTypeFK"."ExpenseTypePK"
	left join "dbo"."Treatment" "ExpensesFkTreatmentFK" on "ExpensesFk"."TreatmentFK" = "ExpensesFkTreatmentFK"."TreatmentPK"
	left join "dbo"."Shift" "ExpensesFkTreatmentFKShiftFK" on "ExpensesFkTreatmentFK"."ShiftFK" = "ExpensesFkTreatmentFKShiftFK"."ShiftPK"
	left join "dbo"."ReceiptPayment" "RecPay" on "ReceiptPaymentDtl"."RecPayFk" = "RecPay"."RecPayPk"
]]></text>
      </command>
      <command id="RecPaydPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RecPaydPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RecPaydPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Rec Payd Pk" readOnly="true" />
      <field name="RecPayFK" type="Int32" allowNulls="false" default="((0))" label="Rec Pay Fk" showInSummary="true">
        <items style="Lookup" dataController="ReceiptPayment" newDataView="createForm1" dataValueField="RecPayPK" dataTextField="RecPayPK" copy="RecPayPatientFK=PatientFK" />
      </field>
      <field name="RecPayRecPayPk" type="Int32" label="Rec Pay Rec Pay Pk" readOnly="true" />
      <field name="RecPayPatientFK" type="Int32" readOnly="true" label="Patient FK" />
      <field name="ExpensesFK" type="Int32" allowNulls="false" default="((0))" label="Expenses Fk" showInSummary="true" contextFields="SelectedRecPayPatientFK=RecPayPatientFK">
        <items style="Lookup" dataController="Expenses" newDataView="createForm1" dataValueField="ExpensesPK" dataTextField="TreatmentfkDatetreatment" copy="ExpensesFkExpenseAmount=ExpenseAmount, ExpensesFkTreatmentFK=TreatmentFK, ExpensesFkPaymentType=PaymentType, ExpensesFKExpenseTypeFkdescription=ExpenseTypeFkdescription, ExpensesFKTreatmentFkshiftFkdescription=TreatmentFkshiftFkdescription" />
      </field>
      <field name="ExpensesFkExpenseAmount" type="Decimal" readOnly="true" dataFormatString="c" label="Amount" />
      <field name="ExpensesFkTreatmentFK" type="Int32" readOnly="true" label="Expenses Fk Treatment FK" />
      <field name="ExpensesFkPaymentType" type="String" readOnly="true" label="Expenses Fk Payment Type" length="1" />
      <field name="ExpensesFKExpenseTypeFkdescription" type="String" readOnly="true" label="Expenses Type" length="50" />
      <field name="ExpensesFKTreatmentFkshiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="ExpensesfktreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Date Treatment" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Payment Details" sortExpression="ExpensesfktreatmentfkDatetreatment">
        <headerText />
        <dataFields>
          <dataField fieldName="ExpensesfktreatmentfkDatetreatment" columns="10" />
          <dataField fieldName="RecPayFK" aliasFieldName="RecPayRecPayPk" />
          <dataField fieldName="RecPayPatientFK" columns="15" />
          <dataField fieldName="ExpensesFK" aliasFieldName="ExpensesfktreatmentfkDatetreatment">
          </dataField>
          <dataField fieldName="ExpensesFKExpenseTypeFkdescription" columns="50" />
          <dataField fieldName="ExpensesFkExpenseAmount" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="ExpensesFkTreatmentFK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="ExpensesFkPaymentType" columns="1" hidden="true">
          </dataField>
          <dataField fieldName="ExpensesFKTreatmentFkshiftFkdescription" columns="50" hidden="true">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Receipt Payment Dtl">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Receipt Payment Dtl">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="RecPayFK" aliasFieldName="RecPayRecPayPk" />
              <dataField fieldName="RecPayPatientFK" columns="15" />
              <dataField fieldName="ExpensesFK" aliasFieldName="ExpensesfktreatmentfkDatetreatment" />
              <dataField fieldName="ExpensesFKExpenseTypeFkdescription" columns="50" />
              <dataField fieldName="ExpensesFKTreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="ExpensesFkExpenseAmount" columns="15" />
              <dataField fieldName="ExpensesFkTreatmentFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ExpensesFkPaymentType" columns="1" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Receipt Payment Dtl">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Receipt Payment Dtl">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="RecPayFK" aliasFieldName="RecPayRecPayPk" />
              <dataField fieldName="RecPayPatientFK" columns="15" />
              <dataField fieldName="ExpensesFK" aliasFieldName="ExpensesfktreatmentfkDatetreatment" />
              <dataField fieldName="ExpensesFkExpenseAmount" columns="15" />
              <dataField fieldName="ExpensesFkTreatmentFK" columns="15" />
              <dataField fieldName="ExpensesFkPaymentType" columns="1" />
              <dataField fieldName="ExpensesFKExpenseTypeFkdescription" columns="50" />
              <dataField fieldName="ExpensesFKTreatmentFkshiftFkdescription" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Refunds" conflictDetection="overwriteChanges" label="Refunds" nativeSchema="dbo" nativeTableName="Refunds">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Refunds"."RefundPk" "RefundPK"
	,"Refunds"."PatientFk" "PatientFK"
	,"Patient"."Name" "PatientName"
	,"Refunds"."DateRefund" "DateRefund"
	,"Refunds"."Amount" "Amount"
	,"Refunds"."Description" "Description"
	,"Refunds"."CreateBy" "CreateBy"
	,"Refunds"."CreateDate" "CreateDate"
	,"Refunds"."EditBy" "EditBy"
	,"Refunds"."EditDate" "EditDate"
	,"Refunds"."NoReceipt" "NoReceipt"
from "dbo"."Refunds" "Refunds"
	left join "dbo"."Patient" "Patient" on "Refunds"."PatientFk" = "Patient"."PatientPK"
]]></text>
      </command>
      <command id="RefundPkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RefundPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RefundPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Refund Pk" readOnly="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient Fk" showInSummary="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="PatientName" type="String" readOnly="true" label="Patient Name" length="100" />
      <field name="DateRefund" type="DateTime" allowNulls="false" label="Date Refund" showInSummary="true" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="200" showInSummary="true" />
      <field name="CreateBy" type="String" allowNulls="false" label="Create By" length="128" showInSummary="true" />
      <field name="CreateDate" type="DateTime" allowNulls="false" dataFormatString="g" label="Create Date" />
      <field name="EditBy" type="String" label="Edit By" length="128" />
      <field name="EditDate" type="DateTime" dataFormatString="g" label="Edit Date" />
      <field name="NoReceipt" type="String" allowNulls="false" label="No Receipt" length="15" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Refunds">
        <headerText />
        <dataFields>
          <dataField fieldName="NoReceipt" columns="15" />
          <dataField fieldName="DateRefund" columns="10" />
          <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="Description" />
          <dataField fieldName="PatientName" rows="5" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Refunds">
        <headerText />
        <categories>
          <category id="c1" headerText="Refunds">
            <description />
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
              <dataField fieldName="NoReceipt" columns="15" />
              <dataField fieldName="DateRefund" columns="10" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" />
            </dataFields>
          </category>
          <category headerText="Audit" tab="Audit" id="c2">
            <dataFields>
              <dataField fieldName="CreateBy" textMode="Static">
              </dataField>
              <dataField fieldName="CreateDate" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="EditBy" textMode="Static">
              </dataField>
              <dataField fieldName="EditDate" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Refunds">
        <headerText />
        <categories>
          <category id="c1" headerText="New Refunds">
            <description />
            <dataFields>
              <dataField fieldName="PatientFK" aliasFieldName="PatientName" />
              <dataField fieldName="NoReceipt" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="DateRefund" columns="10" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" />
              <dataField fieldName="CreateBy" hidden="true">
              </dataField>
              <dataField fieldName="CreateDate" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="EditBy" hidden="true">
              </dataField>
              <dataField fieldName="EditDate" columns="20" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
        <action commandName="Report" headerText="Print Receipt" id="a100" cssClass="material-icon-cloud-download">
          <data>_controller=VwRefundsReceipt
_view=editForm1 
_template=VwRefundsReceipt_reportRefundReceipt.rdlc
_sortExpression=RefundPK
RefundPK=RefundPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" roles="Nobody" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
        <action commandName="Report" headerText="Print Receipt" id="a100">
          <data>_controller=VwRefundsReceipt
_view=editForm1 
_template=VwRefundsReceipt_reportRefundReceipt.rdlc
_sortExpression=RefundPK
RefundPK=RefundPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @CreateDate = GETDATE()
SET @CreateBy = @BusinessRules_UserName

SET @DateRefund = GETDATE()
SET @NoReceipt = '(Auto Generate)'</rule>
      <rule id="r101" commandName="Insert" type="Sql" phase="Execute">DECLARE @newref varchar(50)

EXEC pDocGenRef 
@Prefix = 'RE/',
@RunningLength = 3,
@ReturnRef = @newref OUTPUT

SET @NoReceipt = @newref</rule>
      <rule id="r102" commandName="Update" type="Sql" phase="Execute">SET @EditDate = GETDATE()
SET @EditBy = @BusinessRules_UserName
</rule>
    </businessRules>
  </dataController>
  <dataController name="Relationship" conflictDetection="overwriteChanges" label="Relationship" nativeSchema="dbo" nativeTableName="Relationship">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Relationship"."RelationshipPK" "RelationshipPK"
	,"Relationship"."RelationshipCode" "RelationshipCode"
	,"Relationship"."Description" "Description"
from "dbo"."Relationship" "Relationship"
]]></text>
      </command>
      <command id="RelationshipPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RelationshipPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RelationshipPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Relationship PK" readOnly="true" />
      <field name="RelationshipCode" type="String" allowNulls="false" label="Relationship Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Relationship">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="RelationshipCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Relationship" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Relationship">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="RelationshipCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Relationship" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Relationship">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="RelationshipCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Religion" conflictDetection="overwriteChanges" label="Religion" nativeSchema="dbo" nativeTableName="Religion">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Religion"."ReligionPK" "ReligionPK"
	,"Religion"."ReligionCode" "ReligionCode"
	,"Religion"."Description" "Description"
from "dbo"."Religion" "Religion"
]]></text>
      </command>
      <command id="ReligionPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ReligionPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ReligionPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Religion PK" readOnly="true" />
      <field name="ReligionCode" type="String" allowNulls="false" default="('')" label="Religion Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Religion">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="ReligionCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Religion" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Religion">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="ReligionCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Religion" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Religion">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="ReligionCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
    </businessRules>
  </dataController>
  <dataController name="ReportActive" conflictDetection="overwriteChanges" label="Report Active" nativeSchema="dbo" nativeTableName="ReportActive">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ReportActive"."RptActivePk" "RptActivePK"
	,"ReportActive"."ReportDesc" "ReportDesc"
from "dbo"."ReportActive" "ReportActive"
]]></text>
      </command>
      <command id="RptActivePkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RptActivePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RptActivePK" type="Int64" allowNulls="false" isPrimaryKey="true" label="Rpt Active Pk" readOnly="true" />
      <field name="ReportDesc" type="String" allowNulls="false" default="('')" label="Report Desc" length="50" showInSummary="true" />
      <field name="DateFrom" type="String" allowNulls="false" label="Date From">
        <codeFormula />
        <formula />
      </field>
      <field name="DateTo" type="String" label="Date To" allowNulls="false">
        <codeFormula />
        <formula />
      </field>
      <field name="DateFrom_1" type="Int16" label="Month" isVirtual="true" allowNulls="false" length="8" computed="true">
        <items style="DropDownList">
          <item value="1" text="January" />
          <item value="2" text="February" />
          <item value="3" text="March" />
          <item value="4" text="April" />
          <item value="5" text="May" />
          <item value="6" text="June" />
          <item value="7" text="July" />
          <item value="8" text="August" />
          <item value="9" text="September" />
          <item value="10" text="October" />
          <item value="11" text="November" />
          <item value="12" text="December" />
        </items>
        <formula>MONTH(GETDATE())</formula>
      </field>
      <field name="Year" type="String" label="Year" length="4" default="YEAR(GETDATE())" allowNulls="false" computed="true">
        <formula>YEAR(GETDATE())</formula>
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Report Active">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="ReportDesc" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Report Active">
        <headerText />
        <categories>
          <category id="c1" headerText="Report Active">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="ReportDesc" columns="50" readOnly="true" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Generate Report" id="c2">
            <dataFields>
              <dataField fieldName="DateFrom" columns="15" />
              <dataField fieldName="DateTo" columns="15" />
              <dataField fieldName="Year" columns="4" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Report Active">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Report Active">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="ReportDesc" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a2" commandName="Edit" commandArgument="editForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Report" id="a100" headerText="Print" whenLastCommandName="Edit">
          <data>_controller=VwPatientActive
_view=editForm1 
_template=VwPatientActive_grid1.rdlc
yearCeased=Year
monthCeased=DateFrom
</data>
        </action>
        <action commandName="Navigate" id="a101" headerText="Report" whenLastCommandName="Edit" commandArgument="_blank:RptPatInactive.aspx?dateFrom={Year}">
          <data>_controller=VwPatientActive
_view=editForm1 
_template=VwPatientActive_grid1.rdlc
yearCeased=Year
monthCeased=DateFrom
</data>
        </action>
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="ReportTerminate" conflictDetection="overwriteChanges" label="Report Terminate" nativeSchema="dbo" nativeTableName="ReportTerminate">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ReportTerminate"."RptTerminatePk" "RptTerminatePK"
	,"ReportTerminate"."ReportDesc" "ReportDesc"
from "dbo"."ReportTerminate" "ReportTerminate"
]]></text>
      </command>
      <command id="RptTerminatePkIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RptTerminatePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RptTerminatePK" type="Int64" allowNulls="false" isPrimaryKey="true" label="Rpt Terminate Pk" readOnly="true" />
      <field name="ReportDesc" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
      <field name="DateFrom" type="Int16" label="Month" isVirtual="true" allowNulls="false" length="8" computed="true">
        <items style="DropDownList">
          <item value="1" text="January" />
          <item value="2" text="February" />
          <item value="3" text="March" />
          <item value="4" text="April" />
          <item value="5" text="May" />
          <item value="6" text="June" />
          <item value="7" text="July" />
          <item value="8" text="August" />
          <item value="9" text="September" />
          <item value="10" text="October" />
          <item value="11" text="November" />
          <item value="12" text="December" />
        </items>
        <formula>MONTH(GETDATE())</formula>
      </field>
      <field name="Year" type="String" label="Year" length="4" default="YEAR(GETDATE())" allowNulls="false" computed="true">
        <formula>YEAR(GETDATE())</formula>
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Report Terminate">
        <headerText />
        <dataFields>
          <dataField fieldName="ReportDesc" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Report Terminate Print">
        <headerText />
        <categories>
          <category id="c1" headerText="Report Terminate" collapsed="true">
            <description />
            <dataFields>
              <dataField fieldName="ReportDesc" columns="50" readOnly="true" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Generate Report" id="c2">
            <dataFields>
              <dataField fieldName="Year" columns="4" toolTip="yyyy" watermark="yyyy - 2018">
              </dataField>
              <dataField fieldName="DateFrom" columns="8" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Report Terminate">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Report Terminate">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="ReportDesc" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a2" commandName="Edit" commandArgument="editForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Report" id="a100" headerText="Print" whenLastCommandName="Edit">
          <data>_controller=VwPatientTeminate
_view=editForm1 
_template=VwPatientTeminate_grid1.rdlc
yearCeased=Year
monthCeased=DateFrom
</data>
        </action>
        <action commandName="Navigate" id="a101" headerText="Print" whenLastCommandName="Edit" commandArgument="_blank:Customers.aspx?Year={Year}">
          <data />
        </action>
        <action id="a3" commandName="Cancel" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Edit" type="Sql" phase="After">SET @Year = YEAR(GETDATE())</rule>
      <rule id="r101" commandName="New" type="Sql" phase="Execute">SET @Year = YEAR(GETDATE())</rule>
    </businessRules>
  </dataController>
  <dataController name="Roles" conflictDetection="overwriteChanges" label="Roles" nativeSchema="dbo" nativeTableName="Roles">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Roles"."RoleID" "RoleID"
	,"Roles"."RoleName" "RoleName"
from "dbo"."Roles" "Roles"
]]></text>
      </command>
      <command id="RoleIDIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="RoleID" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="RoleID" type="Int32" allowNulls="false" isPrimaryKey="true" label="Role ID" readOnly="true" />
      <field name="RoleName" type="String" allowNulls="false" label="Role Name" length="50" showInSummary="true" />
      <field name="UserRoles" type="DataView" label="User Roles">
        <dataView controller="UserRoles" filterFields="RoleID" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Roles">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="RoleName" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Roles">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Roles">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="RoleName" columns="50" />
              <dataField fieldName="UserRoles" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Roles">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Roles">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="RoleName" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="ScheduleDtl" conflictDetection="overwriteChanges" label="Schedule Dtl" nativeSchema="dbo" nativeTableName="ScheduleDtl">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"ScheduleDtl"."ScheduleDtlPK" "ScheduleDtlPK"
	,"ScheduleDtl"."ScheduleHdrFK" "ScheduleHdrFK"
	,"ScheduleHdr"."DateSchd" "ScheduleHdrDateSchd"
	,"ScheduleDtl"."PatientFK" "PatientFK"
	,"PatientFK"."Name" "PatientfkName"
	,"ScheduleDtl"."DialysisMachineFK" "DialysisMachineFK"
	,"DialysisMachineFK"."Description" "DialysismachinefkDescription"
	,"DialysisMachineFK"."Floor" "DialysismachinefkFloor"
	,"ScheduleDtl"."ShiftFK" "ShiftFK"
	,"ShiftFK"."Description" "ShiftFkdescription"
	,"ShiftFK"."TimeStart" "ShiftfkTimestart"
	,"ShiftFK"."TimeEnd" "ShiftfkTimeend"
	,"ScheduleDtl"."StatusSchd" "StatusSchd"
	,"ScheduleDtl"."ScheduleTimeStart" "ScheduleTimeStart"
	,"ScheduleDtl"."ScheduleTimeEnd" "ScheduleTimeEnd"
from "dbo"."ScheduleDtl" "ScheduleDtl"
	left join "dbo"."Patient" "PatientFK" on "ScheduleDtl"."PatientFK" = "PatientFK"."PatientPK"
	left join "dbo"."DialysisMachine" "DialysisMachineFK" on "ScheduleDtl"."DialysisMachineFK" = "DialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Shift" "ShiftFK" on "ScheduleDtl"."ShiftFK" = "ShiftFK"."ShiftPK"
	left join "dbo"."ScheduleHdr" "ScheduleHdr" on "ScheduleDtl"."ScheduleHdrFK" = "ScheduleHdr"."ScheduleHdrPK"
order by "ScheduleDtl"."StatusSchd" desc]]></text>
      </command>
      <command id="ScheduleDtlPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ScheduleDtlPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ScheduleDtlPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Schedule Dtl PK" readOnly="true" />
      <field name="ScheduleHdrFK" type="Int32" allowNulls="false" label="Schedule Hdr FK" showInSummary="true">
        <items style="Lookup" dataController="ScheduleHdr" newDataView="createForm1" dataValueField="ScheduleHdrPK" dataTextField="DateSchd" />
      </field>
      <field name="ScheduleHdrDateSchd" type="Date" readOnly="true" dataFormatString="g" label="DateHdr" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true" contextFields="ExistingPatientFk=ScheduleHdrFK" causesCalculate="true">
        <items style="Lookup" dataController="Patient" newDataView="createForm1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="PatientfkName" type="String" readOnly="true" label="Name" length="100" causesCalculate="true" />
      <field name="DialysisMachineFK" type="Int32" allowNulls="false" label="Dialysis Machine FK" showInSummary="true" contextFields="ExistingScheduleHdrFK=ScheduleHdrFK, SelectedShift=ShiftFK, SelectedFloor=DialysismachinefkFloor" causesCalculate="true">
        <items copy="DialysismachinefkFloor=Floor" style="Lookup" dataController="DialysisMachine1" dataTextField="Description" dataValueField="DialysisMachinePK" newDataView="createForm1" />
      </field>
      <field name="DialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50">
        <configuration />
      </field>
      <field name="DialysismachinefkFloor" type="Int32" label="Floor" isVirtual="true" causesCalculate="true">
        <items style="DropDownList">
          <item value="1" text="1" />
          <item value="2" text="2" />
          <item value="3" text="3" />
          <item value="4" text="4" />
          <item value="5" text="5" />
          <item value="6" text="6" />
        </items>
      </field>
      <field name="ShiftFK" type="Int32" allowNulls="false" label="Shift FK" showInSummary="true">
        <items style="Lookup" dataController="Shift" newDataView="createForm1" dataValueField="ShiftPK" dataTextField="Description" copy="ShiftfkTimestart=TimeStart, ShiftfkTimeend=TimeEnd" />
      </field>
      <field name="ShiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="ShiftfkTimestart" type="TimeSpan" readOnly="true" label="Time Start" length="7" dataFormatString="t" />
      <field name="ShiftfkTimeend" type="TimeSpan" readOnly="true" label="Time End" length="7" dataFormatString="t" />
      <field name="StatusSchd" type="String" allowNulls="false" default="('S')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="S" text="SCHEDULED" />
          <item value="X" text="CANCEL" />
          <item value="A" text="ATTENDED" />
        </items>
      </field>
      <field name="ScheduleTimeStart" type="DateTime" dataFormatString="g" label="Date Start" />
      <field name="ScheduleTimeEnd" type="DateTime" dataFormatString="g" label="Date End" />
      <field name="CurrentSponsor" type="String" readOnly="true" label="Current Sponsor" computed="true">
        <formula>isnull(dbo.tsGetActiveSponsor ("PatientFK", "DateSchd"), '')</formula>
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Scheduled" sortExpression="StatusSchd desc, ShiftFkdescription, DialysismachinefkDescription" filter="StatusSchd &lt;&gt; 'X'" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" tag="calendar-text">
          </dataField>
          <dataField fieldName="ScheduleHdrFK" aliasFieldName="ScheduleHdrDateSchd" />
          <dataField fieldName="DialysismachinefkFloor" columns="15">
          </dataField>
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="CurrentSponsor" />
          <dataField fieldName="ScheduleTimeStart" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="ScheduleTimeEnd" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="StatusSchd" columns="10">
          </dataField>
          <dataField fieldName="ScheduleHdrDateSchd" columns="15" readOnly="true">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Appointment Detail" tags="material-icon-mode-edit">
        <headerText />
        <categories>
          <category id="c1" headerText="Scheduled Appointment">
            <description />
            <dataFields>
              <dataField fieldName="ScheduleHdrFK" aliasFieldName="ScheduleHdrDateSchd" />
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" textMode="Static">
              </dataField>
              <dataField fieldName="CurrentSponsor" columns="100">
              </dataField>
              <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
              <dataField fieldName="DialysismachinefkFloor" columns="15">
              </dataField>
              <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
              <dataField fieldName="ShiftfkTimestart" columns="15" />
              <dataField fieldName="ShiftfkTimeend" columns="15" />
              <dataField fieldName="StatusSchd" columns="1" />
              <dataField fieldName="ScheduleTimeStart" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleTimeEnd" columns="20" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Appointment" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Appointment">
            <description />
            <dataFields>
              <dataField fieldName="ScheduleHdrFK" aliasFieldName="ScheduleHdrDateSchd" />
              <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" />
              <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription">
              </dataField>
              <dataField fieldName="DialysismachinefkFloor" columns="15">
              </dataField>
              <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
              <dataField fieldName="ShiftfkTimestart" columns="15" />
              <dataField fieldName="ShiftfkTimeend" columns="15" />
              <dataField fieldName="StatusSchd" columns="1" />
              <dataField fieldName="ScheduleTimeStart" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleTimeEnd" columns="20" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="gridCancel" type="Grid" commandId="command1" label="Cancelled" sortExpression="ShiftFkdescription, DialysismachinefkDescription" filter="StatusSchd = 'X'" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" tag="calendar-text">
          </dataField>
          <dataField fieldName="ScheduleHdrFK" aliasFieldName="ScheduleHdrDateSchd" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="CurrentSponsor" />
          <dataField fieldName="ScheduleTimeStart" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="ScheduleTimeEnd" columns="20" hidden="true">
          </dataField>
        </dataFields>
      </view>
      <view id="gridAll" type="Grid" commandId="command1" label="Show All" sortExpression="ShiftFkdescription, DialysismachinefkDescription" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientFK" aliasFieldName="PatientfkName" tag="calendar-text">
          </dataField>
          <dataField fieldName="ScheduleHdrFK" aliasFieldName="ScheduleHdrDateSchd" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="CurrentSponsor" />
          <dataField fieldName="ScheduleTimeStart" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="ScheduleTimeEnd" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="StatusSchd" columns="10">
          </dataField>
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action commandName="Custom" commandArgument="CompleteSchedule" id="a100" cssClass="material-icon-done-all" headerText="Attend" whenClientScript="$row.StatusSchd == 'S'" />
        <action id="a3" commandName="Delete" roles="Administrators, Matron" />
        <action id="a6" />
        <action id="a7" commandName="New" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Custom" commandArgument="CompleteSchedule" id="a100" cssClass="material-icon-done-all" headerText="Attend" whenClientScript="$row.StatusSchd == 'S'" />
        <action id="a2" commandName="Delete" roles="Administrators, Matron" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Administrators, Matron" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" roles="Administrators, Matron" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Insert" type="Sql" phase="Before">DECLARE @countExists INT
SET @countExists = (select count(*) from ScheduleDtl
                                WHERE ScheduleHdrFK = @ScheduleHdrFK and PatientFK = @PatientFK and StatusSchd = 'S' )

IF @countExists &gt; 0
BEGIN
     SET @BusinessRules_PreventDefault = 1
     SET @Result_Focus = 'PatientfkName, Name already have appointment in the same date.'
     SET @Result_ShowViewMessage = 'Name already have appointment in the same date.'
END</rule>
      <rule id="r101" commandName="Insert" type="Sql" phase="Before">DECLARE @countExists INT
SET @countExists = (select count(*) from ScheduleDtl
                               where ScheduleHdrFK = @ScheduleHdrFK and StatusSchd = 'S' and DialysisMachineFK = @DialysisMachineFK and ShiftFK = @ShiftFK)

IF @countExists &gt; 0
BEGIN
     SET @BusinessRules_PreventDefault = 1
     SET @Result_Focus = 'DialysisMachineFK, Machine is not available for the selected shift.'
     SET @Result_ShowViewMessage = 'Machine is not available for the selected shift.'
END</rule>
      <rule id="r102" commandName="Custom" commandArgument="CompleteSchedule" type="Sql" phase="Execute">UPDATE ScheduleDtl 
SET StatusSchd = 'A' 
WHERE ScheduleDtlPK = @ScheduleDtlPK</rule>
      <rule id="r103" commandName="Insert" type="Sql" phase="Execute">SET @ScheduleTimeStart = cast(@ScheduleHdrDateSchd as datetime) + cast(@ShiftfkTimestart as datetime)
SET @ScheduleTimeEnd = cast(@ScheduleHdrDateSchd as datetime) + cast(@ShiftfkTimeend as datetime)
</rule>
      <rule id="r104" commandName="Update" type="Sql" phase="Execute">SET @ScheduleTimeStart = cast(@ScheduleHdrDateSchd as datetime) + cast(@ShiftfkTimestart as datetime)
SET @ScheduleTimeEnd = cast(@ScheduleHdrDateSchd as datetime) + cast(@ShiftfkTimeend as datetime)
</rule>
      <rule id="r105" commandName="Calculate" type="Sql" phase="Execute">SET @CurrentSponsor = 'sssss'</rule>
    </businessRules>
  </dataController>
  <dataController name="ScheduleHdr" conflictDetection="overwriteChanges" label="Schedule Hdr" nativeSchema="dbo" nativeTableName="ScheduleHdr">
    <commands>
      <command id="command1" type="Text" custom="false">
        <text>select
	"ScheduleHdr"."ScheduleHdrPK" "ScheduleHdrPK"
	,"ScheduleHdr"."DateSchd" "DateSchd"
from "dbo"."ScheduleHdr" "ScheduleHdr"</text>
      </command>
      <command id="ScheduleHdrPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ScheduleHdrPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ScheduleHdrPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Schedule Hdr PK" readOnly="true" />
      <field name="DateSchd" type="Date" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date Schedule" showInSummary="true" />
      <field name="ScheduleDtl" type="DataView" label="Schedule Dtl">
        <dataView controller="ScheduleDtl" filterFields="ScheduleHdrFK" view="grid1" />
      </field>
      <field name="TotalSlot" type="Int16" label="Total Slot" computed="true">
        <formula>dbo.tsGetTotalSlot (DateSchd)</formula>
      </field>
      <field name="TotalEmpty" type="Int16" label="Total Empty" computed="true">
        <formula>dbo.tsGetTotalSlotEmpty(DateSchd)</formula>
      </field>
      <field name="TotalSchedule" type="Int16" readOnly="true" label="Scheduled" computed="true">
        <formula>dbo.tsGetTotalSlotSchedule (DateSchd)</formula>
      </field>
      <field name="TotalAttend" type="Int16" readOnly="true" label="Attend" computed="true">
        <formula>dbo.tsGetTotalSlotAttend (DateSchd)</formula>
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Today" sortExpression="DateSchd desc" filter="DateSchd = convert(varchar, getdate(), 112) " tags="view-style-cards">
        <headerText />
        <dataFields>
          <dataField fieldName="DateSchd" columns="20">
          </dataField>
          <dataField fieldName="TotalSlot" columns="15" />
          <dataField fieldName="TotalEmpty" columns="15" tag="calendar-text">
          </dataField>
          <dataField fieldName="TotalSchedule" columns="15" tag="calendar-text">
          </dataField>
          <dataField fieldName="TotalAttend" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Schedule Info." tags="material-icon-mode-edit&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Schedule">
            <description />
            <dataFields>
              <dataField fieldName="DateSchd" columns="20" />
              <dataField fieldName="TotalSlot" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="TotalEmpty" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="ScheduleDtl" columns="15">
                <dataView showRowNumber="true" />
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Schedule" tags="material-icon-note-add&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="New Schedule Hdr">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="DateSchd" columns="20" />
              <dataField fieldName="ScheduleDtl" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="gridOnwards" type="Grid" commandId="command1" label="Today &amp; Onwards" sortExpression="DateSchd desc" filter="DateSchd &gt;= convert(varchar, getdate(), 112) ">
        <headerText />
        <dataFields>
          <dataField fieldName="DateSchd" columns="20">
          </dataField>
          <dataField fieldName="TotalSlot" columns="15" />
          <dataField fieldName="TotalEmpty" columns="15" tag="calendar-text">
          </dataField>
          <dataField fieldName="TotalSchedule" columns="15" tag="calendar-text">
          </dataField>
          <dataField fieldName="TotalAttend" columns="15" tag="calendar-text">
          </dataField>
        </dataFields>
      </view>
      <view id="gridAllSchedule" type="Grid" commandId="command1" label="All Schedule" sortExpression="DateSchd desc">
        <headerText />
        <dataFields>
          <dataField fieldName="DateSchd" columns="20">
          </dataField>
          <dataField fieldName="TotalSlot" columns="15" />
          <dataField fieldName="TotalEmpty" columns="15" tag="calendar-text">
          </dataField>
          <dataField fieldName="TotalSchedule" columns="15" tag="calendar-text">
          </dataField>
          <dataField fieldName="TotalAttend" columns="15" tag="calendar-text">
          </dataField>
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
        <action commandName="Report" headerText="Not Attend Report" id="a100" cssClass="material-icon-cloud-download">
          <data>_controller=VwScheduledNotAttend
_view=editForm1 
_template=VwScheduledNotAttend_reportNotAttend.rdlc
_sortExpression=ScheduleHdrPK
ScheduleHdrPK=ScheduleHdrPK
</data>
        </action>
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Insert" type="Sql" phase="Execute">DECLARE @countExists INT
SET @countExists = (select count(*) from ScheduleHdr where DateSchd = convert(varchar, @DateSchd, 112))

IF @countExists &gt; 0
BEGIN
     SET @BusinessRules_PreventDefault = 1
     SET @Result_Focus = 'DateSchd, Date already exists. Please edit current data.'
     SET @Result_ShowViewMessage = 'Date already exists. Please edit current data.'
END</rule>
    </businessRules>
  </dataController>
  <dataController name="Shift" conflictDetection="overwriteChanges" label="Shift" nativeSchema="dbo" nativeTableName="Shift">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Shift"."ShiftPK" "ShiftPK"
	,"Shift"."Description" "Description"
	,"Shift"."TimeStart" "TimeStart"
	,"Shift"."TimeEnd" "TimeEnd"
from "dbo"."Shift" "Shift"
]]></text>
      </command>
      <command id="ShiftPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="ShiftPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="ShiftPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Shift PK" readOnly="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
      <field name="TimeStart" type="TimeSpan" label="Time Start" length="7" showInSummary="true" />
      <field name="TimeEnd" type="TimeSpan" label="Time End" length="7" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Shift" sortExpression="Description">
        <headerText />
        <dataFields>
          <dataField fieldName="Description" columns="50" />
          <dataField fieldName="TimeStart" columns="15" />
          <dataField fieldName="TimeEnd" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Shift" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Shift">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="TimeStart" columns="15" />
              <dataField fieldName="TimeEnd" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Shift" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Shift">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="TimeStart" columns="15" />
              <dataField fieldName="TimeEnd" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Sponsor" conflictDetection="overwriteChanges" label="Sponsor" nativeSchema="dbo" nativeTableName="Sponsor">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Sponsor"."SponsorPK" "SponsorPK"
	,"Sponsor"."Code" "Code"
	,"Sponsor"."Name" "Name"
	,"Sponsor"."PostCode" "PostCode"
	,"Sponsor"."ContactName" "ContactName"
	,"Sponsor"."ContactPosition" "ContactPosition"
	,"Sponsor"."ContactTelNo" "ContactTelNo"
	,"Sponsor"."ContactFaxNo" "ContactFaxNo"
	,"Sponsor"."ContactEmail" "ContactEmail"
	,"Sponsor"."UserCreated" "UserCreated"
	,"Sponsor"."DateCreated" "DateCreated"
	,"Sponsor"."UserModified" "UserModified"
	,"Sponsor"."DateModified" "DateModified"
	,"Sponsor"."Address" "Address"
	,"Sponsor"."City" "City"
	,"City"."Description" "CityDescription"
	,"Sponsor"."State" "State"
	,"State"."Description" "StateDescription"
	,"Sponsor"."MaxAmountPerTreat" "MaxAmountPerTreat"
	,"Sponsor"."MaxEPOMonthly" "MaxEpomonthly"
	,"Sponsor"."MaxAmountPerEPO" "MaxAmountPerEpo"
from "dbo"."Sponsor" "Sponsor"
	left join "dbo"."City" "City" on "Sponsor"."City" = "City"."CityPK"
	left join "dbo"."State" "State" on "Sponsor"."State" = "State"."StatePK"
]]></text>
      </command>
      <command id="SponsorPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="SponsorPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="SponsorPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Sponsor PK" readOnly="true" />
      <field name="Code" type="String" allowNulls="false" label="Code" length="10" showInSummary="true" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="PostCode" type="String" allowNulls="false" label="Post Code" length="15" showInSummary="true" />
      <field name="ContactName" type="String" allowNulls="false" label="Contact Name" length="100" showInSummary="true" />
      <field name="ContactPosition" type="String" allowNulls="false" label="Contact Position" length="100" showInSummary="true" />
      <field name="ContactTelNo" type="String" allowNulls="false" label="Contact Tel No" length="15" />
      <field name="ContactFaxNo" type="String" allowNulls="false" label="Contact Fax No" length="15" />
      <field name="ContactEmail" type="String" allowNulls="false" label="Contact Email" length="100" />
      <field name="UserCreated" type="String" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="Address" type="String" allowNulls="false" label="Address" length="100" />
      <field name="City" type="Int32" allowNulls="false" label="City">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="Description" />
      </field>
      <field name="CityDescription" type="String" readOnly="true" label="City Description" length="50" />
      <field name="State" type="Int32" allowNulls="false" label="State">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="Description" />
      </field>
      <field name="StateDescription" type="String" readOnly="true" label="State Description" length="50" />
      <field name="MaxAmountPerTreat" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Max Amount Per Treatment" />
      <field name="MaxEpomonthly" type="Int32" allowNulls="false" default="((0))" label="Max EPO (Monthly)" />
      <field name="MaxAmountPerEpo" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Max EPO Price (Unit)" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Sponsor">
        <headerText />
        <dataFields>
          <dataField fieldName="Code" columns="10" />
          <dataField fieldName="Name" />
          <dataField fieldName="ContactName" />
          <dataField fieldName="ContactTelNo" columns="15" />
          <dataField fieldName="ContactEmail" />
          <dataField fieldName="MaxAmountPerTreat" columns="15" />
          <dataField fieldName="MaxEpomonthly" columns="15" />
          <dataField fieldName="MaxAmountPerEpo" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Sponsor" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Sponsor" tab="Sponsor">
            <description />
            <dataFields>
              <dataField fieldName="Code" columns="10" />
              <dataField fieldName="Name" />
              <dataField fieldName="MaxAmountPerTreat" columns="15" />
              <dataField fieldName="MaxEpomonthly" columns="15" />
              <dataField fieldName="MaxAmountPerEpo" columns="15" />
            </dataFields>
          </category>
          <category headerText="Contact Info." id="c3" tab="Contact Info.">
            <dataFields>
              <dataField fieldName="ContactName" />
              <dataField fieldName="ContactPosition" />
              <dataField fieldName="ContactTelNo" columns="15" />
              <dataField fieldName="ContactFaxNo" columns="15" />
              <dataField fieldName="ContactEmail" />
              <dataField fieldName="Address" />
              <dataField fieldName="PostCode" columns="15" />
              <dataField fieldName="City" aliasFieldName="CityDescription" />
              <dataField fieldName="State" aliasFieldName="StateDescription" />
            </dataFields>
          </category>
          <category headerText="Audit" id="c2" tab="Audit">
            <dataFields>
              <dataField fieldName="UserCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="UserModified" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="DateModified" columns="20" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Sponsor" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Sponsor">
            <description />
            <dataFields>
              <dataField fieldName="Code" columns="10" />
              <dataField fieldName="Name" />
              <dataField fieldName="MaxAmountPerTreat" columns="15" />
              <dataField fieldName="MaxEpomonthly" columns="15" />
              <dataField fieldName="MaxAmountPerEpo" columns="15" />
            </dataFields>
          </category>
          <category headerText="Address" id="c2">
            <dataFields>
              <dataField fieldName="ContactName" />
              <dataField fieldName="ContactPosition" />
              <dataField fieldName="ContactTelNo" columns="15" />
              <dataField fieldName="ContactFaxNo" columns="15" />
              <dataField fieldName="ContactEmail" />
              <dataField fieldName="Address" />
              <dataField fieldName="PostCode" columns="15" />
              <dataField fieldName="City" aliasFieldName="CityDescription" />
              <dataField fieldName="State" aliasFieldName="StateDescription" />
              <dataField fieldName="UserCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateCreated" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="UserModified" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="DateModified" columns="20" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateCreated = GETDATE()
SET @UserCreated = @BusinessRules_UserName
</rule>
      <rule id="r101" commandName="Update" type="Sql" phase="Execute">SET @DateModified = GETDATE()
SET @UserModified = @BusinessRules_UserName</rule>
    </businessRules>
  </dataController>
  <dataController name="State" conflictDetection="overwriteChanges" label="State" nativeSchema="dbo" nativeTableName="State">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"State"."StatePK" "StatePK"
	,"State"."StateCode" "StateCode"
	,"State"."Description" "Description"
from "dbo"."State" "State"
]]></text>
      </command>
      <command id="StatePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="StatePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="StatePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="State PK" readOnly="true" />
      <field name="StateCode" type="String" allowNulls="false" default="('')" label="State Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="State">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="StateCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review State" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="State">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="StateCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New State" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New State">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="StateCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Tasks" conflictDetection="overwriteChanges" label="Tasks" nativeSchema="dbo" nativeTableName="Tasks">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Tasks"."TaskId" "TaskID"
	,"Tasks"."TaskDesc" "TaskDesc"
	,"Tasks"."TaskDate" "TaskDate"
from "dbo"."Tasks" "Tasks"
]]></text>
      </command>
      <command id="TaskIdIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="TaskID" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="TaskID" type="Int32" allowNulls="false" isPrimaryKey="true" label="Task Id" readOnly="true" />
      <field name="TaskDesc" type="String" allowNulls="false" label="Task Desc" length="50" showInSummary="true" />
      <field name="TaskDate" type="DateTime" label="Task Date" showInSummary="true" />
    </fields>
    <views>
      <view id="createForm1" type="Form" commandId="command1" label="New Tasks">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Tasks">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="TaskDesc" columns="50" />
              <dataField fieldName="TaskDate" columns="10" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Treatment" conflictDetection="overwriteChanges" label="Treatment" nativeSchema="dbo" nativeTableName="Treatment">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Treatment"."TreatmentPK" "TreatmentPK"
	,"Treatment"."DateTreatment" "DateTreatment"
	,"Treatment"."TreatmentNo" "TreatmentNo"
	,"Treatment"."PatientFK" "PatientFK"
	,"Treatment"."Status" "Status"
	,"Treatment"."ShiftFK" "ShiftFK"
	,"ShiftFK"."Description" "ShiftFkdescription"
	,"Treatment"."DialysisMachineFK" "DialysisMachineFK"
	,"DialysisMachineFK"."Description" "DialysismachinefkDescription"
	,"DialysisMachineFK"."Floor" "DialysismachinefkFloor"
	,"Treatment"."PreBP" "PreBp"
	,"Treatment"."PostBP" "PostBp"
	,"Treatment"."PrePulse" "PrePulse"
	,"Treatment"."PostPulse" "PostPulse"
	,"Treatment"."PreTemp" "PreTemp"
	,"Treatment"."PostTemp" "PostTemp"
	,"Treatment"."PreWeight" "PreWeight"
	,"Treatment"."PostWeight" "PostWeight"
	,"Treatment"."DryWeight" "DryWeight"
	,"Treatment"."IDWG" "Idwg"
	,"Treatment"."SizeNeedle" "SizeNeedle"
	,"Treatment"."Dialyzer" "Dialyzer"
	,"Treatment"."SODProf" "Sodprof"
	,"Treatment"."UFProfile" "Ufprofile"
	,"Treatment"."Dialystate" "Dialystate"
	,"Treatment"."MachineTemp" "MachineTemp"
	,"Treatment"."UF" "Uf"
	,"Treatment"."ScheduleDtlFK" "ScheduleDtlFK"
	,"ScheduleDtl"."ScheduleDtlPK" "ScheduleDtlScheduleDtlPK"
	,"ScheduleDtl"."PatientFK" "ScheduleDtlPatientFK"
	,"ScheduleDtl"."DialysisMachineFK" "ScheduleDtlDialysisMachineFK"
	,"ScheduleDtl"."ShiftFK" "ScheduleDtlShiftFK"
	,"ScheduleHdr"."DateSchd" "ScheduleHdrDateSchd"
	,"Patient"."Name" "PatientName"
	,"Patient"."PhotoImg" "PatientPhotoImg"
	,"DialysisMachine"."Description" "DialysisMachineDescription"
	,"Shift"."Description" "ShiftDescription"
	,"Treatment"."yTotalExpenses" "yTotalExpenses"
	,"Treatment"."WeightLess" "WeightLess"
	,"Treatment"."NeedBloodTest" "NeedBloodTest"
	,"Treatment"."DialyzerFK" "DialyzerFK"
	,"Dialyzer"."PatDialyzerPk" "DialyzerPatDialyzerPk"
	,"Dialyzer"."DialyzerFK" "DialyzerFK1"
	,"Dialyzer"."DateOpen" "DialyzerDateOpen"
	,"Dialyzer"."ReferenceNumber" "DialyzerReferenceNumber"
	,"DialyzerDialyzer"."Description" "DialyzerDescription"
	,"Treatment"."NeedEPO" "NeedEpo"
	,"Treatment"."TDW" "Tdw"
	,"Treatment"."HeparinLoad" "HeparinLoad"
	,"Treatment"."HeparinMaintain" "HeparinMaintain"
from "dbo"."Treatment" "Treatment"
	left join "dbo"."Shift" "ShiftFK" on "Treatment"."ShiftFK" = "ShiftFK"."ShiftPK"
	left join "dbo"."DialysisMachine" "DialysisMachineFK" on "Treatment"."DialysisMachineFK" = "DialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."ScheduleDtl" "ScheduleDtl" on "Treatment"."ScheduleDtlFK" = "ScheduleDtl"."ScheduleDtlPK"
	left join "dbo"."ScheduleHdr" "ScheduleHdr" on "ScheduleDtl"."ScheduleHdrFK" = "ScheduleHdr"."ScheduleHdrPK"
	left join "dbo"."Patient" "Patient" on "ScheduleDtl"."PatientFK" = "Patient"."PatientPK"
	left join "dbo"."DialysisMachine" "DialysisMachine" on "ScheduleDtl"."DialysisMachineFK" = "DialysisMachine"."DialysisMachinePK"
	left join "dbo"."Shift" "Shift" on "ScheduleDtl"."ShiftFK" = "Shift"."ShiftPK"
	left join "dbo"."PatientDialyzer" "Dialyzer" on "Treatment"."DialyzerFK" = "Dialyzer"."PatDialyzerPk"
	left join "dbo"."Dialyzer" "DialyzerDialyzer" on "Dialyzer"."DialyzerFK" = "DialyzerDialyzer"."DialyzerPk"
]]></text>
      </command>
      <command id="TreatmentPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="TreatmentPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="TreatmentPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Treatment PK" readOnly="true" />
      <field name="PatientFK" type="Int32" label="Patient FK" showInSummary="true" />
      <field name="DateTreatment" type="Date" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date Treatment" showInSummary="true" />
      <field name="TreatmentNo" type="Int32" allowNulls="false" default="((0))" label="Treatment No" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('S')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="P" text="PENDING" />
          <item value="S" text="SCHEDULED" />
          <item value="C" text="CONFIRMED" />
          <item value="T" text="IN TREATMENT" />
          <item value="D" text="DONE" />
        </items>
      </field>
      <field name="ShiftFK" type="Int32" label="Shift FK" showInSummary="true">
        <items style="Lookup" dataController="Shift" newDataView="createForm1" dataValueField="ShiftPK" dataTextField="Description" />
      </field>
      <field name="ShiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="DialysisMachineFK" type="Int32" default="((0))" label="Dialysis Machine FK">
        <items style="Lookup" dataController="DialysisMachine" newDataView="createForm1" dataValueField="DialysisMachinePK" dataTextField="Description" copy="DialysismachinefkFloor=Floor" />
      </field>
      <field name="DialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="DialysismachinefkFloor" type="Int32" readOnly="true" label="Floor" />
      <field name="PreBp" type="String" default="('')" label="BP (Before)" length="20" />
      <field name="PostBp" type="String" default="('')" label="BP (After)" length="20" />
      <field name="PrePulse" type="Int32" default="((0))" label="Pulse (Before)" />
      <field name="PostPulse" type="Int32" default="((0))" label="Pulse (After)" />
      <field name="PreTemp" type="Decimal" default="((0))" label="Temperature (Before)" />
      <field name="PostTemp" type="Decimal" default="((0))" label="Temperature (After)" />
      <field name="PreWeight" type="Decimal" default="((0))" label="Weight (Before)" causesCalculate="true" />
      <field name="PostWeight" type="Decimal" default="((0))" label="Weight (After)" causesCalculate="true" />
      <field name="DryWeight" type="Decimal" default="((0))" label="Dry Weight" />
      <field name="Idwg" type="Decimal" default="((0))" label="IDWG" />
      <field name="SizeNeedle" type="Int32" default="((0))" label="Needle Size">
        <items style="DropDownList">
          <item value="17" text="17 G" />
          <item value="16" text="16 G" />
          <item value="15" text="15 G" />
          <item value="14" text="14 G" />
        </items>
      </field>
      <field name="Dialyzer" type="Decimal" default="((0))" label="Dialyzer" />
      <field name="Sodprof" type="String" default="('')" label="SOD Profile" length="20" />
      <field name="Ufprofile" type="String" default="('')" label="UF Profile" length="20" />
      <field name="Dialystate" type="String" default="('')" label="Dialystate" length="20">
        <items style="DropDownList">
          <item value="AK6" text="AK6 (1.8)" />
          <item value="AK7" text="AK7 (1.25)" />
          <item value="AK8" text="AK8 (1.00)" />
        </items>
      </field>
      <field name="MachineTemp" type="Decimal" default="((0))" label="Machine Temperature" />
      <field name="Uf" type="Decimal" default="((0))" label="UF" />
      <field name="ScheduleDtlFK" type="Int32" label="Schedule" contextFields="TodayScheduleHdrFK=ScheduleHdrFK">
        <items style="Lookup" dataController="ScheduleDtl" newDataView="createForm1" dataValueField="ScheduleDtlPK" dataTextField="ScheduleHdrDateSchd" copy="ScheduleDtlScheduleDtlPK=ScheduleDtlPK, ScheduleDtlPatientFK=PatientFK, ScheduleDtlDialysisMachineFK=DialysisMachineFK, ScheduleDtlShiftFK=ShiftFK, PatientName=PatientfkName, DialysisMachineDescription=DialysismachinefkDescription, ShiftDescription=ShiftFkdescription" />
        <configuration />
      </field>
      <field name="ScheduleDtlScheduleDtlPK" type="Int32" label="Schedule Dtl Schedule Dtl PK" readOnly="true" />
      <field name="ScheduleDtlPatientFK" type="Int32" readOnly="true" label="Schedule Dtl Patient FK" />
      <field name="ScheduleDtlDialysisMachineFK" type="Int32" readOnly="true" label="Schedule Dtl Dialysis Machine FK" />
      <field name="ScheduleDtlShiftFK" type="Int32" readOnly="true" label="Schedule Dtl Shift FK" />
      <field name="ScheduleHdrDateSchd" type="Date" readOnly="true" dataFormatString="dd/MM/yyyy" label="Schedule Date" contextFields="ScheduleHdrDateSchd = DateTreatment" />
      <field name="PatientName" type="String" readOnly="true" label="Patient Name" length="100" />
      <field name="PatientPhotoImg" type="Byte[]" readOnly="true" onDemand="true" sourceFields="PatientFK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo" />
      <field name="DialysisMachineDescription" type="String" readOnly="true" label="Schedule Machine" length="50" />
      <field name="ShiftDescription" type="String" readOnly="true" label="Schedule Shift" length="50" />
      <field name="yTotalExpenses" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Total Expenses" />
      <field name="WeightLess" type="Decimal" allowNulls="false" default="((0))" label="Weight Loss" />
      <field name="NeedBloodTest" type="Boolean" allowNulls="false" default="((0))" label="Blood Test ?" />
      <field name="DialyzerFK" type="Int32" allowNulls="false" dataFormatString="" default="((0))" label="Dialyzer S/N" contextFields="TreatmentPatientFK=PatientFK">
        <items style="Lookup" dataController="PatientDialyzer" newDataView="createForm1" dataValueField="PatDialyzerPK" dataTextField="ReferenceNumber" copy="DialyzerPatDialyzerPk=PatDialyzerPK, DialyzerFK1=DialyzerFK, DialyzerDateOpen=DateOpen, DialyzerDescription=DialyzerFkdescription" />
      </field>
      <field name="DialyzerPatDialyzerPk" type="Int32" label="Dialyzer Pat Dialyzer Pk" readOnly="true" />
      <field name="DialyzerFK1" type="Int32" readOnly="true" label="Dialyzer FK" />
      <field name="DialyzerDateOpen" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Dialyzer Open Date" />
      <field name="DialyzerReferenceNumber" type="String" readOnly="true" label="Dialyzer Reference Number" length="12" />
      <field name="DialyzerDescription" type="String" readOnly="true" label="Dialyzer Description" length="50" />
      <field name="NeedEpo" type="Boolean" allowNulls="false" default="((0))" label="EPO ?" />
      <field name="Tdw" type="Decimal" allowNulls="false" default="((0))" label="TDW" />
      <field name="HeparinLoad" type="String" allowNulls="false" label="Heparin Load" length="50" />
      <field name="HeparinMaintain" type="String" allowNulls="false" label="Heparin Maintain" length="50" />
      <field name="TreatmentHd" type="DataView" label="Treatment Hd">
        <dataView controller="TreatmentHd" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="Medication" type="DataView" label="Medication">
        <dataView controller="Medication" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="Expenses" type="DataView" label="Expenses">
        <dataView controller="Expenses" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="PatientBloodTest" type="DataView" label="Patient Blood Test">
        <dataView controller="PatientBloodTest" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="PatientMedicine" type="DataView" label="Patient Medicine">
        <dataView controller="PatientMedicine" view="grid1" filterFields="PatientFK" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Today Treatment" filter="convert(varchar, DateTreatment, 112) = convert(varchar, getdate(), 112) " sortExpression="DateTreatment" tags="view-style-list">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientName" tag="header-text">
          </dataField>
          <dataField fieldName="DateTreatment" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="Status" columns="15">
          </dataField>
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="NeedBloodTest" />
          <dataField fieldName="NeedEpo" />
          <dataField fieldName="Tdw" columns="15" />
          <dataField fieldName="HeparinLoad" columns="50" />
          <dataField fieldName="HeparinMaintain" columns="50" />
          <dataField fieldName="yTotalExpenses" columns="15" />
          <dataField fieldName="PatientFK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="PatientPhotoImg" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Treatment" tags="material-icon-mode-edit&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Info" tab="Patient Info">
            <description />
            <dataFields>
              <dataField fieldName="PatientName" />
              <dataField fieldName="DateTreatment" columns="20" />
              <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
              <dataField fieldName="DialysismachinefkFloor" columns="15" />
              <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
              <dataField fieldName="TreatmentNo" columns="15" />
              <dataField fieldName="yTotalExpenses" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="NeedEpo" />
              <dataField fieldName="NeedBloodTest" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentPK" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Dialyzer" tab="HD Prescription" id="c10">
            <dataFields>
              <dataField fieldName="DialyzerFK" columns="15" aliasFieldName="DialyzerDescription">
              </dataField>
              <dataField fieldName="DialyzerDescription" columns="50" />
              <dataField fieldName="DialyzerDateOpen" columns="10" />
              <dataField fieldName="Dialyzer" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Health Info" id="c4" tab="HD Prescription">
            <dataFields>
              <dataField fieldName="PreTemp" columns="15" textMode="Text">
              </dataField>
              <dataField fieldName="PostTemp" columns="15" textMode="Text">
              </dataField>
              <dataField fieldName="PreWeight" columns="15" textMode="Text">
              </dataField>
              <dataField fieldName="PostWeight" columns="15" textMode="Text">
              </dataField>
              <dataField fieldName="DryWeight" columns="15" textMode="Text">
              </dataField>
              <dataField fieldName="Idwg" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Uf" columns="15" />
              <dataField fieldName="WeightLess" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Medicine" id="c12" tab="HD Prescription">
            <dataFields>
              <dataField fieldName="HeparinLoad" columns="50" />
              <dataField fieldName="HeparinMaintain" columns="50" />
            </dataFields>
          </category>
          <category headerText="Schedule Info." id="c9" collapsed="true">
            <dataFields>
              <dataField fieldName="ScheduleDtlFK" aliasFieldName="ScheduleHdrDateSchd" textMode="Static">
              </dataField>
              <dataField fieldName="ScheduleDtlScheduleDtlPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlPatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlDialysisMachineFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlShiftFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ShiftDescription" columns="50" />
              <dataField fieldName="DialysisMachineDescription" columns="50" />
            </dataFields>
          </category>
          <category headerText="Before" id="c2" collapsed="true">
            <dataFields>
              <dataField fieldName="PreBp" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="PrePulse" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="After" id="c3" collapsed="true">
            <dataFields>
              <dataField fieldName="PostBp" columns="20" textMode="Static">
              </dataField>
              <dataField fieldName="PostPulse" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Blood Test" id="c8" tab="Blood Test">
            <dataFields>
              <dataField fieldName="PatientBloodTest" columns="15" />
            </dataFields>
            <visibility>
              <expression test="[NeedBloodTest] == 1" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Hemodialysis" tab="Vital sign" id="c5">
            <dataFields>
              <dataField fieldName="TreatmentHd" columns="15" />
            </dataFields>
          </category>
          <category headerText="Current Medicine" id="c11" tab="Current Medicine">
            <dataFields>
              <dataField fieldName="PatientMedicine" columns="15" />
            </dataFields>
          </category>
          <category headerText="Medication" tab="Medication" id="c6">
            <dataFields>
              <dataField fieldName="Medication" columns="15" />
            </dataFields>
          </category>
          <category headerText="Expenses" tab="Expenses" id="c7">
            <dataFields>
              <dataField fieldName="Expenses" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Treatment" tags="material-icon-note-add&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Info.">
            <description />
            <dataFields>
              <dataField fieldName="DateTreatment" columns="20">
              </dataField>
              <dataField fieldName="ScheduleDtlFK" aliasFieldName="ScheduleHdrDateSchd" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="ShiftDescription" columns="50" />
              <dataField fieldName="DialysismachinefkFloor" columns="15" />
              <dataField fieldName="DialysisMachineDescription" columns="50" />
              <dataField fieldName="PatientPhotoImg" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentNo" columns="15" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="ScheduleDtlPatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlDialysisMachineFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlScheduleDtlPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlShiftFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="yTotalExpenses" columns="15" textMode="Static" hidden="true">
              </dataField>
              <dataField fieldName="WeightLess" columns="15" />
              <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerReferenceNumber" />
              <dataField fieldName="DialyzerPatDialyzerPk" aliasFieldName="DialyzerDescription" hidden="true">
              </dataField>
              <dataField fieldName="DialyzerFK1" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="DialyzerDateOpen" columns="20" />
              <dataField fieldName="NeedEpo" />
              <dataField fieldName="HeparinLoad" columns="50" />
              <dataField fieldName="HeparinMaintain" columns="50" />
              <dataField fieldName="DialysisMachineFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ShiftFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="NeedBloodTest" />
            </dataFields>
          </category>
          <category headerText="Health Info" id="c5">
            <dataFields>
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Dialyzer" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Uf" columns="15" />
            </dataFields>
          </category>
          <category headerText="Before" id="c3">
            <dataFields>
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PreWeight" columns="15" />
            </dataFields>
          </category>
          <category headerText="After" id="c4">
            <dataFields>
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
            </dataFields>
          </category>
          <category headerText="Blood Test" id="c2" tab="Blood Test">
            <dataFields>
              <dataField fieldName="PatientBloodTest" columns="15" />
            </dataFields>
          </category>
          <category headerText="Hemodialysis" tab="Hemodialysis" id="c6">
            <dataFields>
              <dataField fieldName="TreatmentHd" columns="15" />
            </dataFields>
          </category>
          <category headerText="Medication" tab="Medication" id="c7">
            <dataFields>
              <dataField fieldName="Medication" columns="15" />
            </dataFields>
          </category>
          <category headerText="Expenses" tab="Expenses" id="c8">
            <dataFields>
              <dataField fieldName="Expenses" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="gridCurrentMonth" type="Grid" commandId="command1" label="Current Month" filter="YEAR(DateTreatment) = YEAR(GETDATE()) and MONTH(DateTreatment) = MONTH(GETDATE())" sortExpression="DateTreatment" tags="view-style-list">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientName" />
          <dataField fieldName="DateTreatment" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="Status" columns="15">
          </dataField>
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="NeedBloodTest" />
          <dataField fieldName="NeedEpo" />
          <dataField fieldName="Tdw" columns="15" />
          <dataField fieldName="HeparinLoad" columns="50" />
          <dataField fieldName="HeparinMaintain" columns="50" />
          <dataField fieldName="yTotalExpenses" columns="15" />
          <dataField fieldName="PatientFK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="PatientPhotoImg" columns="15" />
        </dataFields>
      </view>
      <view id="gridAllTreatment" type="Grid" commandId="command1" label="All Treatment" sortExpression="DateTreatment" tags="view-style-list">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientName" />
          <dataField fieldName="DateTreatment" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="Status" columns="15">
          </dataField>
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="NeedBloodTest" />
          <dataField fieldName="NeedEpo" />
          <dataField fieldName="Tdw" columns="15" />
          <dataField fieldName="HeparinLoad" columns="50" />
          <dataField fieldName="HeparinMaintain" columns="50" />
          <dataField fieldName="yTotalExpenses" columns="15" />
          <dataField fieldName="PatientFK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="PatientPhotoImg" columns="15" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Administrators" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
        <action commandName="Custom" commandArgument="CompleteTreatment" headerText="Complete" id="a100" cssClass="material-icon-done-all" whenClientScript="$row.Status != 'D'" />
        <action commandName="Custom" commandArgument="CalcExpenses" id="a102" headerText="Compute Expenses" cssClass="material-icon-attach-money" />
        <action commandName="Report" headerText="Print Report" id="a103" cssClass="material-icon-cloud-download">
          <data>_controller=VwRekodRawatanHaemod
_view=editForm1 
_template=VwRekodRawatanHaemod_reportRawatanHd.rdlc
_sortExpression=Time
TreatmentFK=TreatmentPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Custom" commandArgument="CompleteTreatment" headerText="Complete" whenClientScript="$row.Status != 'D'" id="a100" cssClass="material-icon-done-all" />
        <action commandName="Custom" commandArgument="CalcExpenses" id="a102" headerText="Compute Expenses" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Administrators" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" id="a101" />
        <action commandName="Report" headerText="Print Report" id="a103" cssClass="material-icon-cloud-download">
          <data>_controller=VwRekodRawatanHaemod2
_view=editForm1 
_template=VwRekodRawatanHaemod2_reportRawatanHd2.rdlc
_sortExpression=Time
TreatmentFK=TreatmentPK</data>
        </action>
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Administrators" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateTreatment = GETDATE()</rule>
      <rule id="r101" commandName="Insert" type="Sql" phase="Execute">SET @PatientFK = @ScheduleDtlPatientFK
SET @DialysisMachineFK = @ScheduleDtlDialysisMachineFK
SET @ShiftFK = @ScheduleDtlShiftFK

//SET @Idwg = (select dbo.tsGetIDWG(@TreatmentPK))</rule>
      <rule id="r102" commandName="Custom" commandArgument="CompleteTreatment" type="Sql" phase="Execute">UPDATE Treatment
SET Status = 'D'
WHERE TreatmentPK = @TreatmentPK</rule>
      <rule id="r103" commandName="Custom" commandArgument="CalcExpenses" type="Sql" phase="Execute">EXEC pGenExpenses @TreatmentPK</rule>
      <rule id="r104" commandName="Calculate" type="Sql" phase="Execute">IF @PreWeight IS NULL OR @PostWeight IS NULL
  SET @WeightLess = 0
ELSE
  SET @WeightLess = @PostWeight - @PreWeight
  

 SET @Idwg =  @PreWeight - (SELECT dbo.tsGetPrevWeight(@TreatmentPK))</rule>
      <rule id="r105" commandName="Update" type="Sql" phase="Execute">IF @Dialyzer = 0 AND @DialyzerFK &lt;&gt; 0
SET @Dialyzer = (SELECT dbo.tsGetTotalUse(@PatientFK, @DialyzerPatDialyzerPk) + 1)</rule>
    </businessRules>
  </dataController>
  <dataController name="TreatmentHd" conflictDetection="overwriteChanges" label="Treatment Hd" nativeSchema="dbo" nativeTableName="TreatmentHD">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"TreatmentHD"."TreatmentHDPK" "TreatmentHdpk"
	,"TreatmentHD"."Time" "Time"
	,"TreatmentHD"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."Status" "TreatmentFkstatus"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFK"."TreatmentNo" "TreatmentfkTreatmentno"
	,"TreatmentFKDialysisMachineFK"."Description" "TreatmentfkdialysismachinefkDescription"
	,"TreatmentFKPatientFK"."Name" "TreatmentfkpatientfkName"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
	,"TreatmentHD"."BP" "Bp"
	,"TreatmentHD"."Pulse" "Pulse"
	,"TreatmentHD"."VP" "Vp"
	,"TreatmentHD"."Temp" "Temp"
	,"TreatmentHD"."QB" "Qb"
	,"TreatmentHD"."HEP" "Hep"
	,"TreatmentHD"."BAKIUF" "Bakiuf"
from "dbo"."TreatmentHD" "TreatmentHD"
	left join "dbo"."Treatment" "TreatmentFK" on "TreatmentHD"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."DialysisMachine" "TreatmentFKDialysisMachineFK" on "TreatmentFK"."DialysisMachineFK" = "TreatmentFKDialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
]]></text>
      </command>
      <command id="TreatmentHDPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="TreatmentHdpk" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="TreatmentHdpk" type="Int32" allowNulls="false" isPrimaryKey="true" label="Treatment HDPK" readOnly="true" />
      <field name="Time" type="String" allowNulls="false" default="('0000')" label="Time" length="4" showInSummary="true" />
      <field name="TreatmentFK" type="Int32" default="((0))" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="Status" copy="TreatmentfkDatetreatment=DateTreatment, TreatmentfkTreatmentno=TreatmentNo, TreatmentfkdialysismachinefkDescription=DialysismachinefkDescription, TreatmentfkpatientfkName=PatientName, TreatmentFkshiftFkdescription=ShiftFkdescription" />
      </field>
      <field name="TreatmentFkstatus" type="String" readOnly="true" label="Treatment FK Status" length="1" />
      <field name="TreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="g" label="Date" />
      <field name="TreatmentfkTreatmentno" type="Int32" readOnly="true" label="Treatment No" />
      <field name="TreatmentfkdialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="TreatmentfkpatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="Bp" type="String" allowNulls="false" label="BP" length="20" showInSummary="true" />
      <field name="Pulse" type="Int32" allowNulls="false" label="Pulse" showInSummary="true" />
      <field name="Vp" type="Int32" allowNulls="false" label="VP" showInSummary="true" />
      <field name="Temp" type="Decimal" allowNulls="false" label="TMP" />
      <field name="Qb" type="Int32" allowNulls="false" label="QB" />
      <field name="Hep" type="Int32" allowNulls="false" label="HEP BAL" />
      <field name="Bakiuf" type="Decimal" allowNulls="false" label="UF Remove" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vital Sign" tags="view-style-list">
        <headerText />
        <dataFields>
          <dataField fieldName="Time" columns="4" />
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentFkstatus" />
          <dataField fieldName="TreatmentfkDatetreatment" columns="20" />
          <dataField fieldName="TreatmentfkTreatmentno" columns="15" />
          <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
          <dataField fieldName="TreatmentfkpatientfkName" />
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
          <dataField fieldName="Bp" columns="20" />
          <dataField fieldName="Pulse" columns="15" />
          <dataField fieldName="Vp" columns="15" />
          <dataField fieldName="Temp" columns="15" />
          <dataField fieldName="Qb" columns="15" />
          <dataField fieldName="Hep" columns="15" />
          <dataField fieldName="Bakiuf" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Vital Sign" tags="material-icon-mode-edit">
        <headerText />
        <categories>
          <category id="c1" headerText="Hemodialysys">
            <description />
            <dataFields>
              <dataField fieldName="Time" columns="4" />
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentFkstatus" />
              <dataField fieldName="TreatmentfkDatetreatment" columns="20" />
              <dataField fieldName="TreatmentfkTreatmentno" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="Bp" columns="20" />
              <dataField fieldName="Pulse" columns="15" />
              <dataField fieldName="Vp" columns="15" />
              <dataField fieldName="Temp" columns="15" />
              <dataField fieldName="Qb" columns="15" />
              <dataField fieldName="Hep" columns="15" />
              <dataField fieldName="Bakiuf" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vital Sign" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="Hemodialysys">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Time" columns="4" />
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentFkstatus" />
              <dataField fieldName="TreatmentfkDatetreatment" columns="20" />
              <dataField fieldName="TreatmentfkTreatmentno" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="Bp" columns="20" />
              <dataField fieldName="Pulse" columns="15" />
              <dataField fieldName="Vp" columns="15" />
              <dataField fieldName="Temp" columns="15" />
              <dataField fieldName="Qb" columns="15" />
              <dataField fieldName="Hep" columns="15" />
              <dataField fieldName="Bakiuf" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @Time = REPLACE(CONVERT(varchar(5), GETDATE(), 108), ':', '')</rule>
    </businessRules>
  </dataController>
  <dataController name="UserRoles" conflictDetection="overwriteChanges" label="User Roles" nativeSchema="dbo" nativeTableName="UserRoles">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"UserRoles"."UserID" "UserID"
	,"User"."UserName" "UserName"
	,"UserRoles"."RoleID" "RoleID"
	,"Role"."RoleName" "RoleName"
from "dbo"."UserRoles" "UserRoles"
	left join "dbo"."Users" "User" on "UserRoles"."UserID" = "User"."UserID"
	left join "dbo"."Roles" "Role" on "UserRoles"."RoleID" = "Role"."RoleID"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="UserID" type="Int32" allowNulls="false" isPrimaryKey="true" label="User ID" showInSummary="true">
        <items style="Lookup" dataController="Users" newDataView="createForm1" dataValueField="UserID" dataTextField="UserName" />
      </field>
      <field name="UserName" type="String" readOnly="true" label="User Name" length="128" />
      <field name="RoleID" type="Int32" allowNulls="false" label="Role ID" showInSummary="true">
        <items style="Lookup" dataController="Roles" newDataView="createForm1" dataValueField="RoleID" dataTextField="RoleName" />
      </field>
      <field name="RoleName" type="String" readOnly="true" label="Role Name" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="User Roles">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="UserID" aliasFieldName="UserName" />
          <dataField fieldName="RoleID" aliasFieldName="RoleName" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review User Roles">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="User Roles">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="UserID" aliasFieldName="UserName" />
              <dataField fieldName="RoleID" aliasFieldName="RoleName" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New User Roles">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New User Roles">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="UserID" aliasFieldName="UserName" />
              <dataField fieldName="RoleID" aliasFieldName="RoleName" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Users" conflictDetection="overwriteChanges" label="Users" nativeSchema="dbo" nativeTableName="Users">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"Users"."UserID" "UserID"
	,"Users"."UserName" "UserName"
	,"Users"."Password" "Password"
	,"Users"."Name" "Name"
	,"Users"."Position" "Position"
	,"Users"."Email" "Email"
	,"Users"."Phone" "Phone"
from "dbo"."Users" "Users"
]]></text>
      </command>
      <command id="UserIDIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="UserID" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="UserID" type="Int32" allowNulls="false" isPrimaryKey="true" label="User ID" readOnly="true" />
      <field name="UserName" type="String" label="User Name" length="128" showInSummary="true" />
      <field name="Password" type="String" label="Password" length="128" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" showInSummary="true" />
      <field name="Position" type="String" default="('')" label="Position" length="100" showInSummary="true" />
      <field name="Email" type="String" default="('')" label="Email" length="50" showInSummary="true" />
      <field name="Phone" type="String" default="('')" label="Phone" length="15" showInSummary="true" />
      <field name="Roles" type="DataView" label="Roles">
        <dataView controller="Roles" view="grid1" />
      </field>
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Users">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="UserName" />
          <dataField fieldName="Password" textMode="Password" />
          <dataField fieldName="Name" />
          <dataField fieldName="Position" />
          <dataField fieldName="Email" columns="50" />
          <dataField fieldName="Phone" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Users">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Users">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="UserName" />
              <dataField fieldName="Password" textMode="Password" />
              <dataField fieldName="Name" />
              <dataField fieldName="Position" />
              <dataField fieldName="Email" columns="50" />
              <dataField fieldName="Phone" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Users">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Users">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="UserName" />
              <dataField fieldName="Password" textMode="Password" />
              <dataField fieldName="Name" />
              <dataField fieldName="Position" />
              <dataField fieldName="Email" columns="50" />
              <dataField fieldName="Phone" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Update|Insert" type="Code" phase="Before" />
    </businessRules>
  </dataController>
  <dataController name="VascularType" conflictDetection="overwriteChanges" label="Vascular Type" nativeSchema="dbo" nativeTableName="VascularType">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"VascularType"."VascularTypePK" "VascularTypePK"
	,"VascularType"."VascularCode" "VascularCode"
	,"VascularType"."Description" "Description"
from "dbo"."VascularType" "VascularType"
]]></text>
      </command>
      <command id="VascularTypePKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="VascularTypePK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="VascularTypePK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Vascular Type PK" readOnly="true" />
      <field name="VascularCode" type="String" allowNulls="false" default="('')" label="Vascular Code" length="10" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" default="('')" label="Description" length="50" showInSummary="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vascular Type">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="VascularCode" columns="10" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vascular Type" tags="material-icon-mode-edit&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="Vascular Type">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="VascularCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vascular Type" tags="material-icon-note-add&#xD;&#xA;modal-fit-content &#xD;&#xA;modal-max-xs ">
        <headerText />
        <categories>
          <category id="c1" headerText="New Vascular Type">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="VascularCode" columns="10" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwBloodTestChart" conflictDetection="overwriteChanges" label="Vw Blood Test Chart" nativeSchema="dbo" nativeTableName="vwBloodTestChart">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwBloodTestChart"."Name" "Name"
	,"vwBloodTestChart"."NoNRIC" "NoNric"
	,"vwBloodTestChart"."dateTest" "DateTest"
	,"vwBloodTestChart"."PatientBTDetailPK" "PatientBtdetailPK"
	,"vwBloodTestChart"."PatientBTDetailFK" "PatientBtdetailFK"
	,"vwBloodTestChart"."Detected" "Detected"
	,"vwBloodTestChart"."Comment" "Comment"
	,"vwBloodTestChart"."aHemoglobin" "AHemoglobin"
	,"vwBloodTestChart"."aRBC" "ARbc"
	,"vwBloodTestChart"."aMCV" "AMcv"
	,"vwBloodTestChart"."aMCH" "AMch"
	,"vwBloodTestChart"."aPlatelet" "APlatelet"
	,"vwBloodTestChart"."aWBC" "AWbc"
	,"vwBloodTestChart"."bUreaPre" "BUreaPre"
	,"vwBloodTestChart"."bUreaPost" "BUreaPost"
	,"vwBloodTestChart"."bCreatininePre" "BCreatininePre"
	,"vwBloodTestChart"."bCreatininePost" "BCreatininePost"
	,"vwBloodTestChart"."bPhosphate" "BPhosphate"
	,"vwBloodTestChart"."bUricAcid" "BUricAcid"
	,"vwBloodTestChart"."bCalcium" "BCalcium"
	,"vwBloodTestChart"."bCorrectedCalcium" "BCorrectedCalcium"
	,"vwBloodTestChart"."bSodium" "BSodium"
	,"vwBloodTestChart"."bPotassium" "BPotassium"
	,"vwBloodTestChart"."bChloride" "BChloride"
	,"vwBloodTestChart"."cTotalProtein" "CTotalProtein"
	,"vwBloodTestChart"."cAlbumin" "CAlbumin"
	,"vwBloodTestChart"."cTotalBilirubin" "CTotalBilirubin"
	,"vwBloodTestChart"."cALP" "CAlp"
	,"vwBloodTestChart"."cSgot" "CSgot"
	,"vwBloodTestChart"."cSgpt" "CSgpt"
	,"vwBloodTestChart"."dTotalCholesterole" "DTotalCholesterole"
	,"vwBloodTestChart"."dHDL" "DHdl"
	,"vwBloodTestChart"."dLDL" "DLdl"
	,"vwBloodTestChart"."dTriglycerides" "DTriglycerides"
	,"vwBloodTestChart"."eGlucose" "EGlucose"
	,"vwBloodTestChart"."eHba" "EHba"
	,"vwBloodTestChart"."fSerumIron" "FSerumIron"
	,"vwBloodTestChart"."fTIBC" "FTibc"
	,"vwBloodTestChart"."fPercTransferin" "FPercTransferin"
	,"vwBloodTestChart"."fFerritin" "FFerritin"
	,"vwBloodTestChart"."fPTH" "FPth"
	,"vwBloodTestChart"."gHepatitisBAntigen" "GHepatitisBantigen"
	,"vwBloodTestChart"."gHepatitisBAntibody" "GHepatitisBantibody"
	,"vwBloodTestChart"."gHepatitisC" "GHepatitisC"
	,"vwBloodTestChart"."gHIV" "GHiv"
	,"vwBloodTestChart"."hURR" "HUrr"
	,"vwBloodTestChart"."hKTV" "HKtv"
from "dbo"."vwBloodTestChart" "vwBloodTestChart"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="DateTest" type="String" label="date Test" readOnly="true" length="30" showInSummary="true" />
      <field name="PatientBtdetailPK" type="Int32" allowNulls="false" label="Patient BT Detail PK" showInSummary="true" />
      <field name="PatientBtdetailFK" type="Int32" label="Patient BT Detail FK" showInSummary="true" />
      <field name="Detected" type="Boolean" label="Detected" />
      <field name="Comment" type="String" label="Comment" length="100" />
      <field name="AHemoglobin" type="Decimal" label="Hemoglobin" />
      <field name="ARbc" type="Decimal" label="RBC" />
      <field name="AMcv" type="Int32" label="MCV" />
      <field name="AMch" type="Int32" label="MCH" />
      <field name="APlatelet" type="Int32" label="Platelet" />
      <field name="AWbc" type="String" label="WBC" length="10" />
      <field name="BUreaPre" type="Decimal" label="Urea Pre" />
      <field name="BUreaPost" type="Decimal" label="Urea Post" />
      <field name="BCreatininePre" type="Decimal" label="Creatinine Pre" />
      <field name="BCreatininePost" type="Decimal" label="Creatinine Post" />
      <field name="BPhosphate" type="Decimal" label="Phosphate" />
      <field name="BUricAcid" type="Decimal" label="Uric Acid" />
      <field name="BCalcium" type="Decimal" label="Calcium" />
      <field name="BCorrectedCalcium" type="Decimal" label="Corrected Calcium" />
      <field name="BSodium" type="Int32" label="Sodium" />
      <field name="BPotassium" type="Decimal" label="Potassium" />
      <field name="BChloride" type="Int32" label="Chloride" />
      <field name="CTotalProtein" type="Decimal" label="Total Protein" />
      <field name="CAlbumin" type="Int32" label="Albumin" />
      <field name="CTotalBilirubin" type="Int32" label="Total Bilirubin" />
      <field name="CAlp" type="Int32" label="ALP" />
      <field name="CSgot" type="Int32" label="Sgot" />
      <field name="CSgpt" type="Int32" label="Sgpt" />
      <field name="DTotalCholesterole" type="Decimal" label="Total Cholesterole" />
      <field name="DHdl" type="Decimal" label="HDL" />
      <field name="DLdl" type="Decimal" label="LDL" />
      <field name="DTriglycerides" type="Decimal" label="Triglycerides" />
      <field name="EGlucose" type="Decimal" label="Glucose" />
      <field name="EHba" type="Decimal" label="Hba" />
      <field name="FSerumIron" type="String" label="Serum Iron" length="100" />
      <field name="FTibc" type="Int32" label="TIBC" />
      <field name="FPercTransferin" type="Int32" label="Perc Transferin" />
      <field name="FFerritin" type="Int32" label="Ferritin" />
      <field name="FPth" type="Int32" label="PTH" />
      <field name="GHepatitisBantigen" type="String" label="Hepatitis B Antigen" length="50" />
      <field name="GHepatitisBantibody" type="String" label="Hepatitis B Antibody" length="50" />
      <field name="GHepatitisC" type="String" label="Hepatitis C" length="50" />
      <field name="GHiv" type="String" label="HIV" length="50" />
      <field name="HUrr" type="Decimal" allowNulls="false" label="URR" />
      <field name="HKtv" type="Decimal" label="KTV" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Blood Test Chart">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="DateTest" columns="30" />
          <dataField fieldName="PatientBtdetailPK" columns="15" />
          <dataField fieldName="PatientBtdetailFK" columns="15" />
          <dataField fieldName="Detected" />
          <dataField fieldName="Comment" />
          <dataField fieldName="AHemoglobin" columns="15" />
          <dataField fieldName="ARbc" columns="15" />
          <dataField fieldName="AMcv" columns="15" />
          <dataField fieldName="AMch" columns="15" />
          <dataField fieldName="APlatelet" columns="15" />
          <dataField fieldName="AWbc" columns="10" />
          <dataField fieldName="BUreaPre" columns="15" />
          <dataField fieldName="BUreaPost" columns="15" />
          <dataField fieldName="BCreatininePre" columns="15" />
          <dataField fieldName="BCreatininePost" columns="15" />
          <dataField fieldName="BPhosphate" columns="15" />
          <dataField fieldName="BUricAcid" columns="15" />
          <dataField fieldName="BCalcium" columns="15" />
          <dataField fieldName="BCorrectedCalcium" columns="15" />
          <dataField fieldName="BSodium" columns="15" />
          <dataField fieldName="BPotassium" columns="15" />
          <dataField fieldName="BChloride" columns="15" />
          <dataField fieldName="CTotalProtein" columns="15" />
          <dataField fieldName="CAlbumin" columns="15" />
          <dataField fieldName="CTotalBilirubin" columns="15" />
          <dataField fieldName="CAlp" columns="15" />
          <dataField fieldName="CSgot" columns="15" />
          <dataField fieldName="CSgpt" columns="15" />
          <dataField fieldName="DTotalCholesterole" columns="15" />
          <dataField fieldName="DHdl" columns="15" />
          <dataField fieldName="DLdl" columns="15" />
          <dataField fieldName="DTriglycerides" columns="15" />
          <dataField fieldName="EGlucose" columns="15" />
          <dataField fieldName="EHba" columns="15" />
          <dataField fieldName="FSerumIron" />
          <dataField fieldName="FTibc" columns="15" />
          <dataField fieldName="FPercTransferin" columns="15" />
          <dataField fieldName="FFerritin" columns="15" />
          <dataField fieldName="FPth" columns="15" />
          <dataField fieldName="GHepatitisBantigen" columns="50" />
          <dataField fieldName="GHepatitisBantibody" columns="50" />
          <dataField fieldName="GHepatitisC" columns="50" />
          <dataField fieldName="GHiv" columns="50" />
          <dataField fieldName="HUrr" columns="15" />
          <dataField fieldName="HKtv" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Blood Test Chart">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Blood Test Chart">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DateTest" columns="30" />
              <dataField fieldName="PatientBtdetailPK" columns="15" />
              <dataField fieldName="PatientBtdetailFK" columns="15" />
              <dataField fieldName="Detected" />
              <dataField fieldName="Comment" />
              <dataField fieldName="AHemoglobin" columns="15" />
              <dataField fieldName="ARbc" columns="15" />
              <dataField fieldName="AMcv" columns="15" />
              <dataField fieldName="AMch" columns="15" />
              <dataField fieldName="APlatelet" columns="15" />
              <dataField fieldName="AWbc" columns="10" />
              <dataField fieldName="BUreaPre" columns="15" />
              <dataField fieldName="BUreaPost" columns="15" />
              <dataField fieldName="BCreatininePre" columns="15" />
              <dataField fieldName="BCreatininePost" columns="15" />
              <dataField fieldName="BPhosphate" columns="15" />
              <dataField fieldName="BUricAcid" columns="15" />
              <dataField fieldName="BCalcium" columns="15" />
              <dataField fieldName="BCorrectedCalcium" columns="15" />
              <dataField fieldName="BSodium" columns="15" />
              <dataField fieldName="BPotassium" columns="15" />
              <dataField fieldName="BChloride" columns="15" />
              <dataField fieldName="CTotalProtein" columns="15" />
              <dataField fieldName="CAlbumin" columns="15" />
              <dataField fieldName="CTotalBilirubin" columns="15" />
              <dataField fieldName="CAlp" columns="15" />
              <dataField fieldName="CSgot" columns="15" />
              <dataField fieldName="CSgpt" columns="15" />
              <dataField fieldName="DTotalCholesterole" columns="15" />
              <dataField fieldName="DHdl" columns="15" />
              <dataField fieldName="DLdl" columns="15" />
              <dataField fieldName="DTriglycerides" columns="15" />
              <dataField fieldName="EGlucose" columns="15" />
              <dataField fieldName="EHba" columns="15" />
              <dataField fieldName="FSerumIron" />
              <dataField fieldName="FTibc" columns="15" />
              <dataField fieldName="FPercTransferin" columns="15" />
              <dataField fieldName="FFerritin" columns="15" />
              <dataField fieldName="FPth" columns="15" />
              <dataField fieldName="GHepatitisBantigen" columns="50" />
              <dataField fieldName="GHepatitisBantibody" columns="50" />
              <dataField fieldName="GHepatitisC" columns="50" />
              <dataField fieldName="GHiv" columns="50" />
              <dataField fieldName="HUrr" columns="15" />
              <dataField fieldName="HKtv" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Blood Test Chart">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Blood Test Chart">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DateTest" columns="30" />
              <dataField fieldName="PatientBtdetailPK" columns="15" />
              <dataField fieldName="PatientBtdetailFK" columns="15" />
              <dataField fieldName="Detected" />
              <dataField fieldName="Comment" />
              <dataField fieldName="AHemoglobin" columns="15" />
              <dataField fieldName="ARbc" columns="15" />
              <dataField fieldName="AMcv" columns="15" />
              <dataField fieldName="AMch" columns="15" />
              <dataField fieldName="APlatelet" columns="15" />
              <dataField fieldName="AWbc" columns="10" />
              <dataField fieldName="BUreaPre" columns="15" />
              <dataField fieldName="BUreaPost" columns="15" />
              <dataField fieldName="BCreatininePre" columns="15" />
              <dataField fieldName="BCreatininePost" columns="15" />
              <dataField fieldName="BPhosphate" columns="15" />
              <dataField fieldName="BUricAcid" columns="15" />
              <dataField fieldName="BCalcium" columns="15" />
              <dataField fieldName="BCorrectedCalcium" columns="15" />
              <dataField fieldName="BSodium" columns="15" />
              <dataField fieldName="BPotassium" columns="15" />
              <dataField fieldName="BChloride" columns="15" />
              <dataField fieldName="CTotalProtein" columns="15" />
              <dataField fieldName="CAlbumin" columns="15" />
              <dataField fieldName="CTotalBilirubin" columns="15" />
              <dataField fieldName="CAlp" columns="15" />
              <dataField fieldName="CSgot" columns="15" />
              <dataField fieldName="CSgpt" columns="15" />
              <dataField fieldName="DTotalCholesterole" columns="15" />
              <dataField fieldName="DHdl" columns="15" />
              <dataField fieldName="DLdl" columns="15" />
              <dataField fieldName="DTriglycerides" columns="15" />
              <dataField fieldName="EGlucose" columns="15" />
              <dataField fieldName="EHba" columns="15" />
              <dataField fieldName="FSerumIron" />
              <dataField fieldName="FTibc" columns="15" />
              <dataField fieldName="FPercTransferin" columns="15" />
              <dataField fieldName="FFerritin" columns="15" />
              <dataField fieldName="FPth" columns="15" />
              <dataField fieldName="GHepatitisBantigen" columns="50" />
              <dataField fieldName="GHepatitisBantibody" columns="50" />
              <dataField fieldName="GHepatitisC" columns="50" />
              <dataField fieldName="GHiv" columns="50" />
              <dataField fieldName="HUrr" columns="15" />
              <dataField fieldName="HKtv" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="BloodTestChart" commandId="command1" type="Grid" label="Blood Test Chart" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwBloodTestDr" conflictDetection="overwriteChanges" label="Vw Blood Test Dr" nativeSchema="dbo" nativeTableName="vwBloodTestDr">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwBloodTestDr"."Name" "Name"
	,"vwBloodTestDr"."NoNRIC" "NoNric"
	,"vwBloodTestDr"."PreBP" "PreBp"
	,"vwBloodTestDr"."PostBP" "PostBp"
	,"vwBloodTestDr"."IDWG" "Idwg"
	,"vwBloodTestDr"."PreWeight" "PreWeight"
	,"vwBloodTestDr"."TDW" "Tdw"
	,"vwBloodTestDr"."PatientBloodTest" "PatientBloodTest"
	,"vwBloodTestDr"."DateTest" "DateTest"
	,"vwBloodTestDr"."Patient_FK" "PatientFK"
	,"vwBloodTestDr"."TreatmentFK" "TreatmentFK"
	,"vwBloodTestDr"."BloodTestTypeFK" "BloodTestTypeFK"
	,"vwBloodTestDr"."bHb" "BHb"
	,"vwBloodTestDr"."bFerritin" "BFerritin"
	,"vwBloodTestDr"."bTsat" "BTsat"
	,"vwBloodTestDr"."bEsa" "BEsa"
	,"vwBloodTestDr"."cCalcium" "CCalcium"
	,"vwBloodTestDr"."cPhosphate" "CPhosphate"
	,"vwBloodTestDr"."cALP" "CAlp"
	,"vwBloodTestDr"."cIpth" "CIpth"
	,"vwBloodTestDr"."dAlbumin" "DAlbumin"
	,"vwBloodTestDr"."dPreCreat" "DPreCreat"
	,"vwBloodTestDr"."dTCholesterol" "DTcholesterol"
	,"vwBloodTestDr"."dRbs" "DRbs"
	,"vwBloodTestDr"."eHbsAntigen" "EHbsAntigen"
	,"vwBloodTestDr"."eHcv" "EHcv"
	,"vwBloodTestDr"."eHiv" "EHiv"
	,"vwBloodTestDr"."eHbsAntibody" "EHbsAntibody"
	,"vwBloodTestDr"."eAlt" "EAlt"
	,"vwBloodTestDr"."eVascular" "EVascular"
	,"vwBloodTestDr"."eQb" "EQb"
	,"vwBloodTestDr"."eUrr" "EUrr"
	,"vwBloodTestDr"."fFeFumarate" "FFeFumarate"
	,"vwBloodTestDr"."fBcomplex" "FBcomplex"
	,"vwBloodTestDr"."fFolate" "FFolate"
	,"vwBloodTestDr"."fVitC" "FVitC"
	,"vwBloodTestDr"."fCaco3" "FCaco3"
	,"vwBloodTestDr"."fCalcitriol" "FCalcitriol"
	,"vwBloodTestDr"."fRanitidine" "FRanitidine"
	,"vwBloodTestDr"."fSimvastatin" "FSimvastatin"
	,"vwBloodTestDr"."fMixtard" "FMixtard"
	,"vwBloodTestDr"."gFrequency" "GFrequency"
	,"vwBloodTestDr"."gQb" "GQb"
	,"vwBloodTestDr"."gQd" "GQd"
	,"vwBloodTestDr"."gDuration" "GDuration"
	,"vwBloodTestDr"."gDialyser" "GDialyser"
	,"vwBloodTestDr"."gDialysate" "GDialysate"
	,"vwBloodTestDr"."gHeparinLoad" "GHeparinLoad"
	,"vwBloodTestDr"."gHeparinMaintain" "GHeparinMaintain"
	,"vwBloodTestDr"."gDryWeight" "GDryWeight"
	,"vwBloodTestDr"."hPlan" "HPlan"
	,"vwBloodTestDr"."Sponsor" "Sponsor"
	,"vwBloodTestDr"."LastAdmission" "LastAdmission"
	,"vwBloodTestDr"."LastTransfusion" "LastTransfusion"
from "dbo"."vwBloodTestDr" "vwBloodTestDr"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="PreBp" type="String" label="Pre BP" length="20" showInSummary="true" />
      <field name="PostBp" type="String" label="Post BP" length="20" showInSummary="true" />
      <field name="Idwg" type="Decimal" label="Idwg" showInSummary="true" />
      <field name="PreWeight" type="Decimal" label="Pre Weight" />
      <field name="Tdw" type="Decimal" allowNulls="false" label="Tdw" />
      <field name="PatientBloodTest" type="Int32" allowNulls="false" label="Patient Blood Test" />
      <field name="DateTest" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Test" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" />
      <field name="TreatmentFK" type="Int32" allowNulls="false" label="Treatment FK" />
      <field name="BloodTestTypeFK" type="Int32" allowNulls="false" label="Blood Test Type FK" />
      <field name="BHb" type="Decimal" allowNulls="false" label="b Hb" />
      <field name="BFerritin" type="Int32" allowNulls="false" label="b Ferritin" />
      <field name="BTsat" type="Decimal" allowNulls="false" label="b Tsat" />
      <field name="BEsa" type="Decimal" allowNulls="false" label="b Esa" />
      <field name="CCalcium" type="Decimal" allowNulls="false" label="c Calcium" />
      <field name="CPhosphate" type="Decimal" allowNulls="false" label="c Phosphate" />
      <field name="CAlp" type="Decimal" allowNulls="false" label="c ALP" />
      <field name="CIpth" type="Decimal" allowNulls="false" label="c Ipth" />
      <field name="DAlbumin" type="Decimal" allowNulls="false" label="d Albumin" />
      <field name="DPreCreat" type="Decimal" allowNulls="false" label="d Pre Creat" />
      <field name="DTcholesterol" type="Decimal" allowNulls="false" label="d T Cholesterol" />
      <field name="DRbs" type="Decimal" allowNulls="false" label="d Rbs" />
      <field name="EHbsAntigen" type="Decimal" allowNulls="false" label="e Hbs Antigen" />
      <field name="EHcv" type="Decimal" allowNulls="false" label="e Hcv" />
      <field name="EHiv" type="Decimal" allowNulls="false" label="e Hiv" />
      <field name="EHbsAntibody" type="Decimal" allowNulls="false" label="e Hbs Antibody" />
      <field name="EAlt" type="Decimal" allowNulls="false" label="e Alt" />
      <field name="EVascular" type="Decimal" allowNulls="false" label="e Vascular" />
      <field name="EQb" type="Decimal" allowNulls="false" label="e Qb" />
      <field name="EUrr" type="Decimal" allowNulls="false" label="e Urr" />
      <field name="FFeFumarate" type="String" allowNulls="false" label="f Fe Fumarate" length="50" />
      <field name="FBcomplex" type="String" allowNulls="false" label="f Bcomplex" length="50" />
      <field name="FFolate" type="String" allowNulls="false" label="f Folate" length="50" />
      <field name="FVitC" type="String" allowNulls="false" label="f Vit C" length="50" />
      <field name="FCaco3" type="String" allowNulls="false" label="f Caco3" length="50" />
      <field name="FCalcitriol" type="String" allowNulls="false" label="f Calcitriol" length="50" />
      <field name="FRanitidine" type="String" allowNulls="false" label="f Ranitidine" length="50" />
      <field name="FSimvastatin" type="String" allowNulls="false" label="f Simvastatin" length="50" />
      <field name="FMixtard" type="String" allowNulls="false" label="f Mixtard" length="50" />
      <field name="GFrequency" type="String" allowNulls="false" label="g Frequency" length="50" />
      <field name="GQb" type="String" allowNulls="false" label="g Qb" length="50" />
      <field name="GQd" type="String" allowNulls="false" label="g Qd" length="50" />
      <field name="GDuration" type="String" allowNulls="false" label="g Duration" length="50" />
      <field name="GDialyser" type="String" allowNulls="false" label="g Dialyser" length="50" />
      <field name="GDialysate" type="String" allowNulls="false" label="g Dialysate" length="50" />
      <field name="GHeparinLoad" type="String" allowNulls="false" label="g Heparin Load" length="50" />
      <field name="GHeparinMaintain" type="String" allowNulls="false" label="g Heparin Maintain" length="50" />
      <field name="GDryWeight" type="String" allowNulls="false" label="g Dry Weight" length="50" />
      <field name="HPlan" type="String" allowNulls="false" label="h Plan" length="50" />
      <field name="Sponsor" type="String" label="Sponsor" readOnly="true" length="30" />
      <field name="LastAdmission" type="String" label="Last Admission" readOnly="true" length="30" />
      <field name="LastTransfusion" type="String" label="Last Transfusion" readOnly="true" length="30" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Blood Test Dr">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="PreBp" columns="20" />
          <dataField fieldName="PostBp" columns="20" />
          <dataField fieldName="Idwg" columns="15" />
          <dataField fieldName="PreWeight" columns="15" />
          <dataField fieldName="Tdw" columns="15" />
          <dataField fieldName="PatientBloodTest" columns="15" />
          <dataField fieldName="DateTest" columns="20" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="BloodTestTypeFK" columns="15" />
          <dataField fieldName="BHb" columns="15" />
          <dataField fieldName="BFerritin" columns="15" />
          <dataField fieldName="BTsat" columns="15" />
          <dataField fieldName="BEsa" columns="15" />
          <dataField fieldName="CCalcium" columns="15" />
          <dataField fieldName="CPhosphate" columns="15" />
          <dataField fieldName="CAlp" columns="15" />
          <dataField fieldName="CIpth" columns="15" />
          <dataField fieldName="DAlbumin" columns="15" />
          <dataField fieldName="DPreCreat" columns="15" />
          <dataField fieldName="DTcholesterol" columns="15" />
          <dataField fieldName="DRbs" columns="15" />
          <dataField fieldName="EHbsAntigen" columns="15" />
          <dataField fieldName="EHcv" columns="15" />
          <dataField fieldName="EHiv" columns="15" />
          <dataField fieldName="EHbsAntibody" columns="15" />
          <dataField fieldName="EAlt" columns="15" />
          <dataField fieldName="EVascular" columns="15" />
          <dataField fieldName="EQb" columns="15" />
          <dataField fieldName="EUrr" columns="15" />
          <dataField fieldName="FFeFumarate" columns="50" />
          <dataField fieldName="FBcomplex" columns="50" />
          <dataField fieldName="FFolate" columns="50" />
          <dataField fieldName="FVitC" columns="50" />
          <dataField fieldName="FCaco3" columns="50" />
          <dataField fieldName="FCalcitriol" columns="50" />
          <dataField fieldName="FRanitidine" columns="50" />
          <dataField fieldName="FSimvastatin" columns="50" />
          <dataField fieldName="FMixtard" columns="50" />
          <dataField fieldName="GFrequency" columns="50" />
          <dataField fieldName="GQb" columns="50" />
          <dataField fieldName="GQd" columns="50" />
          <dataField fieldName="GDuration" columns="50" />
          <dataField fieldName="GDialyser" columns="50" />
          <dataField fieldName="GDialysate" columns="50" />
          <dataField fieldName="GHeparinLoad" columns="50" />
          <dataField fieldName="GHeparinMaintain" columns="50" />
          <dataField fieldName="GDryWeight" columns="50" />
          <dataField fieldName="HPlan" columns="50" />
          <dataField fieldName="Sponsor" columns="30" />
          <dataField fieldName="LastAdmission" columns="30" />
          <dataField fieldName="LastTransfusion" columns="30" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Blood Test Dr">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Blood Test Dr">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="PreWeight" columns="15" />
              <dataField fieldName="Tdw" columns="15" />
              <dataField fieldName="PatientBloodTest" columns="15" />
              <dataField fieldName="DateTest" columns="20" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="BloodTestTypeFK" columns="15" />
              <dataField fieldName="BHb" columns="15" />
              <dataField fieldName="BFerritin" columns="15" />
              <dataField fieldName="BTsat" columns="15" />
              <dataField fieldName="BEsa" columns="15" />
              <dataField fieldName="CCalcium" columns="15" />
              <dataField fieldName="CPhosphate" columns="15" />
              <dataField fieldName="CAlp" columns="15" />
              <dataField fieldName="CIpth" columns="15" />
              <dataField fieldName="DAlbumin" columns="15" />
              <dataField fieldName="DPreCreat" columns="15" />
              <dataField fieldName="DTcholesterol" columns="15" />
              <dataField fieldName="DRbs" columns="15" />
              <dataField fieldName="EHbsAntigen" columns="15" />
              <dataField fieldName="EHcv" columns="15" />
              <dataField fieldName="EHiv" columns="15" />
              <dataField fieldName="EHbsAntibody" columns="15" />
              <dataField fieldName="EAlt" columns="15" />
              <dataField fieldName="EVascular" columns="15" />
              <dataField fieldName="EQb" columns="15" />
              <dataField fieldName="EUrr" columns="15" />
              <dataField fieldName="FFeFumarate" columns="50" />
              <dataField fieldName="FBcomplex" columns="50" />
              <dataField fieldName="FFolate" columns="50" />
              <dataField fieldName="FVitC" columns="50" />
              <dataField fieldName="FCaco3" columns="50" />
              <dataField fieldName="FCalcitriol" columns="50" />
              <dataField fieldName="FRanitidine" columns="50" />
              <dataField fieldName="FSimvastatin" columns="50" />
              <dataField fieldName="FMixtard" columns="50" />
              <dataField fieldName="GFrequency" columns="50" />
              <dataField fieldName="GQb" columns="50" />
              <dataField fieldName="GQd" columns="50" />
              <dataField fieldName="GDuration" columns="50" />
              <dataField fieldName="GDialyser" columns="50" />
              <dataField fieldName="GDialysate" columns="50" />
              <dataField fieldName="GHeparinLoad" columns="50" />
              <dataField fieldName="GHeparinMaintain" columns="50" />
              <dataField fieldName="GDryWeight" columns="50" />
              <dataField fieldName="HPlan" columns="50" />
              <dataField fieldName="Sponsor" columns="30" />
              <dataField fieldName="LastAdmission" columns="30" />
              <dataField fieldName="LastTransfusion" columns="30" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Blood Test Dr">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Blood Test Dr">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="PreWeight" columns="15" />
              <dataField fieldName="Tdw" columns="15" />
              <dataField fieldName="PatientBloodTest" columns="15" />
              <dataField fieldName="DateTest" columns="20" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="BloodTestTypeFK" columns="15" />
              <dataField fieldName="BHb" columns="15" />
              <dataField fieldName="BFerritin" columns="15" />
              <dataField fieldName="BTsat" columns="15" />
              <dataField fieldName="BEsa" columns="15" />
              <dataField fieldName="CCalcium" columns="15" />
              <dataField fieldName="CPhosphate" columns="15" />
              <dataField fieldName="CAlp" columns="15" />
              <dataField fieldName="CIpth" columns="15" />
              <dataField fieldName="DAlbumin" columns="15" />
              <dataField fieldName="DPreCreat" columns="15" />
              <dataField fieldName="DTcholesterol" columns="15" />
              <dataField fieldName="DRbs" columns="15" />
              <dataField fieldName="EHbsAntigen" columns="15" />
              <dataField fieldName="EHcv" columns="15" />
              <dataField fieldName="EHiv" columns="15" />
              <dataField fieldName="EHbsAntibody" columns="15" />
              <dataField fieldName="EAlt" columns="15" />
              <dataField fieldName="EVascular" columns="15" />
              <dataField fieldName="EQb" columns="15" />
              <dataField fieldName="EUrr" columns="15" />
              <dataField fieldName="FFeFumarate" columns="50" />
              <dataField fieldName="FBcomplex" columns="50" />
              <dataField fieldName="FFolate" columns="50" />
              <dataField fieldName="FVitC" columns="50" />
              <dataField fieldName="FCaco3" columns="50" />
              <dataField fieldName="FCalcitriol" columns="50" />
              <dataField fieldName="FRanitidine" columns="50" />
              <dataField fieldName="FSimvastatin" columns="50" />
              <dataField fieldName="FMixtard" columns="50" />
              <dataField fieldName="GFrequency" columns="50" />
              <dataField fieldName="GQb" columns="50" />
              <dataField fieldName="GQd" columns="50" />
              <dataField fieldName="GDuration" columns="50" />
              <dataField fieldName="GDialyser" columns="50" />
              <dataField fieldName="GDialysate" columns="50" />
              <dataField fieldName="GHeparinLoad" columns="50" />
              <dataField fieldName="GHeparinMaintain" columns="50" />
              <dataField fieldName="GDryWeight" columns="50" />
              <dataField fieldName="HPlan" columns="50" />
              <dataField fieldName="Sponsor" columns="30" />
              <dataField fieldName="LastAdmission" columns="30" />
              <dataField fieldName="LastTransfusion" columns="30" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="BloodTestDrPrint" commandId="command1" type="Grid" label="BloodTestDrPrint" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwBloodTestDrRpt" conflictDetection="overwriteChanges" label="Vw Blood Test Dr Rpt" nativeSchema="dbo" nativeTableName="vwBloodTestDrRpt">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwBloodTestDrRpt"."Name" "Name"
	,"vwBloodTestDrRpt"."NoNRIC" "NoNric"
	,"vwBloodTestDrRpt"."PatientBloodTestPk" "PatientBloodTestPK"
	,"vwBloodTestDrRpt"."DateTest" "DateTest"
	,"vwBloodTestDrRpt"."LastDateTest" "LastDateTest"
	,"vwBloodTestDrRpt"."ActiveSponsor" "ActiveSponsor"
	,"vwBloodTestDrRpt"."Patient_FK" "PatientFK"
	,"vwBloodTestDrRpt"."TreatmentFK" "TreatmentFK"
	,"vwBloodTestDrRpt"."BloodTestTypeFK" "BloodTestTypeFK"
	,"vwBloodTestDrRpt"."TypeTest" "TypeTest"
	,"vwBloodTestDrRpt"."PatientBTDetailPK" "PatientBtdetailPK"
	,"vwBloodTestDrRpt"."PatientBTDetailFK" "PatientBtdetailFK"
	,"vwBloodTestDrRpt"."Detected" "Detected"
	,"vwBloodTestDrRpt"."Comment" "Comment"
	,"vwBloodTestDrRpt"."aHemoglobin" "AHemoglobin"
	,"vwBloodTestDrRpt"."aRBC" "ARbc"
	,"vwBloodTestDrRpt"."aMCV" "AMcv"
	,"vwBloodTestDrRpt"."aMCH" "AMch"
	,"vwBloodTestDrRpt"."aPlatelet" "APlatelet"
	,"vwBloodTestDrRpt"."aWBC" "AWbc"
	,"vwBloodTestDrRpt"."bUreaPre" "BUreaPre"
	,"vwBloodTestDrRpt"."bUreaPost" "BUreaPost"
	,"vwBloodTestDrRpt"."bCreatininePre" "BCreatininePre"
	,"vwBloodTestDrRpt"."bCreatininePost" "BCreatininePost"
	,"vwBloodTestDrRpt"."bPhosphate" "BPhosphate"
	,"vwBloodTestDrRpt"."bUricAcid" "BUricAcid"
	,"vwBloodTestDrRpt"."bCalcium" "BCalcium"
	,"vwBloodTestDrRpt"."bCorrectedCalcium" "BCorrectedCalcium"
	,"vwBloodTestDrRpt"."bSodium" "BSodium"
	,"vwBloodTestDrRpt"."bPotassium" "BPotassium"
	,"vwBloodTestDrRpt"."bChloride" "BChloride"
	,"vwBloodTestDrRpt"."cTotalProtein" "CTotalProtein"
	,"vwBloodTestDrRpt"."cAlbumin" "CAlbumin"
	,"vwBloodTestDrRpt"."cTotalBilirubin" "CTotalBilirubin"
	,"vwBloodTestDrRpt"."cALP" "CAlp"
	,"vwBloodTestDrRpt"."cSgot" "CSgot"
	,"vwBloodTestDrRpt"."cSgpt" "CSgpt"
	,"vwBloodTestDrRpt"."dTotalCholesterole" "DTotalCholesterole"
	,"vwBloodTestDrRpt"."dHDL" "DHdl"
	,"vwBloodTestDrRpt"."dLDL" "DLdl"
	,"vwBloodTestDrRpt"."dTriglycerides" "DTriglycerides"
	,"vwBloodTestDrRpt"."eGlucose" "EGlucose"
	,"vwBloodTestDrRpt"."eHba" "EHba"
	,"vwBloodTestDrRpt"."fSerumIron" "FSerumIron"
	,"vwBloodTestDrRpt"."fTIBC" "FTibc"
	,"vwBloodTestDrRpt"."fPercTransferin" "FPercTransferin"
	,"vwBloodTestDrRpt"."fFerritin" "FFerritin"
	,"vwBloodTestDrRpt"."fPTH" "FPth"
	,"vwBloodTestDrRpt"."gHepatitisBAntigen" "GHepatitisBantigen"
	,"vwBloodTestDrRpt"."gHepatitisBAntibody" "GHepatitisBantibody"
	,"vwBloodTestDrRpt"."gHepatitisC" "GHepatitisC"
	,"vwBloodTestDrRpt"."gHIV" "GHiv"
	,"vwBloodTestDrRpt"."hURR" "HUrr"
	,"vwBloodTestDrRpt"."hKTV" "HKtv"
from "dbo"."vwBloodTestDrRpt" "vwBloodTestDrRpt"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="PatientBloodTestPK" type="Int32" allowNulls="false" label="Patient Blood Test Pk" showInSummary="true" />
      <field name="DateTest" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Test" showInSummary="true" />
      <field name="LastDateTest" type="DateTime" label="Last Date Test" readOnly="true" showInSummary="true" />
      <field name="ActiveSponsor" type="String" label="Active Sponsor" readOnly="true" length="250" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" />
      <field name="TreatmentFK" type="Int32" allowNulls="false" label="Treatment FK" />
      <field name="BloodTestTypeFK" type="Int32" allowNulls="false" label="Blood Test Type FK" />
      <field name="TypeTest" type="String" allowNulls="false" label="Type Test" length="50" />
      <field name="PatientBtdetailPK" type="Int32" allowNulls="false" label="Patient BT Detail PK" />
      <field name="PatientBtdetailFK" type="Int32" label="Patient BT Detail FK" />
      <field name="Detected" type="Boolean" label="Detected" />
      <field name="Comment" type="String" label="Comment" length="100" />
      <field name="AHemoglobin" type="Decimal" label="a Hemoglobin" />
      <field name="ARbc" type="Decimal" label="a RBC" />
      <field name="AMcv" type="Int32" label="a MCV" />
      <field name="AMch" type="Int32" label="a MCH" />
      <field name="APlatelet" type="Int32" label="a Platelet" />
      <field name="AWbc" type="String" label="a WBC" length="10" />
      <field name="BUreaPre" type="Decimal" label="b Urea Pre" />
      <field name="BUreaPost" type="Decimal" label="b Urea Post" />
      <field name="BCreatininePre" type="Decimal" label="b Creatinine Pre" />
      <field name="BCreatininePost" type="Decimal" label="b Creatinine Post" />
      <field name="BPhosphate" type="Decimal" label="b Phosphate" />
      <field name="BUricAcid" type="Decimal" label="b Uric Acid" />
      <field name="BCalcium" type="Decimal" label="b Calcium" />
      <field name="BCorrectedCalcium" type="Decimal" label="b Corrected Calcium" />
      <field name="BSodium" type="Int32" label="b Sodium" />
      <field name="BPotassium" type="Decimal" label="b Potassium" />
      <field name="BChloride" type="Int32" label="b Chloride" />
      <field name="CTotalProtein" type="Decimal" label="c Total Protein" />
      <field name="CAlbumin" type="Int32" label="c Albumin" />
      <field name="CTotalBilirubin" type="Int32" label="c Total Bilirubin" />
      <field name="CAlp" type="Int32" label="c ALP" />
      <field name="CSgot" type="Int32" label="c Sgot" />
      <field name="CSgpt" type="Int32" label="c Sgpt" />
      <field name="DTotalCholesterole" type="Decimal" label="d Total Cholesterole" />
      <field name="DHdl" type="Decimal" label="d HDL" />
      <field name="DLdl" type="Decimal" label="d LDL" />
      <field name="DTriglycerides" type="Decimal" label="d Triglycerides" />
      <field name="EGlucose" type="Decimal" label="e Glucose" />
      <field name="EHba" type="Decimal" label="e Hba" />
      <field name="FSerumIron" type="String" label="f Serum Iron" length="100" />
      <field name="FTibc" type="Int32" label="f TIBC" />
      <field name="FPercTransferin" type="Int32" label="f Perc Transferin" />
      <field name="FFerritin" type="Int32" label="f Ferritin" />
      <field name="FPth" type="Int32" label="f PTH" />
      <field name="GHepatitisBantigen" type="String" label="g Hepatitis B Antigen" length="50" />
      <field name="GHepatitisBantibody" type="String" label="g Hepatitis B Antibody" length="50" />
      <field name="GHepatitisC" type="String" label="g Hepatitis C" length="50" />
      <field name="GHiv" type="String" label="g HIV" length="50" />
      <field name="HUrr" type="Int32" label="h URR" />
      <field name="HKtv" type="Decimal" label="h KTV" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Blood Test Dr Rpt">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="PatientBloodTestPK" columns="15" />
          <dataField fieldName="DateTest" columns="20" />
          <dataField fieldName="LastDateTest" columns="10" />
          <dataField fieldName="ActiveSponsor" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="BloodTestTypeFK" columns="15" />
          <dataField fieldName="TypeTest" columns="50" />
          <dataField fieldName="PatientBtdetailPK" columns="15" />
          <dataField fieldName="PatientBtdetailFK" columns="15" />
          <dataField fieldName="Detected" />
          <dataField fieldName="Comment" />
          <dataField fieldName="AHemoglobin" columns="15" />
          <dataField fieldName="ARbc" columns="15" />
          <dataField fieldName="AMcv" columns="15" />
          <dataField fieldName="AMch" columns="15" />
          <dataField fieldName="APlatelet" columns="15" />
          <dataField fieldName="AWbc" columns="10" />
          <dataField fieldName="BUreaPre" columns="15" />
          <dataField fieldName="BUreaPost" columns="15" />
          <dataField fieldName="BCreatininePre" columns="15" />
          <dataField fieldName="BCreatininePost" columns="15" />
          <dataField fieldName="BPhosphate" columns="15" />
          <dataField fieldName="BUricAcid" columns="15" />
          <dataField fieldName="BCalcium" columns="15" />
          <dataField fieldName="BCorrectedCalcium" columns="15" />
          <dataField fieldName="BSodium" columns="15" />
          <dataField fieldName="BPotassium" columns="15" />
          <dataField fieldName="BChloride" columns="15" />
          <dataField fieldName="CTotalProtein" columns="15" />
          <dataField fieldName="CAlbumin" columns="15" />
          <dataField fieldName="CTotalBilirubin" columns="15" />
          <dataField fieldName="CAlp" columns="15" />
          <dataField fieldName="CSgot" columns="15" />
          <dataField fieldName="CSgpt" columns="15" />
          <dataField fieldName="DTotalCholesterole" columns="15" />
          <dataField fieldName="DHdl" columns="15" />
          <dataField fieldName="DLdl" columns="15" />
          <dataField fieldName="DTriglycerides" columns="15" />
          <dataField fieldName="EGlucose" columns="15" />
          <dataField fieldName="EHba" columns="15" />
          <dataField fieldName="FSerumIron" />
          <dataField fieldName="FTibc" columns="15" />
          <dataField fieldName="FPercTransferin" columns="15" />
          <dataField fieldName="FFerritin" columns="15" />
          <dataField fieldName="FPth" columns="15" />
          <dataField fieldName="GHepatitisBantigen" columns="50" />
          <dataField fieldName="GHepatitisBantibody" columns="50" />
          <dataField fieldName="GHepatitisC" columns="50" />
          <dataField fieldName="GHiv" columns="50" />
          <dataField fieldName="HUrr" columns="15" />
          <dataField fieldName="HKtv" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Blood Test Dr Rpt">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Blood Test Dr Rpt">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="PatientBloodTestPK" columns="15" />
              <dataField fieldName="DateTest" columns="20" />
              <dataField fieldName="LastDateTest" columns="10" />
              <dataField fieldName="ActiveSponsor" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="BloodTestTypeFK" columns="15" />
              <dataField fieldName="TypeTest" columns="50" />
              <dataField fieldName="PatientBtdetailPK" columns="15" />
              <dataField fieldName="PatientBtdetailFK" columns="15" />
              <dataField fieldName="Detected" />
              <dataField fieldName="Comment" />
              <dataField fieldName="AHemoglobin" columns="15" />
              <dataField fieldName="ARbc" columns="15" />
              <dataField fieldName="AMcv" columns="15" />
              <dataField fieldName="AMch" columns="15" />
              <dataField fieldName="APlatelet" columns="15" />
              <dataField fieldName="AWbc" columns="10" />
              <dataField fieldName="BUreaPre" columns="15" />
              <dataField fieldName="BUreaPost" columns="15" />
              <dataField fieldName="BCreatininePre" columns="15" />
              <dataField fieldName="BCreatininePost" columns="15" />
              <dataField fieldName="BPhosphate" columns="15" />
              <dataField fieldName="BUricAcid" columns="15" />
              <dataField fieldName="BCalcium" columns="15" />
              <dataField fieldName="BCorrectedCalcium" columns="15" />
              <dataField fieldName="BSodium" columns="15" />
              <dataField fieldName="BPotassium" columns="15" />
              <dataField fieldName="BChloride" columns="15" />
              <dataField fieldName="CTotalProtein" columns="15" />
              <dataField fieldName="CAlbumin" columns="15" />
              <dataField fieldName="CTotalBilirubin" columns="15" />
              <dataField fieldName="CAlp" columns="15" />
              <dataField fieldName="CSgot" columns="15" />
              <dataField fieldName="CSgpt" columns="15" />
              <dataField fieldName="DTotalCholesterole" columns="15" />
              <dataField fieldName="DHdl" columns="15" />
              <dataField fieldName="DLdl" columns="15" />
              <dataField fieldName="DTriglycerides" columns="15" />
              <dataField fieldName="EGlucose" columns="15" />
              <dataField fieldName="EHba" columns="15" />
              <dataField fieldName="FSerumIron" />
              <dataField fieldName="FTibc" columns="15" />
              <dataField fieldName="FPercTransferin" columns="15" />
              <dataField fieldName="FFerritin" columns="15" />
              <dataField fieldName="FPth" columns="15" />
              <dataField fieldName="GHepatitisBantigen" columns="50" />
              <dataField fieldName="GHepatitisBantibody" columns="50" />
              <dataField fieldName="GHepatitisC" columns="50" />
              <dataField fieldName="GHiv" columns="50" />
              <dataField fieldName="HUrr" columns="15" />
              <dataField fieldName="HKtv" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Blood Test Dr Rpt">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Blood Test Dr Rpt">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="PatientBloodTestPK" columns="15" />
              <dataField fieldName="DateTest" columns="20" />
              <dataField fieldName="LastDateTest" columns="10" />
              <dataField fieldName="ActiveSponsor" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="BloodTestTypeFK" columns="15" />
              <dataField fieldName="TypeTest" columns="50" />
              <dataField fieldName="PatientBtdetailPK" columns="15" />
              <dataField fieldName="PatientBtdetailFK" columns="15" />
              <dataField fieldName="Detected" />
              <dataField fieldName="Comment" />
              <dataField fieldName="AHemoglobin" columns="15" />
              <dataField fieldName="ARbc" columns="15" />
              <dataField fieldName="AMcv" columns="15" />
              <dataField fieldName="AMch" columns="15" />
              <dataField fieldName="APlatelet" columns="15" />
              <dataField fieldName="AWbc" columns="10" />
              <dataField fieldName="BUreaPre" columns="15" />
              <dataField fieldName="BUreaPost" columns="15" />
              <dataField fieldName="BCreatininePre" columns="15" />
              <dataField fieldName="BCreatininePost" columns="15" />
              <dataField fieldName="BPhosphate" columns="15" />
              <dataField fieldName="BUricAcid" columns="15" />
              <dataField fieldName="BCalcium" columns="15" />
              <dataField fieldName="BCorrectedCalcium" columns="15" />
              <dataField fieldName="BSodium" columns="15" />
              <dataField fieldName="BPotassium" columns="15" />
              <dataField fieldName="BChloride" columns="15" />
              <dataField fieldName="CTotalProtein" columns="15" />
              <dataField fieldName="CAlbumin" columns="15" />
              <dataField fieldName="CTotalBilirubin" columns="15" />
              <dataField fieldName="CAlp" columns="15" />
              <dataField fieldName="CSgot" columns="15" />
              <dataField fieldName="CSgpt" columns="15" />
              <dataField fieldName="DTotalCholesterole" columns="15" />
              <dataField fieldName="DHdl" columns="15" />
              <dataField fieldName="DLdl" columns="15" />
              <dataField fieldName="DTriglycerides" columns="15" />
              <dataField fieldName="EGlucose" columns="15" />
              <dataField fieldName="EHba" columns="15" />
              <dataField fieldName="FSerumIron" />
              <dataField fieldName="FTibc" columns="15" />
              <dataField fieldName="FPercTransferin" columns="15" />
              <dataField fieldName="FFerritin" columns="15" />
              <dataField fieldName="FPth" columns="15" />
              <dataField fieldName="GHepatitisBantigen" columns="50" />
              <dataField fieldName="GHepatitisBantibody" columns="50" />
              <dataField fieldName="GHepatitisC" columns="50" />
              <dataField fieldName="GHiv" columns="50" />
              <dataField fieldName="HUrr" columns="15" />
              <dataField fieldName="HKtv" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="BloodTestDrRpt" commandId="command1" type="Grid" label="BloodTestDrRpt" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwInvoicePrint" conflictDetection="overwriteChanges" label="Vw Invoice Print" nativeSchema="dbo" nativeTableName="vwInvoicePrint">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwInvoicePrint"."InvoicePK" "InvoicePK"
	,"vwInvoicePrint"."SponsorFK" "SponsorFK"
	,"vwInvoicePrint"."InvoiceNo" "InvoiceNo"
	,"vwInvoicePrint"."NoReference" "NoReference"
	,"vwInvoicePrint"."DateInvoice" "DateInvoice"
	,"vwInvoicePrint"."TreatmentFrom" "TreatmentFrom"
	,"vwInvoicePrint"."TreatmentTo" "TreatmentTo"
	,"vwInvoicePrint"."InvDescription" "InvDescription"
	,"vwInvoicePrint"."Amount" "Amount"
	,"vwInvoicePrint"."TreatmentFK" "TreatmentFK"
	,"vwInvoicePrint"."SponsorPK" "SponsorPK"
	,"vwInvoicePrint"."SponsorName" "SponsorName"
	,"vwInvoicePrint"."ContactName" "ContactName"
	,"vwInvoicePrint"."DateTreatment" "DateTreatment"
	,"vwInvoicePrint"."patientName" "PatientName"
	,"vwInvoicePrint"."yTotalApproveAmount" "yTotalApproveAmount"
	,"vwInvoicePrint"."AddressFull" "AddressFull"
from "dbo"."vwInvoicePrint" "vwInvoicePrint"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="InvoicePK" type="Int32" allowNulls="false" label="Invoice PK" showInSummary="true" />
      <field name="SponsorFK" type="Int32" label="Sponsor FK" showInSummary="true" />
      <field name="InvoiceNo" type="String" allowNulls="false" label="Invoice No" length="20" showInSummary="true" />
      <field name="NoReference" type="String" allowNulls="false" label="No Reference" length="20" showInSummary="true" />
      <field name="DateInvoice" type="String" label="Date Invoice" readOnly="true" length="30" showInSummary="true" />
      <field name="TreatmentFrom" type="String" label="Treatment From" readOnly="true" length="30" />
      <field name="TreatmentTo" type="String" label="Treatment To" readOnly="true" length="30" />
      <field name="InvDescription" type="String" label="Inv Description" readOnly="true" length="250" />
      <field name="Amount" type="Decimal" dataFormatString="c" label="Amount" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" />
      <field name="SponsorPK" type="Int32" label="Sponsor PK" />
      <field name="SponsorName" type="String" label="Sponsor Name" readOnly="true" length="100" />
      <field name="ContactName" type="String" label="Contact Name" readOnly="true" length="100" />
      <field name="DateTreatment" type="String" dataFormatString="g" label="Date Treatment" readOnly="true" length="30" />
      <field name="PatientName" type="String" label="patient Name" readOnly="true" length="100" />
      <field name="yTotalApproveAmount" type="Decimal" dataFormatString="c" label="y Total Approve Amount" readOnly="true" />
      <field name="AddressFull" type="String" label="Address Full" readOnly="true" length="221" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Invoice Print">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="InvoicePK" columns="15" />
          <dataField fieldName="SponsorFK" columns="15" />
          <dataField fieldName="InvoiceNo" columns="20" />
          <dataField fieldName="NoReference" columns="20" />
          <dataField fieldName="DateInvoice" columns="30" />
          <dataField fieldName="TreatmentFrom" columns="30" />
          <dataField fieldName="TreatmentTo" columns="30" />
          <dataField fieldName="InvDescription" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="SponsorPK" columns="15" />
          <dataField fieldName="SponsorName" />
          <dataField fieldName="ContactName" />
          <dataField fieldName="DateTreatment" columns="30" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="yTotalApproveAmount" columns="15" />
          <dataField fieldName="AddressFull" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Invoice Print">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Invoice Print">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="InvoicePK" columns="15" />
              <dataField fieldName="SponsorFK" columns="15" />
              <dataField fieldName="InvoiceNo" columns="20" />
              <dataField fieldName="NoReference" columns="20" />
              <dataField fieldName="DateInvoice" columns="30" />
              <dataField fieldName="TreatmentFrom" columns="30" />
              <dataField fieldName="TreatmentTo" columns="30" />
              <dataField fieldName="InvDescription" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="SponsorPK" columns="15" />
              <dataField fieldName="SponsorName" />
              <dataField fieldName="ContactName" />
              <dataField fieldName="DateTreatment" columns="30" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="yTotalApproveAmount" columns="15" />
              <dataField fieldName="AddressFull" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Invoice Print">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Invoice Print">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="InvoicePK" columns="15" />
              <dataField fieldName="SponsorFK" columns="15" />
              <dataField fieldName="InvoiceNo" columns="20" />
              <dataField fieldName="NoReference" columns="20" />
              <dataField fieldName="DateInvoice" columns="30" />
              <dataField fieldName="TreatmentFrom" columns="30" />
              <dataField fieldName="TreatmentTo" columns="30" />
              <dataField fieldName="InvDescription" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="SponsorPK" columns="15" />
              <dataField fieldName="SponsorName" />
              <dataField fieldName="ContactName" />
              <dataField fieldName="DateTreatment" columns="30" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="yTotalApproveAmount" columns="15" />
              <dataField fieldName="AddressFull" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="InvoicePrint" commandId="command1" type="Grid" label="Invoice Print" showInSelector="false" reportTemplate="true">
        <dataFields>
          <dataField fieldName="InvoicePK" columns="15" />
          <dataField fieldName="SponsorFK" columns="15" />
          <dataField fieldName="InvoiceNo" columns="20" />
          <dataField fieldName="NoReference" columns="20" />
          <dataField fieldName="DateInvoice" columns="30" />
          <dataField fieldName="TreatmentFrom" columns="30" />
          <dataField fieldName="TreatmentTo" columns="30" />
          <dataField fieldName="InvDescription" rows="5" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="SponsorPK" columns="15" />
          <dataField fieldName="SponsorName" rows="5" />
          <dataField fieldName="ContactName" rows="5" />
          <dataField fieldName="DateTreatment" columns="30" />
          <dataField fieldName="PatientName" rows="5" />
          <dataField fieldName="yTotalApproveAmount" columns="15" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwInvoicePrintSummary" conflictDetection="overwriteChanges" label="Vw Invoice Print Summary" nativeSchema="dbo" nativeTableName="vwInvoicePrintSummary">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwInvoicePrintSummary"."InvoicePK" "InvoicePK"
	,"vwInvoicePrintSummary"."SponsorFK" "SponsorFK"
	,"vwInvoicePrintSummary"."InvoiceNo" "InvoiceNo"
	,"vwInvoicePrintSummary"."NoReference" "NoReference"
	,"vwInvoicePrintSummary"."DateInvoice" "DateInvoice"
	,"vwInvoicePrintSummary"."TreatmentFrom" "TreatmentFrom"
	,"vwInvoicePrintSummary"."TreatmentTo" "TreatmentTo"
	,"vwInvoicePrintSummary"."yTotalApproveAmount" "YTotalApproveAmount"
	,"vwInvoicePrintSummary"."InvoiceStatus" "InvoiceStatus"
	,"vwInvoicePrintSummary"."SponsorName" "SponsorName"
	,"vwInvoicePrintSummary"."ContactName" "ContactName"
	,"vwInvoicePrintSummary"."patientName" "PatientName"
	,"vwInvoicePrintSummary"."NoNRIC" "NoNric"
	,"vwInvoicePrintSummary"."AddressFull" "AddressFull"
	,"vwInvoicePrintSummary"."DialysisQuantity" "DialysisQuantity"
	,"vwInvoicePrintSummary"."MaxAmountPerTreat" "MaxAmountPerTreat"
	,"vwInvoicePrintSummary"."EpoQuantity" "EpoQuantity"
	,"vwInvoicePrintSummary"."MaxAmountPerEPO" "MaxAmountPerEpo"
	,"vwInvoicePrintSummary"."TotalAmount" "TotalAmount"
from "dbo"."vwInvoicePrintSummary" "vwInvoicePrintSummary"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="InvoicePK" type="Int32" allowNulls="false" label="Invoice PK" showInSummary="true" />
      <field name="SponsorFK" type="Int32" label="Sponsor FK" showInSummary="true" />
      <field name="InvoiceNo" type="String" allowNulls="false" label="Invoice No" length="20" showInSummary="true" />
      <field name="NoReference" type="String" allowNulls="false" label="No Reference" length="20" showInSummary="true" />
      <field name="DateInvoice" type="String" label="Date Invoice" readOnly="true" length="30" showInSummary="true" />
      <field name="TreatmentFrom" type="String" label="Treatment From" readOnly="true" length="30" />
      <field name="TreatmentTo" type="String" label="Treatment To" readOnly="true" length="30" />
      <field name="YTotalApproveAmount" type="Decimal" allowNulls="false" dataFormatString="c" label="y Total Approve Amount" />
      <field name="InvoiceStatus" type="String" allowNulls="false" label="Invoice Status" length="1" />
      <field name="SponsorName" type="String" label="Sponsor Name" readOnly="true" length="100" />
      <field name="ContactName" type="String" label="Contact Name" readOnly="true" length="100" />
      <field name="PatientName" type="String" label="patient Name" readOnly="true" length="100" />
      <field name="NoNric" type="String" label="No NRIC" length="15" />
      <field name="AddressFull" type="String" label="Address Full" readOnly="true" length="221" />
      <field name="DialysisQuantity" type="Int32" allowNulls="false" label="Dialysis Quantity" />
      <field name="MaxAmountPerTreat" type="Decimal" dataFormatString="c" label="Max Amount Per Treat" />
      <field name="EpoQuantity" type="Int32" allowNulls="false" label="Epo Quantity" />
      <field name="MaxAmountPerEpo" type="Decimal" dataFormatString="c" label="Max Amount Per EPO" />
      <field name="TotalAmount" type="Decimal" allowNulls="false" dataFormatString="c" label="Total Amount" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Invoice Print Summary">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="InvoicePK" columns="15" />
          <dataField fieldName="SponsorFK" columns="15" />
          <dataField fieldName="InvoiceNo" columns="20" />
          <dataField fieldName="NoReference" columns="20" />
          <dataField fieldName="DateInvoice" columns="30" />
          <dataField fieldName="TreatmentFrom" columns="30" />
          <dataField fieldName="TreatmentTo" columns="30" />
          <dataField fieldName="YTotalApproveAmount" columns="15" />
          <dataField fieldName="InvoiceStatus" columns="1" />
          <dataField fieldName="SponsorName" />
          <dataField fieldName="ContactName" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="AddressFull" />
          <dataField fieldName="DialysisQuantity" columns="15" />
          <dataField fieldName="MaxAmountPerTreat" columns="15" />
          <dataField fieldName="EpoQuantity" columns="15" />
          <dataField fieldName="MaxAmountPerEpo" columns="15" />
          <dataField fieldName="TotalAmount" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Invoice Print Summary">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Invoice Print Summary">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="InvoicePK" columns="15" />
              <dataField fieldName="SponsorFK" columns="15" />
              <dataField fieldName="InvoiceNo" columns="20" />
              <dataField fieldName="NoReference" columns="20" />
              <dataField fieldName="DateInvoice" columns="30" />
              <dataField fieldName="TreatmentFrom" columns="30" />
              <dataField fieldName="TreatmentTo" columns="30" />
              <dataField fieldName="YTotalApproveAmount" columns="15" />
              <dataField fieldName="InvoiceStatus" columns="1" />
              <dataField fieldName="SponsorName" />
              <dataField fieldName="ContactName" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="AddressFull" />
              <dataField fieldName="DialysisQuantity" columns="15" />
              <dataField fieldName="MaxAmountPerTreat" columns="15" />
              <dataField fieldName="EpoQuantity" columns="15" />
              <dataField fieldName="MaxAmountPerEpo" columns="15" />
              <dataField fieldName="TotalAmount" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Invoice Print Summary">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Invoice Print Summary">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="InvoicePK" columns="15" />
              <dataField fieldName="SponsorFK" columns="15" />
              <dataField fieldName="InvoiceNo" columns="20" />
              <dataField fieldName="NoReference" columns="20" />
              <dataField fieldName="DateInvoice" columns="30" />
              <dataField fieldName="TreatmentFrom" columns="30" />
              <dataField fieldName="TreatmentTo" columns="30" />
              <dataField fieldName="YTotalApproveAmount" columns="15" />
              <dataField fieldName="InvoiceStatus" columns="1" />
              <dataField fieldName="SponsorName" />
              <dataField fieldName="ContactName" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="AddressFull" />
              <dataField fieldName="DialysisQuantity" columns="15" />
              <dataField fieldName="MaxAmountPerTreat" columns="15" />
              <dataField fieldName="EpoQuantity" columns="15" />
              <dataField fieldName="MaxAmountPerEpo" columns="15" />
              <dataField fieldName="TotalAmount" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="InvoiceSummaryPrint" commandId="command1" type="Grid" label="InvoiceSummaryPrint" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwInvoicePrintSummaryByPatient" conflictDetection="overwriteChanges" label="Vw Invoice Print Summary By Patient" nativeSchema="dbo" nativeTableName="vwInvoicePrintSummaryByPatient">
    <commands>
      <command id="command1" type="Text" custom="false">
        <text>select
	"vwInvoicePrintSummaryByPatient"."InvoiceDsPk" "InvoiceDsPK"
	,"vwInvoicePrintSummaryByPatient"."InvoiceFK" "InvoiceFK"
	,"vwInvoicePrintSummaryByPatient"."PatientFK" "PatientFK"
	,"vwInvoicePrintSummaryByPatient"."DialysisQuantity" "DialysisQuantity"
	,"vwInvoicePrintSummaryByPatient"."EpoQuantity" "EpoQuantity"
	,"vwInvoicePrintSummaryByPatient"."TotalAmount" "TotalAmount"
	,"vwInvoicePrintSummaryByPatient"."PatientName" "PatientName"
	,"vwInvoicePrintSummaryByPatient"."NoNRIC" "NoNric"
	,"vwInvoicePrintSummaryByPatient"."SponsorFK" "SponsorFK"
	,"vwInvoicePrintSummaryByPatient"."sponsorName" "SponsorName"
	,"vwInvoicePrintSummaryByPatient"."TreatmentFK" "TreatmentFK"
	,"vwInvoicePrintSummaryByPatient"."DateTreatm1" "DateTreatm1"
	,"vwInvoicePrintSummaryByPatient"."DateTreatm2" "DateTreatm2"
	,"vwInvoicePrintSummaryByPatient"."DateTreatment" "DateTreatment"
	,"vwInvoicePrintSummaryByPatient"."DialysisAmt" "DialysisAmt"
	,"vwInvoicePrintSummaryByPatient"."EPOAmt" "Epoamt"
	,"vwInvoicePrintSummaryByPatient"."Period" "Period"
from "dbo"."vwInvoicePrintSummaryByPatient" "vwInvoicePrintSummaryByPatient"
</text>
      </command>
    </commands>
    <fields>
      <field name="InvoiceDsPK" type="Int32" allowNulls="false" label="Invoice Ds Pk" showInSummary="true" />
      <field name="InvoiceFK" type="Int32" allowNulls="false" label="Invoice FK" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true" />
      <field name="DialysisQuantity" type="Int32" allowNulls="false" label="Dialysis Quantity" showInSummary="true" />
      <field name="EpoQuantity" type="Int32" allowNulls="false" label="Epo Quantity" showInSummary="true" />
      <field name="TotalAmount" type="Decimal" allowNulls="false" dataFormatString="c" label="Total Amount" />
      <field name="PatientName" type="String" allowNulls="false" label="Patient Name" length="100" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" />
      <field name="SponsorFK" type="Int32" label="Sponsor FK" />
      <field name="SponsorName" type="String" allowNulls="false" label="sponsor Name" length="100" />
      <field name="TreatmentFK" type="Int32" allowNulls="false" label="Treatment FK" />
      <field name="DateTreatm1" type="String" dataFormatString="g" label="Date Treatm1" readOnly="true" length="30" />
      <field name="DateTreatm2" type="String" dataFormatString="g" label="Date Treatm2" readOnly="true" length="30" />
      <field name="DateTreatment" type="String" label="Date Treatment" readOnly="true" length="30" />
      <field name="DialysisAmt" type="Decimal" dataFormatString="c" label="Dialysis Amt" readOnly="true" />
      <field name="Epoamt" type="Decimal" dataFormatString="c" label="EPO Amt" readOnly="true" />
      <field name="Period" type="String" label="Period" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Invoice Print Summary By Patient">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="InvoiceDsPK" columns="15" />
          <dataField fieldName="InvoiceFK" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="DialysisQuantity" columns="15" />
          <dataField fieldName="EpoQuantity" columns="15" />
          <dataField fieldName="TotalAmount" columns="15" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="SponsorFK" columns="15" />
          <dataField fieldName="SponsorName" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="DateTreatm1" columns="30" />
          <dataField fieldName="DateTreatm2" columns="30" />
          <dataField fieldName="DateTreatment" columns="30" />
          <dataField fieldName="DialysisAmt" columns="15" />
          <dataField fieldName="Epoamt" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Invoice Print Summary By Patient">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Invoice Print Summary By Patient">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="InvoiceDsPK" columns="15" />
              <dataField fieldName="InvoiceFK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DialysisQuantity" columns="15" />
              <dataField fieldName="EpoQuantity" columns="15" />
              <dataField fieldName="TotalAmount" columns="15" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="SponsorFK" columns="15" />
              <dataField fieldName="SponsorName" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="DateTreatm1" columns="30" />
              <dataField fieldName="DateTreatm2" columns="30" />
              <dataField fieldName="DateTreatment" columns="30" />
              <dataField fieldName="DialysisAmt" columns="15" />
              <dataField fieldName="Epoamt" columns="15" />
              <dataField fieldName="Period" textMode="Text">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Invoice Print Summary By Patient">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Invoice Print Summary By Patient">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="InvoiceDsPK" columns="15" />
              <dataField fieldName="InvoiceFK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DialysisQuantity" columns="15" />
              <dataField fieldName="EpoQuantity" columns="15" />
              <dataField fieldName="TotalAmount" columns="15" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="SponsorFK" columns="15" />
              <dataField fieldName="SponsorName" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="DateTreatm1" columns="30" />
              <dataField fieldName="DateTreatm2" columns="30" />
              <dataField fieldName="DateTreatment" columns="30" />
              <dataField fieldName="DialysisAmt" columns="15" />
              <dataField fieldName="Epoamt" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="reportSummaryByPatient" commandId="command1" type="Grid" label="Report Summary By Patient" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwPatientActive" conflictDetection="overwriteChanges" label="Vw Patient Active" nativeSchema="dbo" nativeTableName="vwPatientActive">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwPatientActive"."PatientPK" "PatientPK"
	,"vwPatientActive"."Name" "Name"
	,"vwPatientActive"."NoNRIC" "NoNric"
	,"vwPatientActive"."DateJoined" "DateJoined"
	,"vwPatientActive"."DateCeased" "DateCeased"
	,"vwPatientActive"."sponsor" "Sponsor"
	,"vwPatientActive"."yearCeased" "YearCeased"
	,"vwPatientActive"."monthCeased" "MonthCeased"
from "dbo"."vwPatientActive" "vwPatientActive"
]]></text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text><![CDATA[select @@identity]]></text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields>
      <field name="PatientPK" type="Int32" allowNulls="false" label="Patient PK" readOnly="true" showInSummary="true" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Ceased" readOnly="true" showInSummary="true" />
      <field name="Sponsor" type="String" label="Sponsor" readOnly="true" length="250" />
      <field name="YearCeased" type="Int32" label="Year Ceased" readOnly="true" />
      <field name="MonthCeased" type="Int32" label="Month Ceased" readOnly="true" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Patient Active" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientPK" columns="15" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="DateJoined" columns="20" />
          <dataField fieldName="DateCeased" columns="20" />
          <dataField fieldName="Sponsor" />
          <dataField fieldName="YearCeased" columns="15" />
          <dataField fieldName="MonthCeased" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Patient Active">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Patient Active">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientPK" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="Sponsor" />
              <dataField fieldName="YearCeased" columns="15" />
              <dataField fieldName="MonthCeased" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Patient Active">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Patient Active">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientPK" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="Sponsor" />
              <dataField fieldName="YearCeased" columns="15" />
              <dataField fieldName="MonthCeased" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwPatientTeminate" conflictDetection="overwriteChanges" label="Vw Patient Teminate" nativeSchema="dbo" nativeTableName="vwPatientTeminate">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwPatientTeminate"."PatientPK" "PatientPK"
	,"vwPatientTeminate"."Name" "Name"
	,"vwPatientTeminate"."NoNRIC" "NoNric"
	,"vwPatientTeminate"."DateJoined" "DateJoined"
	,"vwPatientTeminate"."DateCeased" "DateCeased"
	,"vwPatientTeminate"."Reason" "Reason"
	,"vwPatientTeminate"."monthCeased" "MonthCeased"
	,"vwPatientTeminate"."yearCeased" "YearCeased"
	,"vwPatientTeminate"."SponsorName" "SponsorName"
from "dbo"."vwPatientTeminate" "vwPatientTeminate"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="PatientPK" type="Int32" allowNulls="false" label="Patient PK" showInSummary="true" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" dataFormatString="g" label="Date Ceased" showInSummary="true" />
      <field name="Reason" type="String" allowNulls="false" label="Reason" readOnly="true" length="50" />
      <field name="MonthCeased" type="Int32" label="Month Ceased" readOnly="true" />
      <field name="YearCeased" type="Int32" label="Year Ceased" readOnly="true" />
      <field name="SponsorName" type="String" allowNulls="false" label="Sponsor Name" readOnly="true" length="100" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Report Terminate" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="PatientPK" columns="15" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="DateJoined" columns="20" />
          <dataField fieldName="DateCeased" columns="20" />
          <dataField fieldName="Reason" columns="50" />
          <dataField fieldName="MonthCeased" columns="15" />
          <dataField fieldName="YearCeased" columns="15" />
          <dataField fieldName="SponsorName" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Patient Teminate">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Patient Teminate">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PatientPK" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="Reason" columns="50" />
              <dataField fieldName="MonthCeased" columns="15" />
              <dataField fieldName="YearCeased" columns="15" />
              <dataField fieldName="SponsorName" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Patient Teminate">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Patient Teminate">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PatientPK" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="Reason" columns="50" />
              <dataField fieldName="MonthCeased" columns="15" />
              <dataField fieldName="YearCeased" columns="15" />
              <dataField fieldName="SponsorName" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwReceiptIndDebtPrint" conflictDetection="overwriteChanges" label="Vw Receipt Ind Debt Print" nativeSchema="dbo" nativeTableName="vwReceiptIndDebtPrint">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwReceiptIndDebtPrint"."DebtphPk" "DebtphPK"
	,"vwReceiptIndDebtPrint"."PatientFK" "PatientFK"
	,"vwReceiptIndDebtPrint"."DebtphStatus" "DebtphStatus"
	,"vwReceiptIndDebtPrint"."DebtphDate" "DebtphDate"
	,"vwReceiptIndDebtPrint"."UserCreated" "UserCreated"
	,"vwReceiptIndDebtPrint"."DateCreated" "DateCreated"
	,"vwReceiptIndDebtPrint"."UserModified" "UserModified"
	,"vwReceiptIndDebtPrint"."DateModified" "DateModified"
	,"vwReceiptIndDebtPrint"."DebtpPK" "DebtpPK"
	,"vwReceiptIndDebtPrint"."DateTransaction" "DateTransaction"
	,"vwReceiptIndDebtPrint"."ExpenseTypeFK" "ExpenseTypeFK"
	,"vwReceiptIndDebtPrint"."Amount" "Amount"
	,"vwReceiptIndDebtPrint"."Description" "Description"
	,"vwReceiptIndDebtPrint"."Name" "Name"
	,"vwReceiptIndDebtPrint"."NoNRIC" "NoNric"
from "dbo"."vwReceiptIndDebtPrint" "vwReceiptIndDebtPrint"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="DebtphPK" type="Int32" allowNulls="false" label="Debtph Pk" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true" />
      <field name="DebtphStatus" type="String" allowNulls="false" label="Debtph Status" length="1" showInSummary="true" />
      <field name="DebtphDate" type="DateTime" label="Debtph Date" showInSummary="true" />
      <field name="UserCreated" type="String" allowNulls="false" label="User Created" length="20" showInSummary="true" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="DebtpPK" type="Int32" allowNulls="false" label="Debtp PK" />
      <field name="DateTransaction" type="DateTime" label="Date Transaction" />
      <field name="ExpenseTypeFK" type="Int32" allowNulls="false" label="Expense Type FK" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="50" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Receipt Ind Debt Print">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="DebtphPK" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="DebtphStatus" columns="1" />
          <dataField fieldName="DebtphDate" columns="10" />
          <dataField fieldName="UserCreated" columns="20" />
          <dataField fieldName="DateCreated" columns="20" />
          <dataField fieldName="UserModified" columns="20" />
          <dataField fieldName="DateModified" columns="20" />
          <dataField fieldName="DebtpPK" columns="15" />
          <dataField fieldName="DateTransaction" columns="10" />
          <dataField fieldName="ExpenseTypeFK" columns="15" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="Description" columns="50" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Receipt Ind Debt Print">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Receipt Ind Debt Print">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="DebtphPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DebtphStatus" columns="1" />
              <dataField fieldName="DebtphDate" columns="10" />
              <dataField fieldName="UserCreated" columns="20" />
              <dataField fieldName="DateCreated" columns="20" />
              <dataField fieldName="UserModified" columns="20" />
              <dataField fieldName="DateModified" columns="20" />
              <dataField fieldName="DebtpPK" columns="15" />
              <dataField fieldName="DateTransaction" columns="10" />
              <dataField fieldName="ExpenseTypeFK" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Receipt Ind Debt Print">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Receipt Ind Debt Print">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="DebtphPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DebtphStatus" columns="1" />
              <dataField fieldName="DebtphDate" columns="10" />
              <dataField fieldName="UserCreated" columns="20" />
              <dataField fieldName="DateCreated" columns="20" />
              <dataField fieldName="UserModified" columns="20" />
              <dataField fieldName="DateModified" columns="20" />
              <dataField fieldName="DebtpPK" columns="15" />
              <dataField fieldName="DateTransaction" columns="10" />
              <dataField fieldName="ExpenseTypeFK" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="ReceiptIndDebtRpt" commandId="command1" type="Grid" label="ReceiptIndDebtRpt" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwReceiptIndPrint" conflictDetection="overwriteChanges" label="Vw Receipt Ind Print" nativeSchema="dbo" nativeTableName="vwReceiptIndPrint">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwReceiptIndPrint"."RecPayPk" "RecPayPK"
	,"vwReceiptIndPrint"."PatientFK" "PatientFK"
	,"vwReceiptIndPrint"."DatePayment" "DatePayment"
	,"vwReceiptIndPrint"."StatusPayment" "StatusPayment"
	,"vwReceiptIndPrint"."RecPaydPk" "RecPaydPK"
	,"vwReceiptIndPrint"."RecPayFk" "RecPayFK"
	,"vwReceiptIndPrint"."ExpensesFk" "ExpensesFK"
	,"vwReceiptIndPrint"."Name" "Name"
	,"vwReceiptIndPrint"."NoNRIC" "NoNric"
	,"vwReceiptIndPrint"."AddressFull" "AddressFull"
	,"vwReceiptIndPrint"."Description" "Description"
	,"vwReceiptIndPrint"."ExpenseAmount" "ExpenseAmount"
	,"vwReceiptIndPrint"."DateTreatment" "DateTreatment"
from "dbo"."vwReceiptIndPrint" "vwReceiptIndPrint"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="RecPayPK" type="Int32" allowNulls="false" label="Rec Pay Pk" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true" />
      <field name="DatePayment" type="DateTime" allowNulls="false" label="Date Payment" showInSummary="true" />
      <field name="StatusPayment" type="String" allowNulls="false" label="Status Payment" length="1" showInSummary="true" />
      <field name="RecPaydPK" type="Int32" allowNulls="false" label="Rec Payd Pk" showInSummary="true" />
      <field name="RecPayFK" type="Int32" allowNulls="false" label="Rec Pay Fk" />
      <field name="ExpensesFK" type="Int32" allowNulls="false" label="Expenses Fk" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" />
      <field name="AddressFull" type="String" label="Address Full" readOnly="true" length="323" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="50" />
      <field name="ExpenseAmount" type="Decimal" allowNulls="false" dataFormatString="c" label="Expense Amount" />
      <field name="DateTreatment" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Treatment" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Receipt Ind Print">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="RecPayPK" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="DatePayment" columns="10" />
          <dataField fieldName="StatusPayment" columns="1" />
          <dataField fieldName="RecPaydPK" columns="15" />
          <dataField fieldName="RecPayFK" columns="15" />
          <dataField fieldName="ExpensesFK" columns="15" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="AddressFull" />
          <dataField fieldName="Description" columns="50" />
          <dataField fieldName="ExpenseAmount" columns="15" />
          <dataField fieldName="DateTreatment" columns="20" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Receipt Ind Print">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Receipt Ind Print">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="RecPayPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="StatusPayment" columns="1" />
              <dataField fieldName="RecPaydPK" columns="15" />
              <dataField fieldName="RecPayFK" columns="15" />
              <dataField fieldName="ExpensesFK" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="AddressFull" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="DateTreatment" columns="20" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Receipt Ind Print">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Receipt Ind Print">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="RecPayPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="StatusPayment" columns="1" />
              <dataField fieldName="RecPaydPK" columns="15" />
              <dataField fieldName="RecPayFK" columns="15" />
              <dataField fieldName="ExpensesFK" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="AddressFull" />
              <dataField fieldName="Description" columns="50" />
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="DateTreatment" columns="20" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="ReceiptIndRpt" commandId="command1" type="Grid" label="ReceiptIndRpt" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwReceiptPaymentPh" conflictDetection="overwriteChanges" label="Vw Receipt Payment Ph" nativeSchema="dbo" nativeTableName="vwReceiptPaymentPH">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwReceiptPaymentPH"."PaymentPk" "PaymentPK"
	,"vwReceiptPaymentPH"."DatePayment" "DatePayment"
	,"vwReceiptPaymentPH"."NoReceipt" "NoReceipt"
	,"vwReceiptPaymentPH"."PatientFk" "PatientFK"
	,"vwReceiptPaymentPH"."Amount" "Amount"
	,"vwReceiptPaymentPH"."PaymentStatus" "PaymentStatus"
	,"vwReceiptPaymentPH"."PatientName" "PatientName"
	,"vwReceiptPaymentPH"."PatientIC" "PatientIc"
	,"vwReceiptPaymentPH"."PaymentdPk" "PaymentdPK"
	,"vwReceiptPaymentPH"."PaymentFk" "PaymentFK"
	,"vwReceiptPaymentPH"."ExpensesFk" "ExpensesFK"
	,"vwReceiptPaymentPH"."PayDetailAmount" "PayDetailAmount"
	,"vwReceiptPaymentPH"."DateTreatment" "DateTreatment"
	,"vwReceiptPaymentPH"."Description" "Description"
from "dbo"."vwReceiptPaymentPH" "vwReceiptPaymentPH"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="PaymentPK" type="Int32" allowNulls="false" label="Payment Pk" showInSummary="true" />
      <field name="DatePayment" type="DateTime" allowNulls="false" label="Date Payment" showInSummary="true" />
      <field name="NoReceipt" type="String" allowNulls="false" label="No Receipt" length="15" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient Fk" showInSummary="true" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" showInSummary="true" />
      <field name="PaymentStatus" type="String" allowNulls="false" label="Payment Status" length="1" />
      <field name="PatientName" type="String" allowNulls="false" label="Patient Name" length="100" />
      <field name="PatientIc" type="String" allowNulls="false" label="Patient IC" length="15" />
      <field name="PaymentdPK" type="Int32" allowNulls="false" label="Paymentd Pk" />
      <field name="PaymentFK" type="Int32" allowNulls="false" label="Payment Fk" />
      <field name="ExpensesFK" type="Int32" allowNulls="false" label="Expenses Fk" />
      <field name="PayDetailAmount" type="Decimal" allowNulls="false" dataFormatString="c" label="Pay Detail Amount" />
      <field name="DateTreatment" type="String" label="Date Treatment" readOnly="true" length="30" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Receipt Payment Ph">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="PaymentPK" columns="15" />
          <dataField fieldName="DatePayment" columns="10" />
          <dataField fieldName="NoReceipt" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="PaymentStatus" columns="1" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="PatientIc" columns="15" />
          <dataField fieldName="PaymentdPK" columns="15" />
          <dataField fieldName="PaymentFK" columns="15" />
          <dataField fieldName="ExpensesFK" columns="15" />
          <dataField fieldName="PayDetailAmount" columns="15" />
          <dataField fieldName="DateTreatment" columns="30" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Receipt Payment Ph">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Receipt Payment Ph">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="PaymentPK" columns="15" />
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="NoReceipt" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="PaymentStatus" columns="1" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="PatientIc" columns="15" />
              <dataField fieldName="PaymentdPK" columns="15" />
              <dataField fieldName="PaymentFK" columns="15" />
              <dataField fieldName="ExpensesFK" columns="15" />
              <dataField fieldName="PayDetailAmount" columns="15" />
              <dataField fieldName="DateTreatment" columns="30" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Receipt Payment Ph">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Receipt Payment Ph">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="PaymentPK" columns="15" />
              <dataField fieldName="DatePayment" columns="10" />
              <dataField fieldName="NoReceipt" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="PaymentStatus" columns="1" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="PatientIc" columns="15" />
              <dataField fieldName="PaymentdPK" columns="15" />
              <dataField fieldName="PaymentFK" columns="15" />
              <dataField fieldName="ExpensesFK" columns="15" />
              <dataField fieldName="PayDetailAmount" columns="15" />
              <dataField fieldName="DateTreatment" columns="30" />
              <dataField fieldName="Description" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="v100" type="Grid" commandId="command1" label="reportReceiptPaymentPH" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="PaymentPK" columns="15" />
          <dataField fieldName="DatePayment" columns="10" />
          <dataField fieldName="NoReceipt" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="PaymentStatus" columns="1" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="PatientIc" columns="15" />
          <dataField fieldName="PaymentdPK" columns="15" />
          <dataField fieldName="PaymentFK" columns="15" />
          <dataField fieldName="ExpensesFK" columns="15" />
          <dataField fieldName="PayDetailAmount" columns="15" />
          <dataField fieldName="DateTreatment" columns="30" />
          <dataField fieldName="Description" columns="50" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwRefundsReceipt" conflictDetection="overwriteChanges" label="Vw Refunds Receipt" nativeSchema="dbo" nativeTableName="vwRefundsReceipt">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwRefundsReceipt"."RefundPk" "RefundPK"
	,"vwRefundsReceipt"."PatientFk" "PatientFK"
	,"vwRefundsReceipt"."DateRefund" "DateRefund"
	,"vwRefundsReceipt"."Amount" "Amount"
	,"vwRefundsReceipt"."Description" "Description"
	,"vwRefundsReceipt"."NoReceipt" "NoReceipt"
	,"vwRefundsReceipt"."Name" "Name"
	,"vwRefundsReceipt"."NoNRIC" "NoNric"
from "dbo"."vwRefundsReceipt" "vwRefundsReceipt"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="RefundPK" type="Int32" allowNulls="false" label="Refund Pk" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient Fk" showInSummary="true" />
      <field name="DateRefund" type="String" label="Date Refund" readOnly="true" length="30" showInSummary="true" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" showInSummary="true" />
      <field name="Description" type="String" allowNulls="false" label="Description" length="200" showInSummary="true" />
      <field name="NoReceipt" type="String" allowNulls="false" label="No Receipt" length="15" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Refunds Receipt">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="RefundPK" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="DateRefund" columns="30" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="Description" />
          <dataField fieldName="NoReceipt" columns="15" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Refunds Receipt">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Refunds Receipt">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="RefundPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DateRefund" columns="30" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" />
              <dataField fieldName="NoReceipt" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Refunds Receipt">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Refunds Receipt">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="RefundPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="DateRefund" columns="30" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="Description" />
              <dataField fieldName="NoReceipt" columns="15" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="reportRefundReceipt" type="Grid" commandId="command1" label="efunds Receipt" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="RefundPK" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="DateRefund" columns="30" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="Description" />
          <dataField fieldName="NoReceipt" columns="15" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwRekodRawatanHaemod" conflictDetection="overwriteChanges" label="Vw Rekod Rawatan Haemod" nativeSchema="dbo" nativeTableName="vwRekodRawatanHaemod">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwRekodRawatanHaemod"."TreatmentHDPK" "TreatmentHdpk"
	,"vwRekodRawatanHaemod"."Time" "Time"
	,"vwRekodRawatanHaemod"."TreatmentFK" "TreatmentFK"
	,"vwRekodRawatanHaemod"."BP" "Bp"
	,"vwRekodRawatanHaemod"."Pulse" "Pulse"
	,"vwRekodRawatanHaemod"."VP" "Vp"
	,"vwRekodRawatanHaemod"."Temp" "Temp"
	,"vwRekodRawatanHaemod"."QB" "Qb"
	,"vwRekodRawatanHaemod"."HEP" "Hep"
	,"vwRekodRawatanHaemod"."BAKIUF" "Bakiuf"
	,"vwRekodRawatanHaemod"."DateTreatment" "DateTreatment"
	,"vwRekodRawatanHaemod"."DryWeight" "DryWeight"
	,"vwRekodRawatanHaemod"."MachineName" "MachineName"
	,"vwRekodRawatanHaemod"."PreBP" "PreBp"
	,"vwRekodRawatanHaemod"."PostBP" "PostBp"
	,"vwRekodRawatanHaemod"."DealyzerDesc" "DealyzerDesc"
	,"vwRekodRawatanHaemod"."PrePulse" "PrePulse"
	,"vwRekodRawatanHaemod"."PostPulse" "PostPulse"
	,"vwRekodRawatanHaemod"."PenggunaanDKe" "PenggunaanDke"
	,"vwRekodRawatanHaemod"."SODProf" "Sodprof"
	,"vwRekodRawatanHaemod"."PreTemp" "PreTemp"
	,"vwRekodRawatanHaemod"."PostTemp" "PostTemp"
	,"vwRekodRawatanHaemod"."SizeNeedle" "SizeNeedle"
	,"vwRekodRawatanHaemod"."UFProfile" "Ufprofile"
	,"vwRekodRawatanHaemod"."PreWeight" "PreWeight"
	,"vwRekodRawatanHaemod"."PostWeight" "PostWeight"
	,"vwRekodRawatanHaemod"."Dialystate" "Dialystate"
	,"vwRekodRawatanHaemod"."MachineTemp" "MachineTemp"
	,"vwRekodRawatanHaemod"."IDWG" "Idwg"
	,"vwRekodRawatanHaemod"."WeightLess" "WeightLess"
from "dbo"."vwRekodRawatanHaemod" "vwRekodRawatanHaemod"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="TreatmentHdpk" type="Int32" allowNulls="false" label="Treatment HDPK" showInSummary="true" />
      <field name="Time" type="String" allowNulls="false" label="Time" length="4" showInSummary="true" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" showInSummary="true" />
      <field name="Bp" type="String" allowNulls="false" label="Bp" length="20" showInSummary="true" />
      <field name="Pulse" type="Int32" allowNulls="false" label="Pulse" showInSummary="true" />
      <field name="Vp" type="Int32" allowNulls="false" label="Vp" />
      <field name="Temp" type="Decimal" allowNulls="false" label="Temp" />
      <field name="Qb" type="Int32" allowNulls="false" label="Qb" />
      <field name="Hep" type="Int32" allowNulls="false" label="Hep" />
      <field name="Bakiuf" type="Int32" allowNulls="false" label="Bakiuf" />
      <field name="DateTreatment" type="DateTime" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date Treatment" />
      <field name="DryWeight" type="Decimal" label="Dry Weight" />
      <field name="MachineName" type="String" allowNulls="false" label="Machine Name" length="50" />
      <field name="PreBp" type="String" label="Pre BP" length="20" />
      <field name="PostBp" type="String" label="Post BP" length="20" />
      <field name="DealyzerDesc" type="String" allowNulls="false" label="Dealyzer Desc" length="50" />
      <field name="PrePulse" type="Int32" label="Pre Pulse" />
      <field name="PostPulse" type="Int32" label="Post Pulse" />
      <field name="PenggunaanDke" type="Decimal" label="Penggunaan D Ke" />
      <field name="Sodprof" type="String" label="SOD Prof" length="20" />
      <field name="PreTemp" type="Decimal" label="Pre Temp" />
      <field name="PostTemp" type="Decimal" label="Post Temp" />
      <field name="SizeNeedle" type="Int32" label="Size Needle" />
      <field name="Ufprofile" type="String" label="UF Profile" length="20" />
      <field name="PreWeight" type="Decimal" label="Pre Weight" />
      <field name="PostWeight" type="Decimal" label="Post Weight" />
      <field name="Dialystate" type="String" label="Dialystate" length="20" />
      <field name="MachineTemp" type="Decimal" label="Machine Temp" />
      <field name="Idwg" type="Decimal" label="Idwg" />
      <field name="WeightLess" type="Decimal" allowNulls="false" label="Weight Less" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Rekod Rawatan Haemod">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="TreatmentHdpk" columns="15" />
          <dataField fieldName="Time" columns="4" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="Bp" columns="20" />
          <dataField fieldName="Pulse" columns="15" />
          <dataField fieldName="Vp" columns="15" />
          <dataField fieldName="Temp" columns="15" />
          <dataField fieldName="Qb" columns="15" />
          <dataField fieldName="Hep" columns="15" />
          <dataField fieldName="Bakiuf" columns="15" />
          <dataField fieldName="DateTreatment" columns="20" />
          <dataField fieldName="DryWeight" columns="15" />
          <dataField fieldName="MachineName" columns="50" />
          <dataField fieldName="PreBp" columns="20" />
          <dataField fieldName="PostBp" columns="20" />
          <dataField fieldName="DealyzerDesc" columns="50" />
          <dataField fieldName="PrePulse" columns="15" />
          <dataField fieldName="PostPulse" columns="15" />
          <dataField fieldName="PenggunaanDke" columns="15" />
          <dataField fieldName="Sodprof" columns="20" />
          <dataField fieldName="PreTemp" columns="15" />
          <dataField fieldName="PostTemp" columns="15" />
          <dataField fieldName="SizeNeedle" columns="15" />
          <dataField fieldName="Ufprofile" columns="20" />
          <dataField fieldName="PreWeight" columns="15" />
          <dataField fieldName="PostWeight" columns="15" />
          <dataField fieldName="Dialystate" columns="20" />
          <dataField fieldName="MachineTemp" columns="15" />
          <dataField fieldName="Idwg" columns="15" />
          <dataField fieldName="WeightLess" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Rekod Rawatan Haemod">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Rekod Rawatan Haemod">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentHdpk" columns="15" />
              <dataField fieldName="Time" columns="4" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="Bp" columns="20" />
              <dataField fieldName="Pulse" columns="15" />
              <dataField fieldName="Vp" columns="15" />
              <dataField fieldName="Temp" columns="15" />
              <dataField fieldName="Qb" columns="15" />
              <dataField fieldName="Hep" columns="15" />
              <dataField fieldName="Bakiuf" columns="15" />
              <dataField fieldName="DateTreatment" columns="20" />
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="MachineName" columns="50" />
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="DealyzerDesc" columns="50" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PenggunaanDke" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="PreWeight" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="WeightLess" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Rekod Rawatan Haemod">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Rekod Rawatan Haemod">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentHdpk" columns="15" />
              <dataField fieldName="Time" columns="4" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="Bp" columns="20" />
              <dataField fieldName="Pulse" columns="15" />
              <dataField fieldName="Vp" columns="15" />
              <dataField fieldName="Temp" columns="15" />
              <dataField fieldName="Qb" columns="15" />
              <dataField fieldName="Hep" columns="15" />
              <dataField fieldName="Bakiuf" columns="15" />
              <dataField fieldName="DateTreatment" columns="20" />
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="MachineName" columns="50" />
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="DealyzerDesc" columns="50" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PenggunaanDke" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="PreWeight" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="WeightLess" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="reportRawatanHd" type="Grid" commandId="command1" label="Report Rawatan Hd" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentHdpk" columns="15" />
          <dataField fieldName="Time" columns="4" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="Bp" columns="20" />
          <dataField fieldName="Pulse" columns="15" />
          <dataField fieldName="Vp" columns="15" />
          <dataField fieldName="Temp" columns="15" />
          <dataField fieldName="Qb" columns="15" />
          <dataField fieldName="Hep" columns="15" />
          <dataField fieldName="Bakiuf" columns="15" />
          <dataField fieldName="DateTreatment" columns="20" />
          <dataField fieldName="DryWeight" columns="15" />
          <dataField fieldName="MachineName" columns="50" />
          <dataField fieldName="PreBp" columns="20" />
          <dataField fieldName="PostBp" columns="20" />
          <dataField fieldName="DealyzerDesc" columns="50" />
          <dataField fieldName="PrePulse" columns="15" />
          <dataField fieldName="PostPulse" columns="15" />
          <dataField fieldName="PenggunaanDke" columns="15" />
          <dataField fieldName="Sodprof" columns="20" />
          <dataField fieldName="PreTemp" columns="15" />
          <dataField fieldName="PostTemp" columns="15" />
          <dataField fieldName="SizeNeedle" columns="15" />
          <dataField fieldName="Ufprofile" columns="20" />
          <dataField fieldName="PreWeight" columns="15" />
          <dataField fieldName="PostWeight" columns="15" />
          <dataField fieldName="Dialystate" columns="20" />
          <dataField fieldName="MachineTemp" columns="15" />
          <dataField fieldName="Idwg" columns="15" />
          <dataField fieldName="WeightLess" columns="15" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwRekodRawatanHaemod2" conflictDetection="overwriteChanges" label="Vw Rekod Rawatan Haemod2" nativeSchema="dbo" nativeTableName="vwRekodRawatanHaemod2">
    <commands>
      <command id="command1" type="Text" custom="false">
        <text>select
	"vwRekodRawatanHaemod2"."TreatmentHDPK" "TreatmentHdpk"
	,"vwRekodRawatanHaemod2"."Time" "Time"
	,"vwRekodRawatanHaemod2"."TreatmentFK" "TreatmentFK"
	,"vwRekodRawatanHaemod2"."BP" "Bp"
	,"vwRekodRawatanHaemod2"."Pulse" "Pulse"
	,"vwRekodRawatanHaemod2"."VP" "Vp"
	,"vwRekodRawatanHaemod2"."Temp" "Temp"
	,"vwRekodRawatanHaemod2"."QB" "Qb"
	,"vwRekodRawatanHaemod2"."HEP" "Hep"
	,"vwRekodRawatanHaemod2"."BAKIUF" "Bakiuf"
	,"vwRekodRawatanHaemod2"."DateTreatment" "DateTreatment"
	,"vwRekodRawatanHaemod2"."PatientName" "PatientName"
	,"vwRekodRawatanHaemod2"."DryWeight" "DryWeight"
	,"vwRekodRawatanHaemod2"."MachineName" "MachineName"
	,"vwRekodRawatanHaemod2"."PreBP" "PreBp"
	,"vwRekodRawatanHaemod2"."PostBP" "PostBp"
	,"vwRekodRawatanHaemod2"."DealyzerDesc" "DealyzerDesc"
	,"vwRekodRawatanHaemod2"."PrePulse" "PrePulse"
	,"vwRekodRawatanHaemod2"."PostPulse" "PostPulse"
	,"vwRekodRawatanHaemod2"."PenggunaanDKe" "PenggunaanDke"
	,"vwRekodRawatanHaemod2"."SODProf" "Sodprof"
	,"vwRekodRawatanHaemod2"."PreTemp" "PreTemp"
	,"vwRekodRawatanHaemod2"."PostTemp" "PostTemp"
	,"vwRekodRawatanHaemod2"."SizeNeedle" "SizeNeedle"
	,"vwRekodRawatanHaemod2"."UFProfile" "Ufprofile"
	,"vwRekodRawatanHaemod2"."PreWeight" "PreWeight"
	,"vwRekodRawatanHaemod2"."PostWeight" "PostWeight"
	,"vwRekodRawatanHaemod2"."Dialystate" "Dialystate"
	,"vwRekodRawatanHaemod2"."MachineTemp" "MachineTemp"
	,"vwRekodRawatanHaemod2"."IDWG" "Idwg"
	,"vwRekodRawatanHaemod2"."WeightLess" "WeightLess"
	,"vwRekodRawatanHaemod2"."UFBal" "Ufbal"
	,"vwRekodRawatanHaemod2"."DialyzerUse" "DialyzerUse"
	,"vwRekodRawatanHaemod2"."TreatmentNo" "TreatmentNo"
from "dbo"."vwRekodRawatanHaemod2" "vwRekodRawatanHaemod2"
</text>
      </command>
    </commands>
    <fields>
      <field name="TreatmentHdpk" type="Int32" allowNulls="false" label="Treatment HDPK" showInSummary="true" />
      <field name="Time" type="String" allowNulls="false" label="Time" length="4" showInSummary="true" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" showInSummary="true" />
      <field name="Bp" type="String" allowNulls="false" label="Bp" length="20" showInSummary="true" />
      <field name="Pulse" type="Int32" allowNulls="false" label="Pulse" showInSummary="true" />
      <field name="Vp" type="Int32" allowNulls="false" label="Vp" />
      <field name="Temp" type="Decimal" allowNulls="false" label="Temp" />
      <field name="Qb" type="Int32" allowNulls="false" label="Qb" />
      <field name="Hep" type="Int32" allowNulls="false" label="Hep" />
      <field name="Bakiuf" type="Int32" allowNulls="false" label="Bakiuf" />
      <field name="DateTreatment" type="DateTime" allowNulls="false" dataFormatString="g" label="Date Treatment" />
      <field name="PatientName" type="String" allowNulls="false" label="Patient Name" length="100" />
      <field name="DryWeight" type="Decimal" label="Dry Weight" />
      <field name="MachineName" type="String" allowNulls="false" label="Machine Name" length="50" />
      <field name="PreBp" type="String" label="Pre BP" length="20" />
      <field name="PostBp" type="String" label="Post BP" length="20" />
      <field name="DealyzerDesc" type="String" allowNulls="false" label="Dealyzer Desc" length="50" />
      <field name="PrePulse" type="Int32" label="Pre Pulse" />
      <field name="PostPulse" type="Int32" label="Post Pulse" />
      <field name="PenggunaanDke" type="Decimal" label="Penggunaan D Ke" />
      <field name="Sodprof" type="String" label="SOD Prof" length="20" />
      <field name="PreTemp" type="Decimal" label="Pre Temp" />
      <field name="PostTemp" type="Decimal" label="Post Temp" />
      <field name="SizeNeedle" type="Int32" label="Size Needle" />
      <field name="Ufprofile" type="String" label="UF Profile" length="20" />
      <field name="PreWeight" type="Decimal" label="Pre Weight" />
      <field name="PostWeight" type="Decimal" label="Post Weight" />
      <field name="Dialystate" type="String" label="Dialystate" length="20" />
      <field name="MachineTemp" type="Decimal" label="Machine Temp" />
      <field name="Idwg" type="Decimal" label="Idwg" />
      <field name="WeightLess" type="Decimal" allowNulls="false" label="Weight Less" />
      <field name="Ufbal" type="Decimal" label="UF Bal" />
      <field name="DialyzerUse" type="Int32" label="Dialyzer Use" readOnly="true" />
      <field name="TreatmentNo" type="String" label="Treatment No" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Rekod Rawatan Haemod2">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="TreatmentHdpk" columns="15" />
          <dataField fieldName="Time" columns="4" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="Bp" columns="20" />
          <dataField fieldName="Pulse" columns="15" />
          <dataField fieldName="Vp" columns="15" />
          <dataField fieldName="Temp" columns="15" />
          <dataField fieldName="Qb" columns="15" />
          <dataField fieldName="Hep" columns="15" />
          <dataField fieldName="Bakiuf" columns="15" />
          <dataField fieldName="DateTreatment" columns="20" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="DryWeight" columns="15" />
          <dataField fieldName="MachineName" columns="50" />
          <dataField fieldName="PreBp" columns="20" />
          <dataField fieldName="PostBp" columns="20" />
          <dataField fieldName="DealyzerDesc" columns="50" />
          <dataField fieldName="PrePulse" columns="15" />
          <dataField fieldName="PostPulse" columns="15" />
          <dataField fieldName="PenggunaanDke" columns="15" />
          <dataField fieldName="Sodprof" columns="20" />
          <dataField fieldName="PreTemp" columns="15" />
          <dataField fieldName="PostTemp" columns="15" />
          <dataField fieldName="SizeNeedle" columns="15" />
          <dataField fieldName="Ufprofile" columns="20" />
          <dataField fieldName="PreWeight" columns="15" />
          <dataField fieldName="PostWeight" columns="15" />
          <dataField fieldName="Dialystate" columns="20" />
          <dataField fieldName="MachineTemp" columns="15" />
          <dataField fieldName="Idwg" columns="15" />
          <dataField fieldName="WeightLess" columns="15" />
          <dataField fieldName="Ufbal" columns="15" />
          <dataField fieldName="DialyzerUse" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Rekod Rawatan Haemod2">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Rekod Rawatan Haemod2">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentHdpk" columns="15" />
              <dataField fieldName="Time" columns="4" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="Bp" columns="20" />
              <dataField fieldName="Pulse" columns="15" />
              <dataField fieldName="Vp" columns="15" />
              <dataField fieldName="Temp" columns="15" />
              <dataField fieldName="Qb" columns="15" />
              <dataField fieldName="Hep" columns="15" />
              <dataField fieldName="Bakiuf" columns="15" />
              <dataField fieldName="DateTreatment" columns="20" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="MachineName" columns="50" />
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="DealyzerDesc" columns="50" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PenggunaanDke" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="PreWeight" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="WeightLess" columns="15" />
              <dataField fieldName="Ufbal" columns="15" />
              <dataField fieldName="DialyzerUse" columns="15" />
              <dataField fieldName="TreatmentNo" textMode="Text">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Rekod Rawatan Haemod2">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Rekod Rawatan Haemod2">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentHdpk" columns="15" />
              <dataField fieldName="Time" columns="4" />
              <dataField fieldName="TreatmentFK" columns="15" />
              <dataField fieldName="Bp" columns="20" />
              <dataField fieldName="Pulse" columns="15" />
              <dataField fieldName="Vp" columns="15" />
              <dataField fieldName="Temp" columns="15" />
              <dataField fieldName="Qb" columns="15" />
              <dataField fieldName="Hep" columns="15" />
              <dataField fieldName="Bakiuf" columns="15" />
              <dataField fieldName="DateTreatment" columns="20" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="MachineName" columns="50" />
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="DealyzerDesc" columns="50" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PenggunaanDke" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="PreWeight" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="WeightLess" columns="15" />
              <dataField fieldName="Ufbal" columns="15" />
              <dataField fieldName="DialyzerUse" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="reportRawatanHd2" type="Grid" commandId="command1" label="Rekod Rawatan" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentHdpk" columns="15" />
          <dataField fieldName="Time" columns="4" />
          <dataField fieldName="TreatmentFK" columns="15" />
          <dataField fieldName="Bp" columns="20" />
          <dataField fieldName="Pulse" columns="15" />
          <dataField fieldName="Vp" columns="15" />
          <dataField fieldName="Temp" columns="15" />
          <dataField fieldName="Qb" columns="15" />
          <dataField fieldName="Hep" columns="15" />
          <dataField fieldName="Bakiuf" columns="15" />
          <dataField fieldName="DateTreatment" columns="20" />
          <dataField fieldName="PatientName" />
          <dataField fieldName="DryWeight" columns="15" />
          <dataField fieldName="MachineName" columns="50" />
          <dataField fieldName="PreBp" columns="20" />
          <dataField fieldName="PostBp" columns="20" />
          <dataField fieldName="DealyzerDesc" columns="50" />
          <dataField fieldName="PrePulse" columns="15" />
          <dataField fieldName="PostPulse" columns="15" />
          <dataField fieldName="PenggunaanDke" columns="15" />
          <dataField fieldName="Sodprof" columns="20" />
          <dataField fieldName="PreTemp" columns="15" />
          <dataField fieldName="PostTemp" columns="15" />
          <dataField fieldName="SizeNeedle" columns="15" />
          <dataField fieldName="Ufprofile" columns="20" />
          <dataField fieldName="PreWeight" columns="15" />
          <dataField fieldName="PostWeight" columns="15" />
          <dataField fieldName="Dialystate" columns="20" />
          <dataField fieldName="MachineTemp" columns="15" />
          <dataField fieldName="Idwg" columns="15" />
          <dataField fieldName="WeightLess" columns="15" />
          <dataField fieldName="Ufbal" columns="15" />
          <dataField fieldName="DialyzerUse" columns="15" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwScheduledNotAttend" conflictDetection="overwriteChanges" label="Vw Scheduled Not Attend" nativeSchema="dbo" nativeTableName="vwScheduledNotAttend">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwScheduledNotAttend"."ScheduleHdrPK" "ScheduleHdrPK"
	,"vwScheduledNotAttend"."DateSchd" "DateSchd"
	,"vwScheduledNotAttend"."Name" "Name"
	,"vwScheduledNotAttend"."NoNRIC" "NoNric"
	,"vwScheduledNotAttend"."NOKTelMobile" "NoktelMobile"
	,"vwScheduledNotAttend"."StatusSchd" "StatusSchd"
from "dbo"."vwScheduledNotAttend" "vwScheduledNotAttend"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="ScheduleHdrPK" type="Int32" allowNulls="false" label="Schedule Hdr PK" showInSummary="true" />
      <field name="DateSchd" type="String" label="Date Schd" readOnly="true" length="30" showInSummary="true" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="NoktelMobile" type="String" allowNulls="false" label="NOK Tel Mobile" length="15" showInSummary="true" />
      <field name="StatusSchd" type="String" allowNulls="false" label="Status Schd" length="1" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Scheduled Not Attend">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="ScheduleHdrPK" columns="15" />
          <dataField fieldName="DateSchd" columns="30" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="NoktelMobile" columns="15" />
          <dataField fieldName="StatusSchd" columns="1" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Scheduled Not Attend">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Scheduled Not Attend">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="ScheduleHdrPK" columns="15" />
              <dataField fieldName="DateSchd" columns="30" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoktelMobile" columns="15" />
              <dataField fieldName="StatusSchd" columns="1" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Scheduled Not Attend">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Scheduled Not Attend">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="ScheduleHdrPK" columns="15" />
              <dataField fieldName="DateSchd" columns="30" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoktelMobile" columns="15" />
              <dataField fieldName="StatusSchd" columns="1" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="reportNotAttend" type="Grid" commandId="command1" label="Report Schedule" showInSelector="false" reportTemplate="true">
        <headerText />
        <dataFields>
          <dataField fieldName="ScheduleHdrPK" columns="15" />
          <dataField fieldName="DateSchd" columns="30" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="NoktelMobile" columns="15" />
          <dataField fieldName="StatusSchd" columns="1" />
        </dataFields>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwSuratPengesahan" conflictDetection="overwriteChanges" label="Vw Surat Pengesahan" nativeSchema="dbo" nativeTableName="vwSuratPengesahan">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwSuratPengesahan"."NoReference" "NoReference"
	,"vwSuratPengesahan"."name" "Name"
	,"vwSuratPengesahan"."NoNRIC" "NoNric"
	,"vwSuratPengesahan"."Hari" "Hari"
	,"vwSuratPengesahan"."Waktu" "Waktu"
	,"vwSuratPengesahan"."DateJoined" "DateJoined"
	,"vwSuratPengesahan"."NamaPengesah" "NamaPengesah"
	,"vwSuratPengesahan"."JawatanPengesah" "JawatanPengesah"
	,"vwSuratPengesahan"."PatientPK" "PatientPK"
	,"vwSuratPengesahan"."CurrentDate" "CurrentDate"
from "dbo"."vwSuratPengesahan" "vwSuratPengesahan"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="NoReference" type="String" label="No Reference" readOnly="true" length="20" showInSummary="true" />
      <field name="Name" type="String" label="Name" readOnly="true" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="Hari" type="String" allowNulls="false" label="Hari" length="50" showInSummary="true" />
      <field name="Waktu" type="String" allowNulls="false" label="Waktu" length="50" showInSummary="true" />
      <field name="DateJoined" type="String" label="Date Joined" readOnly="true" length="50" />
      <field name="NamaPengesah" type="String" allowNulls="false" label="Nama Pengesah" readOnly="true" length="100" />
      <field name="JawatanPengesah" type="String" allowNulls="false" label="Jawatan Pengesah" readOnly="true" length="100" />
      <field name="PatientPK" type="Int32" allowNulls="false" label="Patient PK" />
      <field name="CurrentDate" type="String" label="Current Date" readOnly="true" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Surat Pengesahan">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="NoReference" columns="20" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="Hari" columns="50" />
          <dataField fieldName="Waktu" columns="50" />
          <dataField fieldName="DateJoined" columns="50" />
          <dataField fieldName="NamaPengesah" />
          <dataField fieldName="JawatanPengesah" />
          <dataField fieldName="PatientPK" columns="15" />
          <dataField fieldName="CurrentDate" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Surat Pengesahan">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Surat Pengesahan">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="NoReference" columns="20" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="Hari" columns="50" />
              <dataField fieldName="Waktu" columns="50" />
              <dataField fieldName="DateJoined" columns="50" />
              <dataField fieldName="NamaPengesah" />
              <dataField fieldName="JawatanPengesah" />
              <dataField fieldName="PatientPK" columns="15" />
              <dataField fieldName="CurrentDate" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Surat Pengesahan">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Surat Pengesahan">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="NoReference" columns="20" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="Hari" columns="50" />
              <dataField fieldName="Waktu" columns="50" />
              <dataField fieldName="DateJoined" columns="50" />
              <dataField fieldName="NamaPengesah" />
              <dataField fieldName="JawatanPengesah" />
              <dataField fieldName="PatientPK" columns="15" />
              <dataField fieldName="CurrentDate" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="SuratPengesahan" commandId="command1" type="Grid" label="Surat Pengesahan" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="VwSuratTuntutanTunggakan" conflictDetection="overwriteChanges" label="Vw Surat Tuntutan Tunggakan" nativeSchema="dbo" nativeTableName="vwSuratTuntutanTunggakan">
    <commands>
      <command id="command1" type="Text">
        <text><![CDATA[
select
	"vwSuratTuntutanTunggakan"."CurrentDate" "CurrentDate"
	,"vwSuratTuntutanTunggakan"."RujukanSurat" "RujukanSurat"
	,"vwSuratTuntutanTunggakan"."Name" "Name"
	,"vwSuratTuntutanTunggakan"."NoNRIC" "NoNric"
	,"vwSuratTuntutanTunggakan"."DebtphPk" "DebtphPK"
	,"vwSuratTuntutanTunggakan"."PatientFK" "PatientFK"
	,"vwSuratTuntutanTunggakan"."ExpensesTypeDesc" "ExpensesTypeDesc"
	,"vwSuratTuntutanTunggakan"."Amount" "Amount"
	,"vwSuratTuntutanTunggakan"."NamaPengesah" "NamaPengesah"
	,"vwSuratTuntutanTunggakan"."JawatanPengesah" "JawatanPengesah"
	,"vwSuratTuntutanTunggakan"."DateTransaction" "DateTransaction"
from "dbo"."vwSuratTuntutanTunggakan" "vwSuratTuntutanTunggakan"
]]></text>
      </command>
    </commands>
    <fields>
      <field name="CurrentDate" type="String" label="Current Date" readOnly="true" length="50" showInSummary="true" />
      <field name="RujukanSurat" type="String" allowNulls="false" label="Rujukan Surat" length="50" showInSummary="true" />
      <field name="Name" type="String" allowNulls="false" label="Name" length="100" showInSummary="true" />
      <field name="NoNric" type="String" allowNulls="false" label="No NRIC" length="15" showInSummary="true" />
      <field name="DebtphPK" type="Int32" allowNulls="false" label="Debtph Pk" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" />
      <field name="ExpensesTypeDesc" type="String" allowNulls="false" label="Expenses Type Desc" length="50" />
      <field name="Amount" type="Decimal" allowNulls="false" dataFormatString="c" label="Amount" />
      <field name="NamaPengesah" type="String" allowNulls="false" label="Nama Pengesah" readOnly="true" length="100" />
      <field name="JawatanPengesah" type="String" allowNulls="false" label="Jawatan Pengesah" readOnly="true" length="100" />
      <field name="DateTransaction" type="String" label="Date Transaction" readOnly="true" length="50" />
    </fields>
    <views>
      <view id="grid1" type="Grid" commandId="command1" label="Vw Surat Tuntutan Tunggakan">
        <headerText>$DefaultGridViewDescription</headerText>
        <dataFields>
          <dataField fieldName="CurrentDate" columns="50" />
          <dataField fieldName="RujukanSurat" columns="50" />
          <dataField fieldName="Name" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="DebtphPK" columns="15" />
          <dataField fieldName="PatientFK" columns="15" />
          <dataField fieldName="ExpensesTypeDesc" columns="50" />
          <dataField fieldName="Amount" columns="15" />
          <dataField fieldName="NamaPengesah" />
          <dataField fieldName="JawatanPengesah" />
          <dataField fieldName="DateTransaction" columns="50" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Vw Surat Tuntutan Tunggakan">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Vw Surat Tuntutan Tunggakan">
            <description>$DefaultEditDescription</description>
            <dataFields>
              <dataField fieldName="CurrentDate" columns="50" />
              <dataField fieldName="RujukanSurat" columns="50" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DebtphPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="ExpensesTypeDesc" columns="50" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="NamaPengesah" />
              <dataField fieldName="JawatanPengesah" />
              <dataField fieldName="DateTransaction" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Vw Surat Tuntutan Tunggakan">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Vw Surat Tuntutan Tunggakan">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="CurrentDate" columns="50" />
              <dataField fieldName="RujukanSurat" columns="50" />
              <dataField fieldName="Name" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="DebtphPK" columns="15" />
              <dataField fieldName="PatientFK" columns="15" />
              <dataField fieldName="ExpensesTypeDesc" columns="50" />
              <dataField fieldName="Amount" columns="15" />
              <dataField fieldName="NamaPengesah" />
              <dataField fieldName="JawatanPengesah" />
              <dataField fieldName="DateTransaction" columns="50" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="SuratTuntutan" commandId="command1" type="Grid" label="SuratTuntutan" showInSelector="false" reportTemplate="true" />
    </views>
    <actions>
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="MyProfile" conflictDetection="overwriteChanges" label="My Profile" handler="MyProfileBusinessRules">
    <commands />
    <fields>
      <field name="UserName" type="String" allowNulls="false" label="^UserName^User Name^UserName^" />
      <field name="RememberMe" type="Boolean" allowNulls="false" default="0" label="^RememberMe^Remember me next time^RememberMe^">
        <items style="CheckBox" />
      </field>
      <field name="Password" type="String" allowNulls="false" label="^Password^Password^Password^" />
      <field name="ConfirmPassword" type="String" allowNulls="false" label="^ConfirmPassword^Confirm Password^ConfirmPassword^" />
      <field name="OldPassword" type="String" allowNulls="false" label="^OldPassword^Old Password^OldPassword^" />
      <field name="Email" type="String" label="^Email^Email^Email^" allowNulls="false" />
      <field name="PasswordQuestion" type="String" label="^PasswordQuestion^Password Question^PasswordQuestion^" allowNulls="false" />
      <field name="PasswordAnswer" type="String" label="^PasswordAnswer^Password Answer^PasswordAnswer^" allowNulls="false" />
    </fields>
    <views>
      <view id="loginForm" type="Form" access="Public" label="^LoginLink^Login^LoginLink^" tags="modal-fit-content modal-max-xs material-icon-lock-outline discard-changes-prompt-none">
        <categories>
          <category id="c1" headerText="" flow="NewColumn">
            <dataFields>
              <dataField fieldName="UserName" />
              <dataField fieldName="Password" textMode="Password" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="signUpForm" type="Form" commandId="command1" access="Public" label="^SignUpViewLabel^Account Sign Up^SignUpViewLabel^" tags="material-icon-person-add">
        <headerText>^SignUpViewHeaderText^Please fill this form and click OK button to sign up for an account. Click Cancel to return to the previous screen.^SignUpViewHeaderText^</headerText>
        <categories>
          <category id="c1" headerText="^SignUpViewNewUserInfoCategoryHeaderText^New User Information^SignUpViewNewUserInfoCategoryHeaderText^" flow="NewColumn">
            <description>^SignUpViewNewUserInfoCategoryDescription^Please enter user name and password. Note that password must be at least 7 characters long and include one non-alphanumeric character. Only approved users will be able to login into the website.^SignUpViewNewUserInfoCategoryDescription^</description>
            <dataFields>
              <dataField fieldName="UserName" columns="20" />
              <dataField fieldName="Password" columns="20" textMode="Password" />
              <dataField fieldName="ConfirmPassword" columns="20" textMode="Password" />
            </dataFields>
          </category>
          <category id="c2" headerText="^SignUpViewPasswordRecoveryCategoryHeaderText^Password Recovery^SignUpViewPasswordRecoveryCategoryHeaderText^">
            <description>
                          
                        ^SignUpViewPasswordRecoveryCategoryDescription^These fields are required to help you to recover a forgotten password. During the recovery process you will be asked to enter a user name. 
						If a user account exists then a security question is requested to be answered. A correct answer will trigger an email with a temporary password send to the registered email.^SignUpViewPasswordRecoveryCategoryDescription^
                      
                        </description>
            <dataFields>
              <dataField fieldName="Email" />
              <dataField fieldName="PasswordQuestion" />
              <dataField fieldName="PasswordAnswer" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="passwordRequestForm" type="Form" commandId="command1" access="Public" label="^PasswordRequestViewLabel^Password Recovery: Step 1 of 2^PasswordRequestViewLabel^" tags="material-icon-lock discard-changes-prompt-none">
        <headerText>^PasswordRequestViewHeaderText^Please fill this form and click Continue button to recover the forgotten password. Click Cancel to return to the previous screen.^PasswordRequestViewHeaderText^</headerText>
        <categories>
          <category id="c1" headerText="^PasswordRequestViewForgotPasswordCategoryHeaderText^Forgot your password?^PasswordRequestViewForgotPasswordCategoryHeaderText^" flow="NewColumn">
            <description>^PasswordRequestViewForgotPasswordCategoryDescription^Please enter a user name. &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;^PasswordRequestViewForgotPasswordCategoryDescription^</description>
            <dataFields>
              <dataField fieldName="UserName" columns="20" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="identityConfirmationForm" type="Form" commandId="command1" access="Public" label="^IdentityConfirmViewLabel^Password Recovery: Step 2 of 2^IdentityConfirmViewLabel^" tags="material-icon-lock-open discard-changes-prompt-none">
        <headerText>^IdentityConfirmViewHeaderText^Please fill this form and click Submit button to recover the forgotten password. Click Cancel to return to the previous screen.^IdentityConfirmViewHeaderText^</headerText>
        <categories>
          <category id="c1" headerText="^IdentityConfirmationViewIdentityConfirmCategoryHeaderText^Identity Confirmation^IdentityConfirmationViewIdentityConfirmCategoryHeaderText^" flow="NewColumn">
            <description>^IdentityConfirmationViewIdentityConfirmCategoryDescription^Answer the following question to receive your password. &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;^IdentityConfirmationViewIdentityConfirmCategoryDescription^</description>
            <dataFields>
              <dataField fieldName="UserName" columns="20" readOnly="true" />
              <dataField fieldName="PasswordQuestion" readOnly="true" />
              <dataField fieldName="PasswordAnswer" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="myAccountForm" type="Form" commandId="command1" label="^MyAccountViewLabel^My Account^MyAccountViewLabel^" tags="material-icon-perm-identity discard-changes-prompt-none">
        <headerText>^MyAccountViewHeaderText^Please review your membership information below. Click Update My Account to change this record, or click Cancel to return back.^MyAccountViewHeaderText^</headerText>
        <categories>
          <category id="c1" headerText="^MyAccountViewCurrentPasswordCategoryHeaderText^1. Current Password^MyAccountViewCurrentPasswordCategoryHeaderText^" flow="NewColumn">
            <description>^MyAccountViewCurrentPasswordCategoryDescription^Please enter your current password to create new password, update your email address, or change password recovery question and answer.^MyAccountViewCurrentPasswordCategoryDescription^</description>
            <dataFields>
              <dataField fieldName="UserName" readOnly="true" />
              <dataField fieldName="OldPassword" columns="20" textMode="Password">
                <headerText>^Password^Password^Password^</headerText>
              </dataField>
            </dataFields>
          </category>
          <category id="c2" headerText="^MyAccountViewNewPasswordCategoryHeaderText^2. New Password (Optional)^MyAccountViewNewPasswordCategoryHeaderText^">
            <description>^MyAccountViewNewPasswordCategoryDescription^Please enter new password. Note that password must be at least 7 characters long and include one non-alphanumeric character.^MyAccountViewNewPasswordCategoryDescription^</description>
            <dataFields>
              <dataField fieldName="Password" columns="20" textMode="Password">
                <headerText>^NewPassword^New Password^NewPassword^</headerText>
              </dataField>
              <dataField fieldName="ConfirmPassword" columns="20" textMode="Password">
                <headerText>^ConfirmNewPassword^Confirm New Password^ConfirmNewPassword^</headerText>
              </dataField>
            </dataFields>
          </category>
          <category id="c3" headerText="^MyAccountViewPasswordRecoveryCategoryHeaderText^3. Email &amp; Password Recovery (Optional)^MyAccountViewPasswordRecoveryCategoryHeaderText^">
            <description>
                          
                        ^MyAccountViewPasswordRecoveryCategoryDescription^During the recovery of a forgotten password you will be asked to enter your user name. 
						If a user account exists then a password question must be answered. A correct answer will trigger an email with a temporary password send to you.^MyAccountViewPasswordRecoveryCategoryDescription^
                      
                        </description>
            <dataFields>
              <dataField fieldName="Email" />
              <dataField fieldName="PasswordQuestion" />
              <dataField fieldName="PasswordAnswer">
                <headerText>^MaskedPasswordAnswer^Password Answer (not displayed for your protection)^MaskedPasswordAnswer^</headerText>
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag1" scope="Form">
        <action id="a1" whenLastCommandName="New" whenLastCommandArgument="signUpForm" commandName="Insert" commandArgument="SignUp" headerText="^SignUp^Sign Up^SignUp^" />
        <action id="a2" whenLastCommandName="New" whenLastCommandArgument="signUpForm" commandName="Cancel" />
        <action id="a3" whenLastCommandName="Insert" whenLastCommandArgument="SignUp" commandName="Cancel" />
        <action id="a4" whenLastCommandName="New" whenLastCommandArgument="passwordRequestForm" commandName="Cancel" />
        <action id="a5" whenLastCommandName="New" whenLastCommandArgument="passwordRequestForm" commandName="Custom" commandArgument="RequestPassword" headerText="^RequestPasswordActionHeaderText^Next^RequestPasswordActionHeaderText^" cssClass="material-icon-arrow-forward" />
        <action id="a6" whenLastCommandName="Edit" whenLastCommandArgument="identityConfirmationForm" commandName="Custom" commandArgument="BackToRequestPassword" headerText="^BackToRequestPasswordActionHeaderText^Back^BackToRequestPasswordActionHeaderText^" causesValidation="false" />
        <action id="a7" whenLastCommandName="Edit" whenLastCommandArgument="identityConfirmationForm" commandName="Custom" commandArgument="ConfirmIdentity" headerText="^ConfirmIdentityActionHeaderText^Finish^ConfirmIdentityActionHeaderText^" cssClass="material-icon-check" />
        <action id="a8" whenLastCommandName="Edit" whenLastCommandArgument="myAccountForm" commandName="Update" headerText="^UpdateMyAccountActionHeaderText^Update My Account^UpdateMyAccountActionHeaderText^" causesValidation="false" />
        <action id="a9" whenLastCommandName="Edit" whenLastCommandArgument="myAccountForm" commandName="Cancel" />
        <action id="a10" commandName="Custom" headerText="^LoginButton^Login^LoginButton^" commandArgument="Login" whenLastCommandName="New" whenLastCommandArgument="loginForm" causesValidation="true" key="Enter" />
      </actionGroup>
      <actionGroup id="agAuth" scope="Custom">
        <action id="aFacebook" commandName="Navigate" commandArgument="~/appservices/saas/facebook" headerText="^LoginWithFacebook^Login With Facebook^LoginWithFacebook^" whenLastCommandName="New" whenLastCommandArgument="loginForm" whenTag="show-facebook-login" />
        <action id="aGoogle" commandName="Navigate" commandArgument="~/appservices/saas/google" headerText="^LoginWithGoogle^Login With Google^LoginWithGoogle^" whenLastCommandName="New" whenLastCommandArgument="loginForm" whenTag="show-google-login" />
        <action id="aMsGraph" commandName="Navigate" commandArgument="~/appservices/saas/msgraph" headerText="^LoginWithMicrosoft^Login With Microsoft^LoginWithMicrosoft^" whenLastCommandName="New" whenLastCommandArgument="loginForm" whenTag="show-msgraph-login" />
        <action id="aWindowsLive" commandName="Navigate" commandArgument="~/appservices/saas/windowslive" headerText="^LoginWithWindowsLive^Login With Windows Live^LoginWithWindowsLive^" whenLastCommandName="New" whenLastCommandArgument="loginForm" whenTag="show-windows-live-login" />
        <action id="aSharePoint" commandName="Navigate" commandArgument="~/appservices/saas/sharepoint" headerText="^LoginWithSharePoint^Login With SharePoint^LoginWithSharePoint^" whenLastCommandName="New" whenLastCommandArgument="loginForm" whenTag="show-sharepoint-login" />
        <action id="aDnn" commandName="Navigate" commandArgument="~/appservices/saas/dnn" headerText="^LoginWithDNN^Login With DotNetNuke^LoginWithDNN^" whenLastCommandName="New" whenLastCommandArgument="loginForm" whenTag="show-dnn-login" />
      </actionGroup>
    </actions>
    <businessRules>
      <rule id="r100" commandName="Custom" commandArgument="Login" type="JavaScript" phase="Execute">
                  
this.preventDefault();
var resources = Web.MembershipResources.Messages;
$app.login($row.UserName, $row.Password, $row.RememberMe==true,
  function () {
    setTimeout(function() {
      $app._navigated = true;
      window.location.replace($app.touch.returnUrl() || __baseUrl);
    });
  },
  function () {
    $app.alert(resources.InvalidUserNameAndPassword, function() {$app.input.focus({fieldName:'UserName'})});
  });
                
                </rule>
      <rule id="r101" commandName="Custom" commandArgument="SignUp" type="JavaScript" phase="Execute">
                    
this.preventDefault();
$app.touch.show({
  controller: 'MyProfile',
  startCommand: 'New',
  startArgument: 'signUpForm'
});
                
                  </rule>
      <rule id="r102" commandName="Custom" commandArgument="ForgotPassword" type="JavaScript" phase="Execute">
                    
this.preventDefault();
$app.touch.show({
  controller: 'MyProfile',
  startCommand: 'New',
  startArgument: 'passwordRequestForm'
});
                
                  </rule>
    </businessRules>
  </dataController>
  <dataController name="LoginScreen" label="LoginScreen" conflictDetection="overwriteChanges" generateDataAccessObjects="false">
    <fields>
      <field name="UserName" type="String" label="UserName" />
      <field name="Password" type="String" label="Password" />
    </fields>
    <views>
      <view id="MyLogin" type="Form" label="MyLogin">
        <categories>
          <category id="c1" headerText="Login Screen">
            <dataFields>
              <dataField fieldName="UserName" rows="5" />
              <dataField fieldName="Password" rows="5" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <businessRules>
      <rule id="r100" commandName="Custom" commandArgument="Login" type="JavaScript" phase="Execute">                  
this.preventDefault();
var resources = Web.MembershipResources.Messages;
$app.login($row.UserName, $row.Password, $row.RememberMe==true,
  function () {
    setTimeout(function() {
      $app._navigated = true;
      window.location.replace($app.touch.returnUrl() || __baseUrl);
    });
  },
  function () {
    $app.alert(resources.InvalidUserNameAndPassword, function() {$app.input.focus({fieldName:'UserName'})});
  });
                </rule>
    </businessRules>
    <actions>
      <actionGroup id="ag100" scope="Form" flat="false">
        <action commandName="Custom" commandArgument="Login" key="Enter" id="a100" whenLastCommandName="New" whenLastCommandArgument="MyLogin" headerText="^LoginButton^Login^LoginButton^" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="Dashboards" label="Dashboards" conflictDetection="overwriteChanges" generateDataAccessObjects="false">
    <views>
      <view id="form1" type="Form" label="General Dashboard" tags="material-icon-flash-on">
        <categories>
          <category id="c1">
            <dataFields>
              <dataField fieldName="ScheduleHdr" columns="15" tag="view-style-cards">
                <headerText>Schedule Slot</headerText>
              </dataField>
              <dataField fieldName="Patient" columns="15" tag="view-style-list">
                <headerText>Patients</headerText>
                <dataView showInSummary="true" />
              </dataField>
            </dataFields>
          </category>
          <category id="c2" flow="NewColumn">
            <dataFields>
              <dataField fieldName="Expenses" columns="15" tag="view-style-charts">
              </dataField>
              <dataField fieldName="Invoice" columns="15" tag="view-style-list">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <fields>
      <field name="Expenses" type="DataView" label="Expenses">
        <dataView controller="Expenses" view="grid1" />
      </field>
      <field name="ScheduleHdr" type="DataView" label="Schedule Hdr">
        <dataView controller="ScheduleHdr" view="grid1" />
      </field>
      <field name="Patient" type="DataView" label="Patient">
        <dataView controller="Patient" view="grid1" />
      </field>
      <field name="Invoice" type="DataView" label="Invoice">
        <dataView controller="Invoice" view="grid1" />
      </field>
    </fields>
  </dataController>
  <dataController name="Treatment1" label="Treatment1" conflictDetection="overwriteChanges">
    <commands xmlns="urn:schemas-codeontime-com:data-aquarium">
      <command id="command1" type="Text">
        <text>
select
	"Treatment"."TreatmentPK" "TreatmentPK"
	,"Treatment"."DateTreatment" "DateTreatment"
	,"Treatment"."TreatmentNo" "TreatmentNo"
	,"Treatment"."PatientFK" "PatientFK"
	,"Treatment"."Status" "Status"
	,"Treatment"."ShiftFK" "ShiftFK"
	,"ShiftFK"."Description" "ShiftFkdescription"
	,"Treatment"."DialysisMachineFK" "DialysisMachineFK"
	,"DialysisMachineFK"."Description" "DialysismachinefkDescription"
	,"DialysisMachineFK"."Floor" "DialysismachinefkFloor"
	,"Treatment"."PreBP" "PreBp"
	,"Treatment"."PostBP" "PostBp"
	,"Treatment"."PrePulse" "PrePulse"
	,"Treatment"."PostPulse" "PostPulse"
	,"Treatment"."PreTemp" "PreTemp"
	,"Treatment"."PostTemp" "PostTemp"
	,"Treatment"."PreWeight" "PreWeight"
	,"Treatment"."PostWeight" "PostWeight"
	,"Treatment"."DryWeight" "DryWeight"
	,"Treatment"."IDWG" "Idwg"
	,"Treatment"."SizeNeedle" "SizeNeedle"
	,"Treatment"."Dialyzer" "Dialyzer"
	,"Treatment"."SODProf" "Sodprof"
	,"Treatment"."UFProfile" "Ufprofile"
	,"Treatment"."Dialystate" "Dialystate"
	,"Treatment"."MachineTemp" "MachineTemp"
	,"Treatment"."UF" "Uf"
	,"Treatment"."ScheduleDtlFK" "ScheduleDtlFK"
	,"ScheduleDtl"."ScheduleDtlPK" "ScheduleDtlScheduleDtlPK"
	,"ScheduleDtl"."PatientFK" "ScheduleDtlPatientFK"
	,"ScheduleDtl"."DialysisMachineFK" "ScheduleDtlDialysisMachineFK"
	,"ScheduleDtl"."ShiftFK" "ScheduleDtlShiftFK"
	,"ScheduleHdr"."DateSchd" "ScheduleHdrDateSchd"
	,"Patient"."Name" "PatientName"
	,"Patient"."PhotoImg" "PatientPhotoImg"
	,"DialysisMachine"."Description" "DialysisMachineDescription"
	,"Shift"."Description" "ShiftDescription"
	,"Treatment"."yTotalExpenses" "yTotalExpenses"
	,"Treatment"."WeightLess" "WeightLess"
	,"Treatment"."NeedBloodTest" "NeedBloodTest"
	,"Treatment"."DialyzerFK" "DialyzerFK"
	,"Dialyzer"."PatDialyzerPk" "DialyzerPatDialyzerPk"
	,"Dialyzer"."DialyzerFK" "DialyzerFK1"
	,"Dialyzer"."DateOpen" "DialyzerDateOpen"
	,"Dialyzer"."ReferenceNumber" "DialyzerReferenceNumber"
	,"DialyzerDialyzer"."Description" "DialyzerDescription"
	,"Treatment"."NeedEPO" "NeedEpo"
	,"Treatment"."TDW" "Tdw"
	,"Treatment"."HeparinLoad" "HeparinLoad"
	,"Treatment"."HeparinMaintain" "HeparinMaintain"
from "dbo"."Treatment" "Treatment"
	left join "dbo"."Shift" "ShiftFK" on "Treatment"."ShiftFK" = "ShiftFK"."ShiftPK"
	left join "dbo"."DialysisMachine" "DialysisMachineFK" on "Treatment"."DialysisMachineFK" = "DialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."ScheduleDtl" "ScheduleDtl" on "Treatment"."ScheduleDtlFK" = "ScheduleDtl"."ScheduleDtlPK"
	left join "dbo"."ScheduleHdr" "ScheduleHdr" on "ScheduleDtl"."ScheduleHdrFK" = "ScheduleHdr"."ScheduleHdrPK"
	left join "dbo"."Patient" "Patient" on "ScheduleDtl"."PatientFK" = "Patient"."PatientPK"
	left join "dbo"."DialysisMachine" "DialysisMachine" on "ScheduleDtl"."DialysisMachineFK" = "DialysisMachine"."DialysisMachinePK"
	left join "dbo"."Shift" "Shift" on "ScheduleDtl"."ShiftFK" = "Shift"."ShiftPK"
	left join "dbo"."PatientDialyzer" "Dialyzer" on "Treatment"."DialyzerFK" = "Dialyzer"."PatDialyzerPk"
	left join "dbo"."Dialyzer" "DialyzerDialyzer" on "Dialyzer"."DialyzerFK" = "DialyzerDialyzer"."DialyzerPk"
</text>
      </command>
      <command id="TreatmentPKIdentityCommand" type="Text" event="Inserted">
        <text>select @@identity</text>
        <output>
          <fieldOutput fieldName="TreatmentPK" />
        </output>
      </command>
    </commands>
    <fields xmlns="urn:schemas-codeontime-com:data-aquarium">
      <field name="TreatmentPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Treatment PK" readOnly="true" />
      <field name="DateTreatment" type="Date" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date Treatment" showInSummary="true" />
      <field name="TreatmentNo" type="Int32" allowNulls="false" default="((0))" label="Treatment No" showInSummary="true" />
      <field name="PatientFK" type="Int32" label="Patient FK" showInSummary="true">
        <items style="Lookup" dataController="Patient1" dataValueField="PatientPK" dataTextField="Name" />
      </field>
      <field name="Status" type="String" allowNulls="false" default="('S')" label="Status" length="1" showInSummary="true">
        <items style="DropDownList">
          <item value="P" text="PENDING" />
          <item value="S" text="SCHEDULED" />
          <item value="C" text="CONFIRMED" />
          <item value="T" text="IN TREATMENT" />
          <item value="D" text="DONE" />
        </items>
      </field>
      <field name="ShiftFK" type="Int32" label="Shift FK" showInSummary="true">
        <items style="Lookup" dataController="Shift" newDataView="createForm1" dataValueField="ShiftPK" dataTextField="Description" />
      </field>
      <field name="ShiftFkdescription" type="String" readOnly="true" label="Shift" length="50" />
      <field name="DialysisMachineFK" type="Int32" default="((0))" label="Dialysis Machine FK">
        <items style="Lookup" dataController="DialysisMachine" newDataView="createForm1" dataValueField="DialysisMachinePK" dataTextField="Description" copy="DialysismachinefkFloor=Floor" />
      </field>
      <field name="DialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="DialysismachinefkFloor" type="Int32" readOnly="true" label="Floor" />
      <field name="PreBp" type="String" default="('')" label="BP (Before)" length="20" />
      <field name="PostBp" type="String" default="('')" label="BP (After)" length="20" />
      <field name="PrePulse" type="Int32" default="((0))" label="Pulse (Before)" />
      <field name="PostPulse" type="Int32" default="((0))" label="Pulse (After)" />
      <field name="PreTemp" type="Decimal" default="((0))" label="Temperature (Before)" />
      <field name="PostTemp" type="Decimal" default="((0))" label="Temperature (After)" />
      <field name="PreWeight" type="Decimal" default="((0))" label="Weight (Before)" />
      <field name="PostWeight" type="Decimal" default="((0))" label="Weight (After)" />
      <field name="DryWeight" type="Decimal" default="((0))" label="Dry Weight" />
      <field name="Idwg" type="Decimal" default="((0))" label="IDWG" />
      <field name="SizeNeedle" type="Int32" default="((0))" label="Needle Size" />
      <field name="Dialyzer" type="Decimal" default="((0))" label="Dialyzer" />
      <field name="Sodprof" type="String" default="('')" label="SOD Profile" length="20" />
      <field name="Ufprofile" type="String" default="('')" label="UF Profile" length="20" />
      <field name="Dialystate" type="String" default="('')" label="Dialystate" length="20">
        <items style="DropDownList">
          <item value="AK6" text="AK6 (1.8)" />
          <item value="AK7" text="AK7 (1.25)" />
          <item value="AK8" text="AK8 (1.00)" />
        </items>
      </field>
      <field name="MachineTemp" type="Decimal" default="((0))" label="Machine Temperature" />
      <field name="Uf" type="Decimal" default="((0))" label="UF" />
      <field name="ScheduleDtlFK" type="Int32" label="Schedule" contextFields="TodayScheduleHdrFK=ScheduleHdrFK">
        <items style="Lookup" dataController="ScheduleDtl" newDataView="createForm1" dataValueField="ScheduleDtlPK" dataTextField="ScheduleHdrDateSchd" copy="ScheduleDtlScheduleDtlPK=ScheduleDtlPK, ScheduleDtlPatientFK=PatientFK, ScheduleDtlDialysisMachineFK=DialysisMachineFK, ScheduleDtlShiftFK=ShiftFK, PatientName=PatientfkName, DialysisMachineDescription=DialysismachinefkDescription, ShiftDescription=ShiftFkdescription" />
        <configuration />
      </field>
      <field name="ScheduleDtlScheduleDtlPK" type="Int32" label="Schedule Dtl Schedule Dtl PK" readOnly="true" />
      <field name="ScheduleDtlPatientFK" type="Int32" readOnly="true" label="Schedule Dtl Patient FK" />
      <field name="ScheduleDtlDialysisMachineFK" type="Int32" readOnly="true" label="Schedule Dtl Dialysis Machine FK" />
      <field name="ScheduleDtlShiftFK" type="Int32" readOnly="true" label="Schedule Dtl Shift FK" />
      <field name="ScheduleHdrDateSchd" type="Date" readOnly="true" dataFormatString="dd/MM/yyyy" label="Schedule Date" contextFields="ScheduleHdrDateSchd = DateTreatment" />
      <field name="PatientName" type="String" readOnly="true" label="Patient Name" length="100" />
      <field name="PatientPhotoImg" type="Byte[]" readOnly="true" onDemand="true" sourceFields="PatientFK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo" />
      <field name="DialysisMachineDescription" type="String" readOnly="true" label="Schedule Machine" length="50" />
      <field name="ShiftDescription" type="String" readOnly="true" label="Schedule Shift" length="50" />
      <field name="yTotalExpenses" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Total Expenses" />
      <field name="WeightLess" type="Decimal" allowNulls="false" default="((0))" label="Weight Loss" />
      <field name="NeedBloodTest" type="Boolean" allowNulls="false" default="((0))" label="Blood Test ?" />
      <field name="DialyzerFK" type="Int32" allowNulls="false" dataFormatString="" default="((0))" label="Dialyzer S/N" contextFields="TreatmentPatientFK=PatientFK">
        <items style="Lookup" dataController="PatientDialyzer" newDataView="createForm1" dataValueField="PatDialyzerPK" dataTextField="ReferenceNumber" copy="DialyzerPatDialyzerPk=PatDialyzerPK, DialyzerFK1=DialyzerFK, DialyzerDateOpen=DateOpen, DialyzerDescription=DialyzerFkdescription" />
      </field>
      <field name="DialyzerPatDialyzerPk" type="Int32" label="Dialyzer Pat Dialyzer Pk" readOnly="true" />
      <field name="DialyzerFK1" type="Int32" readOnly="true" label="Dialyzer FK" />
      <field name="DialyzerDateOpen" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Dialyzer Open Date" />
      <field name="DialyzerReferenceNumber" type="String" readOnly="true" label="Dialyzer Reference Number" length="12" />
      <field name="DialyzerDescription" type="String" readOnly="true" label="Dialyzer Description" length="50" />
      <field name="NeedEpo" type="Boolean" allowNulls="false" default="((0))" label="EPO ?" />
      <field name="Tdw" type="Decimal" allowNulls="false" default="((0))" label="TDW" />
      <field name="HeparinLoad" type="String" allowNulls="false" default="('')" label="Heparin Load" length="50" />
      <field name="HeparinMaintain" type="String" allowNulls="false" default="('')" label="Heparin Maintain" length="50" />
      <field name="TreatmentHd" type="DataView" label="Treatment Hd">
        <dataView controller="TreatmentHd" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="Medication" type="DataView" label="Medication">
        <dataView controller="Medication" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="Expenses" type="DataView" label="Expenses">
        <dataView controller="Expenses" filterFields="TreatmentFK" view="grid1" />
      </field>
      <field name="PatientBloodTest" type="DataView" label="Patient Blood Test">
        <dataView controller="PatientBloodTest" filterFields="TreatmentFK" view="grid1" />
      </field>
    </fields>
    <views xmlns="urn:schemas-codeontime-com:data-aquarium">
      <view id="grid1" type="Grid" commandId="command1" label="Current Month" filter="YEAR(DateTreatment) = YEAR(GETDATE()) and MONTH(DateTreatment) = MONTH(GETDATE())" sortExpression="DateTreatment" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="DateTreatment" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="Status" columns="10">
          </dataField>
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="NeedBloodTest" />
          <dataField fieldName="NeedEpo" />
          <dataField fieldName="Tdw" columns="15" />
          <dataField fieldName="HeparinLoad" columns="50" />
          <dataField fieldName="HeparinMaintain" columns="50" />
          <dataField fieldName="yTotalExpenses" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="PatientFK" columns="15" hidden="true">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Treatment" tags="material-icon-mode-edit&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Info" tab="Patient Info">
            <description />
            <dataFields>
              <dataField fieldName="PatientName" />
              <dataField fieldName="DateTreatment" columns="20" />
              <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
              <dataField fieldName="DialysismachinefkFloor" columns="15" />
              <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
              <dataField fieldName="TreatmentNo" columns="15" />
              <dataField fieldName="yTotalExpenses" columns="15" textMode="Static">
              </dataField>
              <dataField fieldName="NeedEpo" />
              <dataField fieldName="Tdw" columns="15" />
              <dataField fieldName="HeparinLoad" columns="50" />
              <dataField fieldName="HeparinMaintain" columns="50" />
              <dataField fieldName="NeedBloodTest" />
              <dataField fieldName="Status" columns="1" />
            </dataFields>
          </category>
          <category headerText="Dialyzer" tab="Health Info" id="c10">
            <dataFields>
              <dataField fieldName="DialyzerFK" columns="15" />
              <dataField fieldName="DialyzerDescription" columns="50" />
              <dataField fieldName="DialyzerDateOpen" columns="10" />
              <dataField fieldName="Dialyzer" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Health Info" id="c4" tab="Health Info">
            <dataFields>
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Uf" columns="15" />
              <dataField fieldName="WeightLess" columns="15" />
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Schedule Info." id="c9" collapsed="true">
            <dataFields>
              <dataField fieldName="ScheduleDtlFK" aliasFieldName="ScheduleHdrDateSchd" textMode="Static">
              </dataField>
              <dataField fieldName="ScheduleDtlScheduleDtlPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlPatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlDialysisMachineFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlShiftFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ShiftDescription" columns="50" />
              <dataField fieldName="DialysisMachineDescription" columns="50" />
            </dataFields>
          </category>
          <category headerText="Before" id="c2" collapsed="true">
            <dataFields>
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PreWeight" columns="15" />
            </dataFields>
          </category>
          <category headerText="After" id="c3" collapsed="true">
            <dataFields>
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
            </dataFields>
          </category>
          <category headerText="Blood Test" id="c8" tab="Blood Test">
            <dataFields>
              <dataField fieldName="PatientBloodTest" columns="15" />
            </dataFields>
            <visibility>
              <expression test="[NeedBloodTest] == 1" type="ClientScript" />
            </visibility>
          </category>
          <category headerText="Hemodialysis" tab="Hemodialysis" id="c5">
            <dataFields>
              <dataField fieldName="TreatmentHd" columns="15" />
            </dataFields>
          </category>
          <category headerText="Medication" tab="Medication" id="c6">
            <dataFields>
              <dataField fieldName="Medication" columns="15" />
            </dataFields>
          </category>
          <category headerText="Expenses" tab="Expenses" id="c7">
            <dataFields>
              <dataField fieldName="Expenses" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Treatment" tags="material-icon-note-add&#xD;&#xA;modal-fullscreen">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Info.">
            <description />
            <dataFields>
              <dataField fieldName="DateTreatment" columns="20">
              </dataField>
              <dataField fieldName="ScheduleDtlFK" aliasFieldName="ScheduleHdrDateSchd" />
              <dataField fieldName="PatientName" />
              <dataField fieldName="ShiftDescription" columns="50" />
              <dataField fieldName="DialysismachinefkFloor" columns="15" />
              <dataField fieldName="DialysisMachineDescription" columns="50" />
              <dataField fieldName="PatientPhotoImg" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentNo" columns="15" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="ScheduleDtlPatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlDialysisMachineFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlScheduleDtlPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ScheduleDtlShiftFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="yTotalExpenses" columns="15" textMode="Static" hidden="true">
              </dataField>
              <dataField fieldName="WeightLess" columns="15" />
              <dataField fieldName="DialyzerFK" aliasFieldName="DialyzerReferenceNumber" />
              <dataField fieldName="DialyzerPatDialyzerPk" aliasFieldName="DialyzerDescription" hidden="true">
              </dataField>
              <dataField fieldName="DialyzerFK1" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="DialyzerDateOpen" columns="20" />
              <dataField fieldName="NeedEpo" />
              <dataField fieldName="Tdw" columns="15" />
              <dataField fieldName="HeparinLoad" columns="50" />
              <dataField fieldName="HeparinMaintain" columns="50" />
              <dataField fieldName="DialysisMachineFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="ShiftFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="NeedBloodTest" />
            </dataFields>
          </category>
          <category headerText="Health Info" id="c5">
            <dataFields>
              <dataField fieldName="DryWeight" columns="15" />
              <dataField fieldName="Idwg" columns="15" />
              <dataField fieldName="SizeNeedle" columns="15" />
              <dataField fieldName="Dialyzer" columns="15" />
              <dataField fieldName="Sodprof" columns="20" />
              <dataField fieldName="Ufprofile" columns="20" />
              <dataField fieldName="Dialystate" columns="20" />
              <dataField fieldName="MachineTemp" columns="15" />
              <dataField fieldName="Uf" columns="15" />
            </dataFields>
          </category>
          <category headerText="Before" id="c3">
            <dataFields>
              <dataField fieldName="PreBp" columns="20" />
              <dataField fieldName="PrePulse" columns="15" />
              <dataField fieldName="PreTemp" columns="15" />
              <dataField fieldName="PreWeight" columns="15" />
            </dataFields>
          </category>
          <category headerText="After" id="c4">
            <dataFields>
              <dataField fieldName="PostBp" columns="20" />
              <dataField fieldName="PostPulse" columns="15" />
              <dataField fieldName="PostTemp" columns="15" />
              <dataField fieldName="PostWeight" columns="15" />
            </dataFields>
          </category>
          <category headerText="Blood Test" id="c2" tab="Blood Test">
            <dataFields>
              <dataField fieldName="PatientBloodTest" columns="15" />
            </dataFields>
          </category>
          <category headerText="Hemodialysis" tab="Hemodialysis" id="c6">
            <dataFields>
              <dataField fieldName="TreatmentHd" columns="15" />
            </dataFields>
          </category>
          <category headerText="Medication" tab="Medication" id="c7">
            <dataFields>
              <dataField fieldName="Medication" columns="15" />
            </dataFields>
          </category>
          <category headerText="Expenses" tab="Expenses" id="c8">
            <dataFields>
              <dataField fieldName="Expenses" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="gridAllTreatment" type="Grid" commandId="command1" label="All Treatment" sortExpression="DateTreatment" tags="view-style-grid">
        <headerText />
        <dataFields>
          <dataField fieldName="DateTreatment" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="ShiftFK" aliasFieldName="ShiftFkdescription" />
          <dataField fieldName="DialysisMachineFK" aliasFieldName="DialysismachinefkDescription" />
          <dataField fieldName="Status" columns="10">
          </dataField>
          <dataField fieldName="DialysismachinefkFloor" columns="15" />
          <dataField fieldName="NeedBloodTest" />
          <dataField fieldName="NeedEpo" />
          <dataField fieldName="Tdw" columns="15" />
          <dataField fieldName="HeparinLoad" columns="50" />
          <dataField fieldName="HeparinMaintain" columns="50" />
          <dataField fieldName="yTotalExpenses" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="PatientFK" columns="15" hidden="true">
          </dataField>
        </dataFields>
      </view>
    </views>
    <actions xmlns="urn:schemas-codeontime-com:data-aquarium">
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action commandName="Custom" commandArgument="CompleteTreatment" headerText="Complete" whenClientScript="$row.Status != 'D'" id="a100" cssClass="material-icon-done-all" />
        <action commandName="Custom" commandArgument="CalcExpenses" id="a102" headerText="Compute Expenses" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" id="a101" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules xmlns="urn:schemas-codeontime-com:data-aquarium">
      <rule id="r100" commandName="New" type="Sql" phase="Execute">SET @DateTreatment = GETDATE()</rule>
      <rule id="r101" commandName="Insert" type="Sql" phase="Execute">SET @PatientFK = @ScheduleDtlPatientFK
SET @DialysisMachineFK = @ScheduleDtlDialysisMachineFK
SET @ShiftFK = @ScheduleDtlShiftFK</rule>
      <rule id="r102" commandName="Custom" commandArgument="CompleteTreatment" type="Sql" phase="Execute">UPDATE Treatment
SET Status = 'D'
WHERE TreatmentPK = @TreatmentPK</rule>
      <rule id="r103" commandName="Custom" commandArgument="CalcExpenses" type="Sql" phase="Execute">EXEC pGenExpenses @TreatmentPK</rule>
    </businessRules>
  </dataController>
  <dataController name="PatientSearch" label="PatientSearch" conflictDetection="overwriteChanges" generateDataAccessObjects="false">
    <fields>
      <field name="Name" type="String" label="Name" length="50" />
    </fields>
    <views>
      <view id="form1" type="Form" label="form1">
        <categories>
          <category id="c1" headerText="Patient Search">
            <dataFields>
              <dataField fieldName="Name" columns="50">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions>
      <actionGroup id="ag100" scope="Form" flat="false">
        <action commandName="Edit" id="a100" />
        <action commandName="Cancel" id="a101" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="PatientBloodTest1" label="PatientBloodTest1" conflictDetection="overwriteChanges">
    <commands xmlns="urn:schemas-codeontime-com:data-aquarium">
      <command id="command1" type="Text">
        <text>
select
	"PatientBloodTest"."PatientBloodTest" "PatientBloodTest"
	,"PatientBloodTest"."DateTest" "DateTest"
	,"PatientBloodTest"."Patient_FK" "PatientFK"
	,"PatientBloodTest"."TreatmentFK" "TreatmentFK"
	,"Treatment"."TreatmentPK" "TreatmentPK"
	,"Treatment"."DateTreatment" "TreatmentDateTreatment"
	,"Treatment"."PatientFK" "TreatmentPatientFK"
	,"PatientBloodTest"."BloodTestTypeFK" "BloodTestTypeFK"
	,"BloodTestType"."Description" "BloodTestTypeDescription"
	,"BloodTestType"."BloodTestCode" "BloodTestTypeBloodTestCode"
	,"Patient"."Name" "PatientName"
	,"Patient"."PatientPK" "PatientPK"
	,"PatientBloodTest"."bHb" "bHb"
	,"PatientBloodTest"."bFerritin" "bFerritin"
	,"PatientBloodTest"."bTsat" "bTsat"
	,"PatientBloodTest"."bEsa" "bEsa"
	,"PatientBloodTest"."cCalcium" "cCalcium"
	,"PatientBloodTest"."cPhosphate" "cPhosphate"
	,"PatientBloodTest"."cALP" "cAlp"
	,"PatientBloodTest"."cIpth" "cIpth"
	,"PatientBloodTest"."dAlbumin" "dAlbumin"
	,"PatientBloodTest"."dPreCreat" "dPreCreat"
	,"PatientBloodTest"."dRbs" "dRbs"
	,"PatientBloodTest"."eHbsAntigen" "eHbsAntigen"
	,"PatientBloodTest"."eHcv" "eHcv"
	,"PatientBloodTest"."eHiv" "eHiv"
	,"PatientBloodTest"."eHbsAntibody" "eHbsAntibody"
	,"PatientBloodTest"."eAlt" "eAlt"
	,"PatientBloodTest"."eVascular" "eVascular"
	,"PatientBloodTest"."eQb" "eQb"
	,"PatientBloodTest"."eUrr" "eUrr"
	,"PatientBloodTest"."fFeFumarate" "fFeFumarate"
	,"PatientBloodTest"."fBcomplex" "fBcomplex"
	,"PatientBloodTest"."fFolate" "fFolate"
	,"PatientBloodTest"."fVitC" "fVitC"
	,"PatientBloodTest"."fCaco3" "fCaco3"
	,"PatientBloodTest"."fCalcitriol" "fCalcitriol"
	,"PatientBloodTest"."fRanitidine" "fRanitidine"
	,"PatientBloodTest"."fSimvastatin" "fSimvastatin"
	,"PatientBloodTest"."fMixtard" "fMixtard"
	,"PatientBloodTest"."gFrequency" "gFrequency"
	,"PatientBloodTest"."gQb" "gQb"
	,"PatientBloodTest"."gQd" "gQd"
	,"PatientBloodTest"."gDuration" "gDuration"
	,"PatientBloodTest"."gDialyser" "gDialyser"
	,"PatientBloodTest"."gDialysate" "gDialysate"
	,"PatientBloodTest"."gHeparinLoad" "gHeparinLoad"
	,"PatientBloodTest"."gHeparinMaintain" "gHeparinMaintain"
	,"PatientBloodTest"."gDryWeight" "gDryWeight"
	,"PatientBloodTest"."hPlan" "hPlan"
	,"PatientBloodTest"."dTCholesterol" "dTcholesterol"
from "dbo"."PatientBloodTest" "PatientBloodTest"
	left join "dbo"."Treatment" "Treatment" on "PatientBloodTest"."TreatmentFK" = "Treatment"."TreatmentPK"
	left join "dbo"."Patient" "Patient" on "Treatment"."PatientFK" = "Patient"."PatientPK"
	left join "dbo"."BloodTestType" "BloodTestType" on "PatientBloodTest"."BloodTestTypeFK" = "BloodTestType"."BloodTestTypePK"
</text>
      </command>
      <command id="PatientBloodTestIdentityCommand" type="Text" event="Inserted">
        <text>select @@identity</text>
        <output>
          <fieldOutput fieldName="PatientBloodTest" />
        </output>
      </command>
    </commands>
    <fields xmlns="urn:schemas-codeontime-com:data-aquarium">
      <field name="PatientBloodTest" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient Blood Test" readOnly="true" />
      <field name="DateTest" type="DateTime" allowNulls="false" dataFormatString="dd/MM/yyyy" label="Date Test" showInSummary="true" />
      <field name="PatientFK" type="Int32" allowNulls="false" label="Patient FK" showInSummary="true" />
      <field name="TreatmentFK" type="Int32" default="((0))" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="TreatmentPK" copy="TreatmentDateTreatment=DateTreatment, TreatmentPatientFK=PatientFK, PatientName=PatientName, " />
      </field>
      <field name="TreatmentPK" type="Int32" label="Treatment PK" readOnly="true" />
      <field name="TreatmentDateTreatment" type="DateTime" readOnly="true" dataFormatString="g" label="Treatment Date Treatment" />
      <field name="TreatmentPatientFK" type="Int32" readOnly="true" label="Treatment Patient FK" />
      <field name="BloodTestTypeFK" type="Int32" allowNulls="false" default="((0))" label="Blood Test Type FK" showInSummary="true">
        <items style="Lookup" dataController="BloodTestType" newDataView="createForm1" dataValueField="BloodTestTypePK" dataTextField="Description" copy="BloodTestTypeBloodTestCode=BloodTestCode" />
      </field>
      <field name="BloodTestTypeDescription" type="String" readOnly="true" label="Blood Test Type" length="50" />
      <field name="BloodTestTypeBloodTestCode" type="String" readOnly="true" label="Blood Test Code" length="5" />
      <field name="PatientName" type="String" readOnly="true" label="Name" length="100" />
      <field name="PatientPK" type="Int32" label="Patient PK" readOnly="true" />
      <field name="bHb" type="Decimal" allowNulls="false" default="((0))" label="Hb" showInSummary="true" />
      <field name="bFerritin" type="Int32" allowNulls="false" default="((0))" label="Ferritin" />
      <field name="bTsat" type="Decimal" allowNulls="false" default="((0))" label="T sat" />
      <field name="bEsa" type="Decimal" allowNulls="false" default="((0))" label="ESA /week" />
      <field name="cCalcium" type="Decimal" allowNulls="false" default="((0))" label="Calcium" />
      <field name="cPhosphate" type="Decimal" allowNulls="false" default="((0))" label="Phosphate" />
      <field name="cAlp" type="Decimal" allowNulls="false" default="((0))" label="ALP" />
      <field name="cIpth" type="Decimal" allowNulls="false" default="((0))" label="i PTH" />
      <field name="dAlbumin" type="Decimal" allowNulls="false" default="((0))" label="Albumin" />
      <field name="dPreCreat" type="Decimal" allowNulls="false" default="((0))" label="Pre D creat" />
      <field name="dRbs" type="Decimal" allowNulls="false" default="((0))" label="RBS" />
      <field name="eHbsAntigen" type="Decimal" allowNulls="false" default="((0))" label="HBs Antigen" />
      <field name="eHcv" type="Decimal" allowNulls="false" default="((0))" label="HCV" />
      <field name="eHiv" type="Decimal" allowNulls="false" default="((0))" label="HIV" />
      <field name="eHbsAntibody" type="Decimal" allowNulls="false" default="((0))" label="HBs Antibody" />
      <field name="eAlt" type="Decimal" allowNulls="false" default="((0))" label="ALT/AST" />
      <field name="eVascular" type="Decimal" allowNulls="false" default="((0))" label="Vascular Access" />
      <field name="eQb" type="Decimal" allowNulls="false" default="((0))" label="Qb" />
      <field name="eUrr" type="Decimal" allowNulls="false" default="((0))" label="URR /Kt/V" />
      <field name="fFeFumarate" type="String" allowNulls="false" default="('')" label="Fe Fumarate" length="50" />
      <field name="fBcomplex" type="String" allowNulls="false" default="('')" label="B complex" length="50" />
      <field name="fFolate" type="String" allowNulls="false" default="('')" label="Folate" length="50" />
      <field name="fVitC" type="String" allowNulls="false" default="('')" label="Vit C" length="50" />
      <field name="fCaco3" type="String" allowNulls="false" default="('')" label="CaCO 3" length="50" />
      <field name="fCalcitriol" type="String" allowNulls="false" default="('')" label="Calcitriol" length="50" />
      <field name="fRanitidine" type="String" allowNulls="false" default="('')" label="Ranitidine" length="50" />
      <field name="fSimvastatin" type="String" allowNulls="false" default="('')" label="Simvastatin" length="50" />
      <field name="fMixtard" type="String" allowNulls="false" default="('')" label="Mixtard" length="50" />
      <field name="gFrequency" type="String" allowNulls="false" default="('')" label="Frequency" length="50" />
      <field name="gQb" type="String" allowNulls="false" default="('')" label="Qb" length="50" />
      <field name="gQd" type="String" allowNulls="false" default="('')" label="Qd" length="50" />
      <field name="gDuration" type="String" allowNulls="false" default="('')" label="Duration" length="50" />
      <field name="gDialyser" type="String" allowNulls="false" default="('')" label="Dialyser" length="50" />
      <field name="gDialysate" type="String" allowNulls="false" default="('')" label="Dialysate Cal" length="50" />
      <field name="gHeparinLoad" type="String" allowNulls="false" default="('')" label="Heparin Load" length="50" />
      <field name="gHeparinMaintain" type="String" allowNulls="false" default="('')" label="Heparin Maintain" length="50" />
      <field name="gDryWeight" type="String" allowNulls="false" default="('')" label="Dry Weight" length="50" />
      <field name="hPlan" type="String" allowNulls="false" default="('')" label="Plan" length="50" />
      <field name="dTcholesterol" type="Decimal" allowNulls="false" default="((0))" label="T Cholesterol" />
      <field name="PatientBtdetail" type="DataView" label="Patient Btdetail">
        <dataView controller="PatientBtdetail" filterFields="PatientBtdetailFK" view="grid1" />
      </field>
    </fields>
    <views xmlns="urn:schemas-codeontime-com:data-aquarium">
      <view id="grid1" type="Grid" commandId="command1" label="Blood Test">
        <headerText />
        <dataFields>
          <dataField fieldName="DateTest" columns="20" dataFormatString="dd/MM/yyyy">
          </dataField>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentPK" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentDateTreatment" columns="20" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentPatientFK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="BloodTestTypeFK" aliasFieldName="BloodTestTypeDescription" />
          <dataField fieldName="PatientName" hidden="true">
          </dataField>
          <dataField fieldName="PatientPK" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="PatientFK" columns="15">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient Blood Test" tags="material-icon-mode-edit&#xD;&#xA;modal-max-lg">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient Blood Test" wizard="Type">
            <description />
            <dataFields>
              <dataField fieldName="DateTest" columns="20" textMode="Static" dataFormatString="dd/MM/yyyy">
              </dataField>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentPK" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentDateTreatment" columns="20" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentPatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="BloodTestTypeFK" aliasFieldName="BloodTestTypeDescription" />
              <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" hidden="true">
              </dataField>
              <dataField fieldName="PatientName" hidden="true">
              </dataField>
              <dataField fieldName="PatientPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="hPlan" columns="50" />
            </dataFields>
          </category>
          <category headerText="Detail" wizard="Detail" id="c8">
            <dataFields>
              <dataField fieldName="PatientBtdetail" columns="15" />
            </dataFields>
          </category>
          <category headerText="Anaemia management" tab="Anaemia" id="c2" flow="NewRow" wizard="Dr Review">
            <dataFields>
              <dataField fieldName="bHb" columns="15" />
              <dataField fieldName="bFerritin" columns="15" />
              <dataField fieldName="bTsat" columns="15" />
              <dataField fieldName="bEsa" columns="15" />
            </dataFields>
          </category>
          <category headerText="CKD/MBD" id="c3" tab="CKD/MBD" wizard="Dr Review">
            <dataFields>
              <dataField fieldName="cCalcium" columns="15" />
              <dataField fieldName="cPhosphate" columns="15" />
              <dataField fieldName="cAlp" columns="15" />
              <dataField fieldName="cIpth" columns="15" />
            </dataFields>
          </category>
          <category headerText="Nutritional" id="c4" tab="Nutritional" wizard="Dr Review">
            <dataFields>
              <dataField fieldName="dAlbumin" columns="15" />
              <dataField fieldName="dPreCreat" columns="15" />
              <dataField fieldName="dTcholesterol" columns="15" />
              <dataField fieldName="dRbs" columns="15" />
            </dataFields>
          </category>
          <category headerText="Infection control surveillance" id="c5" tab="Infection" wizard="Dr Review">
            <dataFields>
              <dataField fieldName="eHbsAntigen" columns="15" />
              <dataField fieldName="eHcv" columns="15" />
              <dataField fieldName="eHiv" columns="15" />
              <dataField fieldName="eHbsAntibody" columns="15" />
              <dataField fieldName="eAlt" columns="15" />
              <dataField fieldName="eVascular" columns="15" />
              <dataField fieldName="eQb" columns="15" />
              <dataField fieldName="eUrr" columns="15" />
            </dataFields>
          </category>
          <category headerText="Medications" id="c6" tab="Medications" wizard="Dr Review">
            <dataFields>
              <dataField fieldName="fFeFumarate" columns="50" />
              <dataField fieldName="fBcomplex" columns="50" />
              <dataField fieldName="fFolate" columns="50" />
              <dataField fieldName="fVitC" columns="50" />
              <dataField fieldName="fCaco3" columns="50" />
              <dataField fieldName="fCalcitriol" columns="50" />
              <dataField fieldName="fRanitidine" columns="50" />
              <dataField fieldName="fSimvastatin" columns="50" />
              <dataField fieldName="fMixtard" columns="50" />
            </dataFields>
          </category>
          <category headerText="HD prescriptioin" id="c7" tab="HD" wizard="Dr Review">
            <dataFields>
              <dataField fieldName="gFrequency" columns="50" />
              <dataField fieldName="gQb" columns="50" />
              <dataField fieldName="gQd" columns="50" />
              <dataField fieldName="gDuration" columns="50" />
              <dataField fieldName="gDialyser" columns="50" />
              <dataField fieldName="gDialysate" columns="50" />
              <dataField fieldName="gHeparinLoad" columns="50" />
              <dataField fieldName="gHeparinMaintain" columns="50" />
              <dataField fieldName="gDryWeight" columns="50" />
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Blood Test" tags="material-icon-note-add&#xD;&#xA;modal-max-lg">
        <headerText />
        <categories>
          <category id="c1" headerText="New Patient Blood Test">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="DateTest" columns="20">
              </dataField>
              <dataField fieldName="PatientFK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="BloodTestTypeFK" aliasFieldName="BloodTestTypeDescription" />
              <dataField fieldName="BloodTestTypeBloodTestCode" columns="5" hidden="true">
              </dataField>
              <dataField fieldName="PatientName" hidden="true">
              </dataField>
              <dataField fieldName="PatientPK" columns="15" hidden="true">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions xmlns="urn:schemas-codeontime-com:data-aquarium">
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action commandName="Report" id="a100" headerText="Print DR Form">
          <data>_controller=VwBloodTestDr
_view=editForm1 
_template=VwBloodTestDr_BloodTestDrPrint.rdlc 
_sortExpression=Name
PatientBloodTest=PatientBloodTest</data>
        </action>
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
        <action commandName="Select" commandArgument="editForm1" whenLastCommandName="Update" id="a101" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules xmlns="urn:schemas-codeontime-com:data-aquarium">
    </businessRules>
  </dataController>
  <dataController name="PatientDebtPayment" label="PatientDebtPayment" conflictDetection="overwriteChanges">
    <commands xmlns="urn:schemas-codeontime-com:data-aquarium">
      <command id="command1" type="Text">
        <text>
select
	"Patient"."PatientPK" "PatientPK"
	,"Patient"."NoReference" "NoReference"
	,"Patient"."Status" "Status"
	,"Patient"."DateJoined" "DateJoined"
	,"Patient"."DateCeased" "DateCeased"
	,"Patient"."ReasonCeasedFK" "ReasonCeasedFK"
	,"ReasonCeasedFK"."Description" "ReasonCeasedFkdescription"
	,"Patient"."Name" "Name"
	,"Patient"."PhotoImg" "PhotoImg"
	,"Patient"."PrvMedicalAttach" "PrvMedicalAttach"
	,"Patient"."DateBirth" "DateBirth"
	,"Patient"."Gender" "Gender"
	,"Patient"."NoNRIC" "NoNric"
	,"Patient"."NoOldIC" "NoOldIc"
	,"Patient"."TypeOtherIC" "TypeOtherIc"
	,"Patient"."NoOtherIC" "NoOtherIc"
	,"Patient"."RaceFK" "RaceFK"
	,"RaceFK"."RaceCode" "RaceFkraceCode"
	,"Patient"."ReligionFK" "ReligionFK"
	,"ReligionFK"."ReligionCode" "ReligionFkreligionCode"
	,"Patient"."CorrAddrs1" "CorrAddrs1"
	,"Patient"."CorrAddrs2" "CorrAddrs2"
	,"Patient"."CorrPostCode" "CorrPostCode"
	,"Patient"."CorrCityFK" "CorrCityFK"
	,"CorrCityFK"."CityCode" "CorrCityFkcityCode"
	,"Patient"."CorrStateFK" "CorrStateFK"
	,"CorrStateFK"."StateCode" "CorrStateFkstateCode"
	,"Patient"."CorrCountryFK" "CorrCountryFK"
	,"CorrCountryFK"."CountryCode" "CorrCountryFkcountryCode"
	,"Patient"."NoTelHome" "NoTelHome"
	,"Patient"."NoTelOffice" "NoTelOffice"
	,"Patient"."NoTelMobile" "NoTelMobile"
	,"Patient"."PatientEmail" "PatientEmail"
	,"Patient"."NOKName" "Nokname"
	,"Patient"."NOKRelationshipFK" "NokrelationshipFK"
	,"NOKRelationshipFK"."RelationshipCode" "NokrelationshipFkrelationshipCode"
	,"Patient"."NOKAddrs1" "Nokaddrs1"
	,"Patient"."NOKAddrs2" "Nokaddrs2"
	,"Patient"."NOKPostCode" "NokpostCode"
	,"Patient"."NOKCityFK" "NokcityFK"
	,"NOKCityFK"."CityCode" "NokcityFkcityCode"
	,"Patient"."NOKStateFK" "NokstateFK"
	,"NOKStateFK"."StateCode" "NokstateFkstateCode"
	,"Patient"."NOKCountryFK" "NokcountryFK"
	,"NOKCountryFK"."CountryCode" "NokcountryFkcountryCode"
	,"Patient"."NOKTelHome" "NoktelHome"
	,"Patient"."NOKTelOffice" "NoktelOffice"
	,"Patient"."NOKTelMobile" "NoktelMobile"
	,"Patient"."VascularTypeFK" "VascularTypeFK"
	,"VascularTypeFK"."VascularCode" "VascularTypeFkvascularCode"
	,"Patient"."DateVascular" "DateVascular"
	,"Patient"."DialysisCenterFK" "DialysisCenterFK"
	,"DialysisCenterFK"."Code" "DialysisCenterFkcode"
	,"Patient"."UserCreated" "UserCreated"
	,"Patient"."DateCreated" "DateCreated"
	,"Patient"."UserModified" "UserModified"
	,"Patient"."DateModified" "DateModified"
from "dbo"."Patient" "Patient"
	left join "dbo"."ReasonCeased" "ReasonCeasedFK" on "Patient"."ReasonCeasedFK" = "ReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Race" "RaceFK" on "Patient"."RaceFK" = "RaceFK"."RacePK"
	left join "dbo"."Religion" "ReligionFK" on "Patient"."ReligionFK" = "ReligionFK"."ReligionPK"
	left join "dbo"."City" "CorrCityFK" on "Patient"."CorrCityFK" = "CorrCityFK"."CityPK"
	left join "dbo"."State" "CorrStateFK" on "Patient"."CorrStateFK" = "CorrStateFK"."StatePK"
	left join "dbo"."Country" "CorrCountryFK" on "Patient"."CorrCountryFK" = "CorrCountryFK"."CountryPK"
	left join "dbo"."Relationship" "NOKRelationshipFK" on "Patient"."NOKRelationshipFK" = "NOKRelationshipFK"."RelationshipPK"
	left join "dbo"."City" "NOKCityFK" on "Patient"."NOKCityFK" = "NOKCityFK"."CityPK"
	left join "dbo"."State" "NOKStateFK" on "Patient"."NOKStateFK" = "NOKStateFK"."StatePK"
	left join "dbo"."Country" "NOKCountryFK" on "Patient"."NOKCountryFK" = "NOKCountryFK"."CountryPK"
	left join "dbo"."VascularType" "VascularTypeFK" on "Patient"."VascularTypeFK" = "VascularTypeFK"."VascularTypePK"
	left join "dbo"."DialysisCenter" "DialysisCenterFK" on "Patient"."DialysisCenterFK" = "DialysisCenterFK"."DialysisCenterPK"
</text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text>select @@identity</text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields xmlns="urn:schemas-codeontime-com:data-aquarium">
      <field name="PatientPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient PK" readOnly="true" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="30" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('A')" label="Status" length="1" showInSummary="true" />
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="g" default="(getdate())" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" dataFormatString="g" label="Date Ceased" showInSummary="true" />
      <field name="ReasonCeasedFK" type="Int32" label="Reason Ceased FK" showInSummary="true">
        <items style="Lookup" dataController="ReasonCeased" newDataView="createForm1" dataValueField="ReasonCeasedPK" dataTextField="Description" />
      </field>
      <field name="ReasonCeasedFkdescription" type="String" readOnly="true" label="Reason Ceased FK Description" length="50" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="PhotoImg" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo Img" />
      <field name="PrvMedicalAttach" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPrvMedicalAttach" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Prv Medical Attach" />
      <field name="DateBirth" type="DateTime" allowNulls="false" label="Date Birth" />
      <field name="Gender" type="String" allowNulls="false" default="('M')" label="Gender" length="1" />
      <field name="NoNric" type="String" allowNulls="false" default="('')" label="No NRIC" length="15" />
      <field name="NoOldIc" type="String" allowNulls="false" default="('')" label="No Old IC" length="15" />
      <field name="TypeOtherIc" type="String" allowNulls="false" default="('N')" label="Type Other IC" length="1" />
      <field name="NoOtherIc" type="String" allowNulls="false" default="('')" label="No Other IC" length="15" />
      <field name="RaceFK" type="Int32" label="Race FK">
        <items style="Lookup" dataController="Race" newDataView="createForm1" dataValueField="RacePK" dataTextField="RaceCode" />
      </field>
      <field name="RaceFkraceCode" type="String" readOnly="true" label="Race FK Race Code" length="10" />
      <field name="ReligionFK" type="Int32" label="Religion FK">
        <items style="Lookup" dataController="Religion" newDataView="createForm1" dataValueField="ReligionPK" dataTextField="ReligionCode" />
      </field>
      <field name="ReligionFkreligionCode" type="String" readOnly="true" label="Religion FK Religion Code" length="10" />
      <field name="CorrAddrs1" type="String" allowNulls="false" default="('')" label="Corr Addrs1" length="100" />
      <field name="CorrAddrs2" type="String" allowNulls="false" default="('')" label="Corr Addrs2" length="100" />
      <field name="CorrPostCode" type="String" allowNulls="false" default="('')" label="Corr Post Code" length="15" />
      <field name="CorrCityFK" type="Int32" label="Corr City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="CorrCityFkcityCode" type="String" readOnly="true" label="Corr City FK City Code" length="10" />
      <field name="CorrStateFK" type="Int32" label="Corr State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="CorrStateFkstateCode" type="String" readOnly="true" label="Corr State FK State Code" length="10" />
      <field name="CorrCountryFK" type="Int32" label="Corr Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="CorrCountryFkcountryCode" type="String" readOnly="true" label="Corr Country FK Country Code" length="10" />
      <field name="NoTelHome" type="String" allowNulls="false" default="('')" label="No Tel Home" length="15" />
      <field name="NoTelOffice" type="String" allowNulls="false" default="('')" label="No Tel Office" length="15" />
      <field name="NoTelMobile" type="String" allowNulls="false" default="('')" label="No Tel Mobile" length="15" />
      <field name="PatientEmail" type="String" allowNulls="false" default="('')" label="Patient Email" length="100" />
      <field name="Nokname" type="String" allowNulls="false" default="('')" label="NOK Name" length="100" />
      <field name="NokrelationshipFK" type="Int32" label="NOK Relationship FK">
        <items style="Lookup" dataController="Relationship" newDataView="createForm1" dataValueField="RelationshipPK" dataTextField="RelationshipCode" />
      </field>
      <field name="NokrelationshipFkrelationshipCode" type="String" readOnly="true" label="NOK Relationship FK Relationship Code" length="10" />
      <field name="Nokaddrs1" type="String" allowNulls="false" default="('')" label="NOK Addrs1" length="100" />
      <field name="Nokaddrs2" type="String" allowNulls="false" default="('')" label="NOK Addrs2" length="100" />
      <field name="NokpostCode" type="String" allowNulls="false" default="('')" label="NOK Post Code" length="15" />
      <field name="NokcityFK" type="Int32" label="NOK City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="NokcityFkcityCode" type="String" readOnly="true" label="NOK City FK City Code" length="10" />
      <field name="NokstateFK" type="Int32" label="NOK State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="NokstateFkstateCode" type="String" readOnly="true" label="NOK State FK State Code" length="10" />
      <field name="NokcountryFK" type="Int32" label="NOK Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="NokcountryFkcountryCode" type="String" readOnly="true" label="NOK Country FK Country Code" length="10" />
      <field name="NoktelHome" type="String" allowNulls="false" default="('')" label="NOK Tel Home" length="15" />
      <field name="NoktelOffice" type="String" allowNulls="false" default="('')" label="NOK Tel Office" length="15" />
      <field name="NoktelMobile" type="String" allowNulls="false" default="('')" label="NOK Tel Mobile" length="15" />
      <field name="VascularTypeFK" type="Int32" label="Vascular Type FK">
        <items style="Lookup" dataController="VascularType" newDataView="createForm1" dataValueField="VascularTypePK" dataTextField="VascularCode" />
      </field>
      <field name="VascularTypeFkvascularCode" type="String" readOnly="true" label="Vascular Type FK Vascular Code" length="10" />
      <field name="DateVascular" type="DateTime" dataFormatString="g" label="Date Vascular" />
      <field name="DialysisCenterFK" type="Int32" label="Dialysis Center FK">
        <items style="Lookup" dataController="DialysisCenter" newDataView="createForm1" dataValueField="DialysisCenterPK" dataTextField="Code" />
      </field>
      <field name="DialysisCenterFkcode" type="String" readOnly="true" label="Dialysis Center FK Code" length="10" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
    </fields>
    <views xmlns="urn:schemas-codeontime-com:data-aquarium">
      <view id="grid1" type="Grid" commandId="command1" label="Patient1" tags="view-style-cards">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="PhotoImg" columns="15" />
          <dataField fieldName="NoNric" columns="15" />
          <dataField fieldName="PatientPK" columns="15">
          </dataField>
        </dataFields>
      </view>
    </views>
    <actions xmlns="urn:schemas-codeontime-com:data-aquarium">
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a3" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="PatientExpenses" label="PatientExpenses" conflictDetection="overwriteChanges">
    <commands xmlns="urn:schemas-codeontime-com:data-aquarium">
      <command id="command1" type="Text">
        <text>
select
	"Patient"."PatientPK" "PatientPK"
	,"Patient"."NoReference" "NoReference"
	,"Patient"."Status" "Status"
	,"Patient"."DateJoined" "DateJoined"
	,"Patient"."DateCeased" "DateCeased"
	,"Patient"."ReasonCeasedFK" "ReasonCeasedFK"
	,"ReasonCeasedFK"."Description" "ReasonCeasedFkdescription"
	,"Patient"."Name" "Name"
	,"Patient"."PhotoImg" "PhotoImg"
	,"Patient"."PrvMedicalAttach" "PrvMedicalAttach"
	,"Patient"."DateBirth" "DateBirth"
	,"Patient"."Gender" "Gender"
	,"Patient"."NoNRIC" "NoNric"
	,"Patient"."NoOldIC" "NoOldIc"
	,"Patient"."TypeOtherIC" "TypeOtherIc"
	,"Patient"."NoOtherIC" "NoOtherIc"
	,"Patient"."RaceFK" "RaceFK"
	,"RaceFK"."RaceCode" "RaceFkraceCode"
	,"Patient"."ReligionFK" "ReligionFK"
	,"ReligionFK"."ReligionCode" "ReligionFkreligionCode"
	,"Patient"."CorrAddrs1" "CorrAddrs1"
	,"Patient"."CorrAddrs2" "CorrAddrs2"
	,"Patient"."CorrPostCode" "CorrPostCode"
	,"Patient"."CorrCityFK" "CorrCityFK"
	,"CorrCityFK"."CityCode" "CorrCityFkcityCode"
	,"Patient"."CorrStateFK" "CorrStateFK"
	,"CorrStateFK"."StateCode" "CorrStateFkstateCode"
	,"Patient"."CorrCountryFK" "CorrCountryFK"
	,"CorrCountryFK"."CountryCode" "CorrCountryFkcountryCode"
	,"Patient"."NoTelHome" "NoTelHome"
	,"Patient"."NoTelOffice" "NoTelOffice"
	,"Patient"."NoTelMobile" "NoTelMobile"
	,"Patient"."PatientEmail" "PatientEmail"
	,"Patient"."NOKName" "Nokname"
	,"Patient"."NOKRelationshipFK" "NokrelationshipFK"
	,"NOKRelationshipFK"."RelationshipCode" "NokrelationshipFkrelationshipCode"
	,"Patient"."NOKAddrs1" "Nokaddrs1"
	,"Patient"."NOKAddrs2" "Nokaddrs2"
	,"Patient"."NOKPostCode" "NokpostCode"
	,"Patient"."NOKCityFK" "NokcityFK"
	,"NOKCityFK"."CityCode" "NokcityFkcityCode"
	,"Patient"."NOKStateFK" "NokstateFK"
	,"NOKStateFK"."StateCode" "NokstateFkstateCode"
	,"Patient"."NOKCountryFK" "NokcountryFK"
	,"NOKCountryFK"."CountryCode" "NokcountryFkcountryCode"
	,"Patient"."NOKTelHome" "NoktelHome"
	,"Patient"."NOKTelOffice" "NoktelOffice"
	,"Patient"."NOKTelMobile" "NoktelMobile"
	,"Patient"."VascularTypeFK" "VascularTypeFK"
	,"VascularTypeFK"."VascularCode" "VascularTypeFkvascularCode"
	,"Patient"."DateVascular" "DateVascular"
	,"Patient"."DialysisCenterFK" "DialysisCenterFK"
	,"DialysisCenterFK"."Code" "DialysisCenterFkcode"
	,"Patient"."UserCreated" "UserCreated"
	,"Patient"."DateCreated" "DateCreated"
	,"Patient"."UserModified" "UserModified"
	,"Patient"."DateModified" "DateModified"
from "dbo"."Patient" "Patient"
	left join "dbo"."ReasonCeased" "ReasonCeasedFK" on "Patient"."ReasonCeasedFK" = "ReasonCeasedFK"."ReasonCeasedPK"
	left join "dbo"."Race" "RaceFK" on "Patient"."RaceFK" = "RaceFK"."RacePK"
	left join "dbo"."Religion" "ReligionFK" on "Patient"."ReligionFK" = "ReligionFK"."ReligionPK"
	left join "dbo"."City" "CorrCityFK" on "Patient"."CorrCityFK" = "CorrCityFK"."CityPK"
	left join "dbo"."State" "CorrStateFK" on "Patient"."CorrStateFK" = "CorrStateFK"."StatePK"
	left join "dbo"."Country" "CorrCountryFK" on "Patient"."CorrCountryFK" = "CorrCountryFK"."CountryPK"
	left join "dbo"."Relationship" "NOKRelationshipFK" on "Patient"."NOKRelationshipFK" = "NOKRelationshipFK"."RelationshipPK"
	left join "dbo"."City" "NOKCityFK" on "Patient"."NOKCityFK" = "NOKCityFK"."CityPK"
	left join "dbo"."State" "NOKStateFK" on "Patient"."NOKStateFK" = "NOKStateFK"."StatePK"
	left join "dbo"."Country" "NOKCountryFK" on "Patient"."NOKCountryFK" = "NOKCountryFK"."CountryPK"
	left join "dbo"."VascularType" "VascularTypeFK" on "Patient"."VascularTypeFK" = "VascularTypeFK"."VascularTypePK"
	left join "dbo"."DialysisCenter" "DialysisCenterFK" on "Patient"."DialysisCenterFK" = "DialysisCenterFK"."DialysisCenterPK"
</text>
      </command>
      <command id="PatientPKIdentityCommand" type="Text" event="Inserted">
        <text>select @@identity</text>
        <output>
          <fieldOutput fieldName="PatientPK" />
        </output>
      </command>
    </commands>
    <fields xmlns="urn:schemas-codeontime-com:data-aquarium">
      <field name="PatientPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Patient PK" readOnly="true" />
      <field name="NoReference" type="String" allowNulls="false" default="('')" label="No Reference" length="30" showInSummary="true" />
      <field name="Status" type="String" allowNulls="false" default="('A')" label="Status" length="1" showInSummary="true" />
      <field name="DateJoined" type="DateTime" allowNulls="false" dataFormatString="g" default="(getdate())" label="Date Joined" showInSummary="true" />
      <field name="DateCeased" type="DateTime" dataFormatString="g" label="Date Ceased" showInSummary="true" />
      <field name="ReasonCeasedFK" type="Int32" label="Reason Ceased FK" showInSummary="true">
        <items style="Lookup" dataController="ReasonCeased" newDataView="createForm1" dataValueField="ReasonCeasedPK" dataTextField="Description" />
      </field>
      <field name="ReasonCeasedFkdescription" type="String" readOnly="true" label="Reason Ceased FK Description" length="50" />
      <field name="Name" type="String" allowNulls="false" default="('')" label="Name" length="100" />
      <field name="PhotoImg" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPhotoImg" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Photo Img" />
      <field name="PrvMedicalAttach" type="Byte[]" onDemand="true" sourceFields="PatientPK" onDemandHandler="PatientPrvMedicalAttach" onDemandStyle="Thumbnail" allowQBE="false" allowSorting="false" label="Prv Medical Attach" />
      <field name="DateBirth" type="DateTime" allowNulls="false" label="Date Birth" />
      <field name="Gender" type="String" allowNulls="false" default="('M')" label="Gender" length="1" />
      <field name="NoNric" type="String" allowNulls="false" default="('')" label="No NRIC" length="15" />
      <field name="NoOldIc" type="String" allowNulls="false" default="('')" label="No Old IC" length="15" />
      <field name="TypeOtherIc" type="String" allowNulls="false" default="('N')" label="Type Other IC" length="1" />
      <field name="NoOtherIc" type="String" allowNulls="false" default="('')" label="No Other IC" length="15" />
      <field name="RaceFK" type="Int32" label="Race FK">
        <items style="Lookup" dataController="Race" newDataView="createForm1" dataValueField="RacePK" dataTextField="RaceCode" />
      </field>
      <field name="RaceFkraceCode" type="String" readOnly="true" label="Race FK Race Code" length="10" />
      <field name="ReligionFK" type="Int32" label="Religion FK">
        <items style="Lookup" dataController="Religion" newDataView="createForm1" dataValueField="ReligionPK" dataTextField="ReligionCode" />
      </field>
      <field name="ReligionFkreligionCode" type="String" readOnly="true" label="Religion FK Religion Code" length="10" />
      <field name="CorrAddrs1" type="String" allowNulls="false" default="('')" label="Corr Addrs1" length="100" />
      <field name="CorrAddrs2" type="String" allowNulls="false" default="('')" label="Corr Addrs2" length="100" />
      <field name="CorrPostCode" type="String" allowNulls="false" default="('')" label="Corr Post Code" length="15" />
      <field name="CorrCityFK" type="Int32" label="Corr City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="CorrCityFkcityCode" type="String" readOnly="true" label="Corr City FK City Code" length="10" />
      <field name="CorrStateFK" type="Int32" label="Corr State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="CorrStateFkstateCode" type="String" readOnly="true" label="Corr State FK State Code" length="10" />
      <field name="CorrCountryFK" type="Int32" label="Corr Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="CorrCountryFkcountryCode" type="String" readOnly="true" label="Corr Country FK Country Code" length="10" />
      <field name="NoTelHome" type="String" allowNulls="false" default="('')" label="No Tel Home" length="15" />
      <field name="NoTelOffice" type="String" allowNulls="false" default="('')" label="No Tel Office" length="15" />
      <field name="NoTelMobile" type="String" allowNulls="false" default="('')" label="No Tel Mobile" length="15" />
      <field name="PatientEmail" type="String" allowNulls="false" default="('')" label="Patient Email" length="100" />
      <field name="Nokname" type="String" allowNulls="false" default="('')" label="NOK Name" length="100" />
      <field name="NokrelationshipFK" type="Int32" label="NOK Relationship FK">
        <items style="Lookup" dataController="Relationship" newDataView="createForm1" dataValueField="RelationshipPK" dataTextField="RelationshipCode" />
      </field>
      <field name="NokrelationshipFkrelationshipCode" type="String" readOnly="true" label="NOK Relationship FK Relationship Code" length="10" />
      <field name="Nokaddrs1" type="String" allowNulls="false" default="('')" label="NOK Addrs1" length="100" />
      <field name="Nokaddrs2" type="String" allowNulls="false" default="('')" label="NOK Addrs2" length="100" />
      <field name="NokpostCode" type="String" allowNulls="false" default="('')" label="NOK Post Code" length="15" />
      <field name="NokcityFK" type="Int32" label="NOK City FK">
        <items style="Lookup" dataController="City" newDataView="createForm1" dataValueField="CityPK" dataTextField="CityCode" />
      </field>
      <field name="NokcityFkcityCode" type="String" readOnly="true" label="NOK City FK City Code" length="10" />
      <field name="NokstateFK" type="Int32" label="NOK State FK">
        <items style="Lookup" dataController="State" newDataView="createForm1" dataValueField="StatePK" dataTextField="StateCode" />
      </field>
      <field name="NokstateFkstateCode" type="String" readOnly="true" label="NOK State FK State Code" length="10" />
      <field name="NokcountryFK" type="Int32" label="NOK Country FK">
        <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryPK" dataTextField="CountryCode" />
      </field>
      <field name="NokcountryFkcountryCode" type="String" readOnly="true" label="NOK Country FK Country Code" length="10" />
      <field name="NoktelHome" type="String" allowNulls="false" default="('')" label="NOK Tel Home" length="15" />
      <field name="NoktelOffice" type="String" allowNulls="false" default="('')" label="NOK Tel Office" length="15" />
      <field name="NoktelMobile" type="String" allowNulls="false" default="('')" label="NOK Tel Mobile" length="15" />
      <field name="VascularTypeFK" type="Int32" label="Vascular Type FK">
        <items style="Lookup" dataController="VascularType" newDataView="createForm1" dataValueField="VascularTypePK" dataTextField="VascularCode" />
      </field>
      <field name="VascularTypeFkvascularCode" type="String" readOnly="true" label="Vascular Type FK Vascular Code" length="10" />
      <field name="DateVascular" type="DateTime" dataFormatString="g" label="Date Vascular" />
      <field name="DialysisCenterFK" type="Int32" label="Dialysis Center FK">
        <items style="Lookup" dataController="DialysisCenter" newDataView="createForm1" dataValueField="DialysisCenterPK" dataTextField="Code" />
      </field>
      <field name="DialysisCenterFkcode" type="String" readOnly="true" label="Dialysis Center FK Code" length="10" />
      <field name="UserCreated" type="String" allowNulls="false" default="('')" label="User Created" length="20" />
      <field name="DateCreated" type="DateTime" dataFormatString="g" label="Date Created" />
      <field name="UserModified" type="String" allowNulls="false" default="('')" label="User Modified" length="20" />
      <field name="DateModified" type="DateTime" dataFormatString="g" label="Date Modified" />
      <field name="ExpensesForPatient" type="DataView" label="Expenses For Patient">
        <dataView controller="ExpensesForPatient" view="grid1" filterFields="TreatmentfkPatientfk" />
      </field>
      <field name="Payments" type="DataView" label="Payments">
        <dataView controller="Payments" view="grid1" filterFields="PatientFK" />
      </field>
      <field name="ExpensesForPatient1" type="DataView" label="Expenses For Patient 1">
        <dataView controller="ExpensesForPatient1" view="grid1" />
      </field>
    </fields>
    <views xmlns="urn:schemas-codeontime-com:data-aquarium">
      <view id="grid1" type="Grid" commandId="command1" label="Patient1" tags="view-style-cards">
        <headerText />
        <dataFields>
          <dataField fieldName="Name" />
          <dataField fieldName="PhotoImg" columns="15" />
          <dataField fieldName="NoNric" columns="15" />
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Patient1" tags="modal-max-xxl">
        <headerText />
        <categories>
          <category id="c1" headerText="Patient1">
            <description />
            <dataFields>
              <dataField fieldName="Name" />
              <dataField fieldName="PhotoImg" columns="15" />
              <dataField fieldName="NoNric" columns="15" />
            </dataFields>
          </category>
          <category headerText="Pending" id="c2" flow="NewRow" tab="Expenses">
            <dataFields>
              <dataField fieldName="ExpensesForPatient" columns="15" />
            </dataFields>
          </category>
          <category headerText="Expenses (Paid)" id="c4" tab="Expenses (Paid)">
            <dataFields>
              <dataField fieldName="ExpensesForPatient1" columns="15" />
            </dataFields>
          </category>
          <category headerText="Payments" tab="Payments" id="c3">
            <dataFields>
              <dataField fieldName="Payments" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Patient1">
        <headerText>$DefaultCreateViewDescription</headerText>
        <categories>
          <category id="c1" headerText="New Patient1">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="NoReference" columns="30" />
              <dataField fieldName="Status" columns="1" />
              <dataField fieldName="DateJoined" columns="20" />
              <dataField fieldName="DateCeased" columns="20" />
              <dataField fieldName="ReasonCeasedFK" aliasFieldName="ReasonCeasedFkdescription" />
              <dataField fieldName="Name" />
              <dataField fieldName="PhotoImg" columns="15" />
              <dataField fieldName="PrvMedicalAttach" columns="15" />
              <dataField fieldName="DateBirth" columns="10" />
              <dataField fieldName="Gender" columns="1" />
              <dataField fieldName="NoNric" columns="15" />
              <dataField fieldName="NoOldIc" columns="15" />
              <dataField fieldName="TypeOtherIc" columns="1" />
              <dataField fieldName="NoOtherIc" columns="15" />
              <dataField fieldName="RaceFK" aliasFieldName="RaceFkraceCode" />
              <dataField fieldName="ReligionFK" aliasFieldName="ReligionFkreligionCode" />
              <dataField fieldName="CorrAddrs1" />
              <dataField fieldName="CorrAddrs2" />
              <dataField fieldName="CorrPostCode" columns="15" />
              <dataField fieldName="CorrCityFK" aliasFieldName="CorrCityFkcityCode" />
              <dataField fieldName="CorrStateFK" aliasFieldName="CorrStateFkstateCode" />
              <dataField fieldName="CorrCountryFK" aliasFieldName="CorrCountryFkcountryCode" />
              <dataField fieldName="NoTelHome" columns="15" />
              <dataField fieldName="NoTelOffice" columns="15" />
              <dataField fieldName="NoTelMobile" columns="15" />
              <dataField fieldName="PatientEmail" />
              <dataField fieldName="Nokname" />
              <dataField fieldName="NokrelationshipFK" aliasFieldName="NokrelationshipFkrelationshipCode" />
              <dataField fieldName="Nokaddrs1" />
              <dataField fieldName="Nokaddrs2" />
              <dataField fieldName="NokpostCode" columns="15" />
              <dataField fieldName="NokcityFK" aliasFieldName="NokcityFkcityCode" />
              <dataField fieldName="NokstateFK" aliasFieldName="NokstateFkstateCode" />
              <dataField fieldName="NokcountryFK" aliasFieldName="NokcountryFkcountryCode" />
              <dataField fieldName="NoktelHome" columns="15" />
              <dataField fieldName="NoktelOffice" columns="15" />
              <dataField fieldName="NoktelMobile" columns="15" />
              <dataField fieldName="VascularTypeFK" aliasFieldName="VascularTypeFkvascularCode" />
              <dataField fieldName="DateVascular" columns="20" />
              <dataField fieldName="DialysisCenterFK" aliasFieldName="DialysisCenterFkcode" />
              <dataField fieldName="UserCreated" columns="20" />
              <dataField fieldName="DateCreated" columns="20" />
              <dataField fieldName="UserModified" columns="20" />
              <dataField fieldName="DateModified" columns="20" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions xmlns="urn:schemas-codeontime-com:data-aquarium">
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a3" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
  </dataController>
  <dataController name="ExpensesForPatient" label="ExpensesForPatient" conflictDetection="overwriteChanges">
    <commands xmlns="urn:schemas-codeontime-com:data-aquarium">
      <command id="command1" type="Text">
        <text>
select
	"Expenses"."ExpensesPK" "ExpensesPK"
	,"Expenses"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFK"."Status" "TreatmentfkStatus"
	,"TreatmentFK"."PatientFK" "TreatmentfkPatientfk"
	,"TreatmentFKDialysisMachineFK"."Description" "TreatmentfkdialysismachinefkDescription"
	,"TreatmentFKPatientFK"."Name" "TreatmentfkpatientfkName"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
	,"Expenses"."ExpenseTypeFK" "ExpenseTypeFK"
	,"ExpenseTypeFK"."Description" "ExpenseTypeFkdescription"
	,"Expenses"."ExpenseAmount" "ExpenseAmount"
	,"Expenses"."Quantity" "Quantity"
	,"Expenses"."PaymentType" "PaymentType"
	,"Expenses"."SponsorFK" "SponsorFK"
	,"Sponsor"."SponsorPK" "SponsorPK"
	,"Sponsor"."Code" "SponsorCode"
	,"Sponsor"."Name" "SponsorName"
	,"Expenses"."AmountPaid" "AmountPaid"
from "dbo"."Expenses" "Expenses"
	left join "dbo"."Treatment" "TreatmentFK" on "Expenses"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."DialysisMachine" "TreatmentFKDialysisMachineFK" on "TreatmentFK"."DialysisMachineFK" = "TreatmentFKDialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
	left join "dbo"."ExpenseType" "ExpenseTypeFK" on "Expenses"."ExpenseTypeFK" = "ExpenseTypeFK"."ExpenseTypePK"
	left join "dbo"."Sponsor" "Sponsor" on "Expenses"."SponsorFK" = "Sponsor"."SponsorPK"
</text>
      </command>
      <command id="ExpensesPKIdentityCommand" type="Text" event="Inserted">
        <text>select @@identity</text>
        <output>
          <fieldOutput fieldName="ExpensesPK" />
        </output>
      </command>
    </commands>
    <fields xmlns="urn:schemas-codeontime-com:data-aquarium">
      <field name="ExpensesPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Expenses PK" readOnly="true" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" copy="TreatmentfkStatus=Status, TreatmentfkPatientfk=PatientFK, TreatmentfkdialysismachinefkDescription=DialysismachinefkDescription, TreatmentfkpatientfkName=PatientName, TreatmentFkshiftFkdescription=ShiftFkdescription" />
      </field>
      <field name="TreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Treatment Date" />
      <field name="TreatmentfkStatus" type="String" readOnly="true" label="Treatment Status" length="1" />
      <field name="TreatmentfkPatientfk" type="Int32" readOnly="true" label="Treatmentfk Patientfk" />
      <field name="TreatmentfkdialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="TreatmentfkpatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Treatment Shift" length="50" />
      <field name="ExpenseTypeFK" type="Int32" label="Expense Type FK" showInSummary="true">
        <items style="Lookup" dataController="ExpenseType" newDataView="createForm1" dataValueField="ExpenseTypePK" dataTextField="Description" />
      </field>
      <field name="ExpenseTypeFkdescription" type="String" readOnly="true" label="Expenses Type" length="50" />
      <field name="ExpenseAmount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Expense Amount" showInSummary="true" causesCalculate="true" />
      <field name="Quantity" type="Int32" allowNulls="false" default="((0))" label="Quantity" showInSummary="true" causesCalculate="true" />
      <field name="Total" type="Decimal" readOnly="true" dataFormatString="c" label="Total" computed="true" showInSummary="true" causesCalculate="true">
        <formula>Expenses.ExpenseAmount * Expenses.Quantity</formula>
      </field>
      <field name="PaymentType" type="String" allowNulls="false" default="('')" label="Payment Type" length="1">
        <items style="DropDownList">
          <item value="S" text="SPONSOR" />
          <item value="I" text="INDIVIDUAL" />
        </items>
      </field>
      <field name="SponsorFK" type="Int32" allowNulls="false" default="((0))" label="Sponsor FK">
        <items style="Lookup" dataController="Sponsor" newDataView="createForm1" dataValueField="SponsorPK" dataTextField="Name" copy="SponsorPK=SponsorPK, SponsorCode=Code" />
      </field>
      <field name="SponsorPK" type="Int32" label="Sponsor PK" readOnly="true" />
      <field name="SponsorCode" type="String" readOnly="true" label="Sponsor Code" length="10" />
      <field name="SponsorName" type="String" readOnly="true" label="Sponsor Name" length="100" />
      <field name="AmountPaid" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Paid" />
    </fields>
    <views xmlns="urn:schemas-codeontime-com:data-aquarium">
      <view id="grid1" type="Grid" commandId="command1" label="Expenses" tags="view-style-grid" filter="PaymentType = 'I'&#xD;&#xA;AND &#xD;&#xA;ExpenseAmount &lt;&gt; AmountPaid&#xD;&#xA;AND&#xD;&#xA;(@ContextFields_SelectedPatientFk is null OR TreatmentfkPatientfk =  @ContextFields_SelectedPatientFk) &#xD;&#xA;AND&#xD;&#xA;(@ContextFields_SelectedPatientFk is null OR ExpensesPK NOT IN (select ExpensesFk FROM PaymentDtl))&#xD;&#xA;">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" dataFormatString="dd/MM/yyyy" columns="10">
          </dataField>
          <dataField fieldName="TreatmentfkStatus" columns="1" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentfkPatientfk" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentfkpatientfkName" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" hidden="true">
          </dataField>
          <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
          <dataField fieldName="ExpenseAmount" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="Quantity" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="Total" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="PaymentType" columns="1" hidden="true">
          </dataField>
          <dataField fieldName="AmountPaid" columns="15" aggregate="Sum">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Expenses" tags="material-icon-mode-edit">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Treatment Info">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" textMode="Static">
              </dataField>
              <dataField fieldName="TreatmentfkStatus" columns="1" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentfkPatientfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorName">
                <visibility>
                  <expression test="[PaymentType] == 'S'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="SponsorPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="SponsorCode" columns="10" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Expenses" id="c2">
            <dataFields>
              <dataField fieldName="PaymentType" columns="1" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" textMode="Static">
              </dataField>
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="Quantity" columns="15" />
              <dataField fieldName="Total" columns="15" />
              <dataField fieldName="AmountPaid" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Expenses" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Expenses">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkStatus" columns="1" />
              <dataField fieldName="TreatmentfkPatientfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="Quantity" columns="15" />
              <dataField fieldName="Total" columns="15" />
              <dataField fieldName="PaymentType" columns="1" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorName">
                <visibility>
                  <expression test="[PaymentType] == 'S'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="SponsorPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="SponsorCode" columns="10" hidden="true">
              </dataField>
              <dataField fieldName="AmountPaid" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions xmlns="urn:schemas-codeontime-com:data-aquarium">
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Nobody" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules xmlns="urn:schemas-codeontime-com:data-aquarium">
      <rule id="r100" commandName="Calculate" type="Sql" phase="Execute">IF @ExpenseAmount IS NULL OR @Quantity IS NULL
  SET @Total = 0
ELSE
  SET @Total = @ExpenseAmount * @Quantity</rule>
    </businessRules>
  </dataController>
  <dataController name="ExpensesForPatient1" label="ExpensesForPatient1" conflictDetection="overwriteChanges">
    <commands xmlns="urn:schemas-codeontime-com:data-aquarium">
      <command id="command1" type="Text">
        <text>
select
	"Expenses"."ExpensesPK" "ExpensesPK"
	,"Expenses"."TreatmentFK" "TreatmentFK"
	,"TreatmentFK"."DateTreatment" "TreatmentfkDatetreatment"
	,"TreatmentFK"."Status" "TreatmentfkStatus"
	,"TreatmentFK"."PatientFK" "TreatmentfkPatientfk"
	,"TreatmentFKDialysisMachineFK"."Description" "TreatmentfkdialysismachinefkDescription"
	,"TreatmentFKPatientFK"."Name" "TreatmentfkpatientfkName"
	,"TreatmentFKShiftFK"."Description" "TreatmentFkshiftFkdescription"
	,"Expenses"."ExpenseTypeFK" "ExpenseTypeFK"
	,"ExpenseTypeFK"."Description" "ExpenseTypeFkdescription"
	,"Expenses"."ExpenseAmount" "ExpenseAmount"
	,"Expenses"."Quantity" "Quantity"
	,"Expenses"."PaymentType" "PaymentType"
	,"Expenses"."SponsorFK" "SponsorFK"
	,"Sponsor"."SponsorPK" "SponsorPK"
	,"Sponsor"."Code" "SponsorCode"
	,"Sponsor"."Name" "SponsorName"
	,"Expenses"."AmountPaid" "AmountPaid"
from "dbo"."Expenses" "Expenses"
	left join "dbo"."Treatment" "TreatmentFK" on "Expenses"."TreatmentFK" = "TreatmentFK"."TreatmentPK"
	left join "dbo"."DialysisMachine" "TreatmentFKDialysisMachineFK" on "TreatmentFK"."DialysisMachineFK" = "TreatmentFKDialysisMachineFK"."DialysisMachinePK"
	left join "dbo"."Patient" "TreatmentFKPatientFK" on "TreatmentFK"."PatientFK" = "TreatmentFKPatientFK"."PatientPK"
	left join "dbo"."Shift" "TreatmentFKShiftFK" on "TreatmentFK"."ShiftFK" = "TreatmentFKShiftFK"."ShiftPK"
	left join "dbo"."ExpenseType" "ExpenseTypeFK" on "Expenses"."ExpenseTypeFK" = "ExpenseTypeFK"."ExpenseTypePK"
	left join "dbo"."Sponsor" "Sponsor" on "Expenses"."SponsorFK" = "Sponsor"."SponsorPK"
</text>
      </command>
      <command id="ExpensesPKIdentityCommand" type="Text" event="Inserted">
        <text>select @@identity</text>
        <output>
          <fieldOutput fieldName="ExpensesPK" />
        </output>
      </command>
    </commands>
    <fields xmlns="urn:schemas-codeontime-com:data-aquarium">
      <field name="ExpensesPK" type="Int32" allowNulls="false" isPrimaryKey="true" label="Expenses PK" readOnly="true" />
      <field name="TreatmentFK" type="Int32" label="Treatment FK" showInSummary="true">
        <items style="Lookup" dataController="Treatment" newDataView="createForm1" dataValueField="TreatmentPK" dataTextField="DateTreatment" copy="TreatmentfkStatus=Status, TreatmentfkPatientfk=PatientFK, TreatmentfkdialysismachinefkDescription=DialysismachinefkDescription, TreatmentfkpatientfkName=PatientName, TreatmentFkshiftFkdescription=ShiftFkdescription" />
      </field>
      <field name="TreatmentfkDatetreatment" type="DateTime" readOnly="true" dataFormatString="dd/MM/yyyy" label="Treatment Date" />
      <field name="TreatmentfkStatus" type="String" readOnly="true" label="Treatment Status" length="1" />
      <field name="TreatmentfkPatientfk" type="Int32" readOnly="true" label="Treatmentfk Patientfk" />
      <field name="TreatmentfkdialysismachinefkDescription" type="String" readOnly="true" label="Machine" length="50" />
      <field name="TreatmentfkpatientfkName" type="String" readOnly="true" label="Name" length="100" />
      <field name="TreatmentFkshiftFkdescription" type="String" readOnly="true" label="Treatment Shift" length="50" />
      <field name="ExpenseTypeFK" type="Int32" label="Expense Type FK" showInSummary="true">
        <items style="Lookup" dataController="ExpenseType" newDataView="createForm1" dataValueField="ExpenseTypePK" dataTextField="Description" />
      </field>
      <field name="ExpenseTypeFkdescription" type="String" readOnly="true" label="Expenses Type" length="50" />
      <field name="ExpenseAmount" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Expense Amount" showInSummary="true" causesCalculate="true" />
      <field name="Quantity" type="Int32" allowNulls="false" default="((0))" label="Quantity" showInSummary="true" causesCalculate="true" />
      <field name="Total" type="Decimal" readOnly="true" dataFormatString="c" label="Total" computed="true" showInSummary="true" causesCalculate="true">
        <formula>Expenses.ExpenseAmount * Expenses.Quantity</formula>
      </field>
      <field name="PaymentType" type="String" allowNulls="false" default="('')" label="Payment Type" length="1">
        <items style="DropDownList">
          <item value="S" text="SPONSOR" />
          <item value="I" text="INDIVIDUAL" />
        </items>
      </field>
      <field name="SponsorFK" type="Int32" allowNulls="false" default="((0))" label="Sponsor FK">
        <items style="Lookup" dataController="Sponsor" newDataView="createForm1" dataValueField="SponsorPK" dataTextField="Name" copy="SponsorPK=SponsorPK, SponsorCode=Code" />
      </field>
      <field name="SponsorPK" type="Int32" label="Sponsor PK" readOnly="true" />
      <field name="SponsorCode" type="String" readOnly="true" label="Sponsor Code" length="10" />
      <field name="SponsorName" type="String" readOnly="true" label="Sponsor Name" length="100" />
      <field name="AmountPaid" type="Decimal" allowNulls="false" dataFormatString="c" default="((0))" label="Paid" />
    </fields>
    <views xmlns="urn:schemas-codeontime-com:data-aquarium">
      <view id="grid1" type="Grid" commandId="command1" label="Expenses" tags="view-style-grid" filter="PaymentType = 'I' &#xD;&#xA;AND &#xD;&#xA;ExpenseAmount = AmountPaid&#xD;&#xA;AND&#xD;&#xA;(@ContextFields_SelectedPatientFk is null OR TreatmentfkPatientfk =  @ContextFields_SelectedPatientFk) &#xD;&#xA;AND&#xD;&#xA;(@ContextFields_SelectedPatientFk is null OR ExpensesPK NOT IN (select ExpensesFk FROM PaymentDtl))&#xD;&#xA;">
        <headerText />
        <dataFields>
          <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" dataFormatString="dd/MM/yyyy" columns="10">
          </dataField>
          <dataField fieldName="TreatmentfkStatus" columns="1" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentfkPatientfk" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentfkpatientfkName" hidden="true">
          </dataField>
          <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" hidden="true">
          </dataField>
          <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
          <dataField fieldName="ExpenseAmount" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="Quantity" columns="15" hidden="true">
          </dataField>
          <dataField fieldName="Total" columns="15" aggregate="Sum">
          </dataField>
          <dataField fieldName="PaymentType" columns="1" hidden="true">
          </dataField>
          <dataField fieldName="AmountPaid" columns="15" aggregate="Sum">
          </dataField>
        </dataFields>
      </view>
      <view id="editForm1" type="Form" commandId="command1" label="Review Expenses" tags="material-icon-mode-edit">
        <headerText>$DefaultEditViewDescription</headerText>
        <categories>
          <category id="c1" headerText="Treatment Info">
            <description />
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" textMode="Static">
              </dataField>
              <dataField fieldName="TreatmentfkStatus" columns="1" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentfkPatientfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" hidden="true">
              </dataField>
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorName">
                <visibility>
                  <expression test="[PaymentType] == 'S'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="SponsorPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="SponsorCode" columns="10" hidden="true">
              </dataField>
            </dataFields>
          </category>
          <category headerText="Expenses" id="c2">
            <dataFields>
              <dataField fieldName="PaymentType" columns="1" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" textMode="Static">
              </dataField>
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="Quantity" columns="15" />
              <dataField fieldName="Total" columns="15" />
              <dataField fieldName="AmountPaid" columns="15" textMode="Static">
              </dataField>
            </dataFields>
          </category>
        </categories>
      </view>
      <view id="createForm1" type="Form" commandId="command1" label="New Expenses" tags="material-icon-note-add">
        <headerText />
        <categories>
          <category id="c1" headerText="New Expenses">
            <description>$DefaultNewDescription</description>
            <dataFields>
              <dataField fieldName="TreatmentFK" aliasFieldName="TreatmentfkDatetreatment" />
              <dataField fieldName="TreatmentfkStatus" columns="1" />
              <dataField fieldName="TreatmentfkPatientfk" columns="15" />
              <dataField fieldName="TreatmentfkdialysismachinefkDescription" columns="50" />
              <dataField fieldName="TreatmentfkpatientfkName" />
              <dataField fieldName="TreatmentFkshiftFkdescription" columns="50" />
              <dataField fieldName="ExpenseTypeFK" aliasFieldName="ExpenseTypeFkdescription" />
              <dataField fieldName="ExpenseAmount" columns="15" />
              <dataField fieldName="Quantity" columns="15" />
              <dataField fieldName="Total" columns="15" />
              <dataField fieldName="PaymentType" columns="1" />
              <dataField fieldName="SponsorFK" aliasFieldName="SponsorName">
                <visibility>
                  <expression test="[PaymentType] == 'S'" type="ClientScript" />
                </visibility>
              </dataField>
              <dataField fieldName="SponsorPK" columns="15" hidden="true">
              </dataField>
              <dataField fieldName="SponsorCode" columns="10" hidden="true">
              </dataField>
              <dataField fieldName="AmountPaid" columns="15" />
            </dataFields>
          </category>
        </categories>
      </view>
    </views>
    <actions xmlns="urn:schemas-codeontime-com:data-aquarium">
      <actionGroup id="ag1" scope="Grid">
        <action id="a1" commandName="Select" commandArgument="editForm1" />
        <action id="a2" commandName="Edit" />
        <action id="a3" commandName="Delete" />
        <action id="a6" />
        <action id="a7" commandName="New" commandArgument="grid1" roles="Nobody" />
        <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      </actionGroup>
      <actionGroup id="ag2" scope="Form">
        <action id="a1" commandName="Edit" />
        <action id="a2" commandName="Delete" />
        <action id="a3" commandName="Cancel" />
        <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
        <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
        <action id="a8" whenLastCommandName="New" commandName="Cancel" />
        <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
        <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
        <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
        <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
        <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" roles="Nobody" />
      </actionGroup>
      <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
        <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
        <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
      </actionGroup>
      <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
        <action id="a1" commandName="ExportCsv" />
        <action id="a2" />
        <action id="a3" commandName="ExportRowset" />
        <action id="a4" commandName="ExportRss" />
        <action id="a5" />
        <action id="a6" commandName="Import" commandArgument="createForm1" />
        <action id="a7" commandName="DataSheet" />
        <action id="a8" commandName="Grid" />
      </actionGroup>
      <actionGroup id="ag6" scope="ActionBar" headerText="Record">
        <action id="a1" whenLastCommandName="Edit" commandName="Update" />
        <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a3" whenLastCommandName="New" commandName="Insert" />
        <action id="a4" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
      <actionGroup id="ag7" scope="ActionBar" headerText="Report">
        <action id="a1" commandName="ReportAsPdf" />
        <action id="a2" commandName="ReportAsImage" />
        <action id="a3" commandName="ReportAsExcel" />
        <action id="a4" commandName="ReportAsWord" />
      </actionGroup>
      <actionGroup id="ag8" scope="Row">
        <action id="a4" whenLastCommandName="Edit" commandName="Update" />
        <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
        <action id="a6" whenLastCommandName="New" commandName="Insert" />
        <action id="a7" whenLastCommandName="New" commandName="Cancel" />
      </actionGroup>
    </actions>
    <businessRules xmlns="urn:schemas-codeontime-com:data-aquarium">
      <rule id="r100" commandName="Calculate" type="Sql" phase="Execute">IF @ExpenseAmount IS NULL OR @Quantity IS NULL
  SET @Total = 0
ELSE
  SET @Total = @ExpenseAmount * @Quantity</rule>
    </businessRules>
  </dataController>
</dataControllerCollection>